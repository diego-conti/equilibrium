var K0=Object.defineProperty,Z0=Object.defineProperties;var X0=Object.getOwnPropertyDescriptors;var uo=Object.getOwnPropertySymbols;var Mf=Object.prototype.hasOwnProperty,Tf=Object.prototype.propertyIsEnumerable;var If=(t,n,e)=>n in t?K0(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,w=(t,n)=>{for(var e in n||={})Mf.call(n,e)&&If(t,e,n[e]);if(uo)for(var e of uo(n))Tf.call(n,e)&&If(t,e,n[e]);return t},A=(t,n)=>Z0(t,X0(n));var Pf=(t,n)=>{var e={};for(var i in t)Mf.call(t,i)&&n.indexOf(i)<0&&(e[i]=t[i]);if(t!=null&&uo)for(var i of uo(t))n.indexOf(i)<0&&Tf.call(t,i)&&(e[i]=t[i]);return e};var fo=(t,n,e)=>new Promise((i,r)=>{var o=l=>{try{a(e.next(l))}catch(c){r(c)}},s=l=>{try{a(e.throw(l))}catch(c){r(c)}},a=l=>l.done?i(l.value):Promise.resolve(l.value).then(o,s);a((e=e.apply(t,n)).next())});var Af=null;var Ua=1,Ga=Symbol("SIGNAL");function se(t){let n=Af;return Af=t,n}var Of={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function J0(t){if(!(qa(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ua)){if(!t.producerMustRecompute(t)&&!za(t)){t.dirty=!1,t.lastCleanEpoch=Ua;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Ua}}function Nf(t){return t&&(t.nextProducerIndex=0),se(t)}function Rf(t,n){if(se(n),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(qa(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)Wa(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function za(t){ho(t);for(let n=0;n<t.producerNode.length;n++){let e=t.producerNode[n],i=t.producerLastReadVersion[n];if(i!==e.version||(J0(e),i!==e.version))return!0}return!1}function kf(t){if(ho(t),qa(t))for(let n=0;n<t.producerNode.length;n++)Wa(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Wa(t,n){if(ev(t),ho(t),t.liveConsumerNode.length===1)for(let i=0;i<t.producerNode.length;i++)Wa(t.producerNode[i],t.producerIndexOfThis[i]);let e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[n],r=t.liveConsumerNode[n];ho(r),r.producerIndexOfThis[i]=n}}function qa(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ho(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function ev(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function tv(){throw new Error}var nv=tv;function Ff(t){nv=t}function z(t){return typeof t=="function"}function gi(t){let e=t(i=>{Error.call(i),i.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var po=gi(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function Fn(t,n){if(t){let e=t.indexOf(n);0<=e&&t.splice(e,1)}}var Ae=class t{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:i}=this;if(z(i))try{i()}catch(o){n=o instanceof po?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{Lf(o)}catch(s){n=n??[],s instanceof po?n=[...n,...s.errors]:n.push(s)}}if(n)throw new po(n)}}add(n){var e;if(n&&n!==this)if(this.closed)Lf(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(n)}}_hasParent(n){let{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){let{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&Fn(e,n)}remove(n){let{_finalizers:e}=this;e&&Fn(e,n),n instanceof t&&n._removeParent(this)}};Ae.EMPTY=(()=>{let t=new Ae;return t.closed=!0,t})();var Ya=Ae.EMPTY;function go(t){return t instanceof Ae||t&&"closed"in t&&z(t.remove)&&z(t.add)&&z(t.unsubscribe)}function Lf(t){z(t)?t():t.unsubscribe()}var wt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var mi={setTimeout(t,n,...e){let{delegate:i}=mi;return i?.setTimeout?i.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){let{delegate:n}=mi;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function mo(t){mi.setTimeout(()=>{let{onUnhandledError:n}=wt;if(n)n(t);else throw t})}function ar(){}var Vf=Qa("C",void 0,void 0);function jf(t){return Qa("E",void 0,t)}function $f(t){return Qa("N",t,void 0)}function Qa(t,n,e){return{kind:t,value:n,error:e}}var Ln=null;function yi(t){if(wt.useDeprecatedSynchronousErrorHandling){let n=!Ln;if(n&&(Ln={errorThrown:!1,error:null}),t(),n){let{errorThrown:e,error:i}=Ln;if(Ln=null,e)throw i}}else t()}function Bf(t){wt.useDeprecatedSynchronousErrorHandling&&Ln&&(Ln.errorThrown=!0,Ln.error=t)}var Vn=class extends Ae{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,go(n)&&n.add(this)):this.destination=ov}static create(n,e,i){return new vi(n,e,i)}next(n){this.isStopped?Za($f(n),this):this._next(n)}error(n){this.isStopped?Za(jf(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Za(Vf,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},iv=Function.prototype.bind;function Ka(t,n){return iv.call(t,n)}var Xa=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(i){yo(i)}}error(n){let{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(i){yo(i)}else yo(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){yo(e)}}},vi=class extends Vn{constructor(n,e,i){super();let r;if(z(n)||!n)r={next:n??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&wt.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&Ka(n.next,o),error:n.error&&Ka(n.error,o),complete:n.complete&&Ka(n.complete,o)}):r=n}this.destination=new Xa(r)}};function yo(t){wt.useDeprecatedSynchronousErrorHandling?Bf(t):mo(t)}function rv(t){throw t}function Za(t,n){let{onStoppedNotification:e}=wt;e&&mi.setTimeout(()=>e(t,n))}var ov={closed:!0,next:ar,error:rv,complete:ar};var _i=typeof Symbol=="function"&&Symbol.observable||"@@observable";function rt(t){return t}function Ja(...t){return el(t)}function el(t){return t.length===0?rt:t.length===1?t[0]:function(e){return t.reduce((i,r)=>r(i),e)}}var ae=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){let i=new t;return i.source=this,i.operator=e,i}subscribe(e,i,r){let o=av(e)?e:new vi(e,i,r);return yi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return i=Hf(i),new i((r,o)=>{let s=new vi({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(e)}[_i](){return this}pipe(...e){return el(e)(this)}toPromise(e){return e=Hf(e),new e((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return t.create=n=>new t(n),t})();function Hf(t){var n;return(n=t??wt.Promise)!==null&&n!==void 0?n:Promise}function sv(t){return t&&z(t.next)&&z(t.error)&&z(t.complete)}function av(t){return t&&t instanceof Vn||sv(t)&&go(t)}function tl(t){return z(t?.lift)}function ie(t){return n=>{if(tl(n))return n.lift(function(e){try{return t(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function te(t,n,e,i,r){return new nl(t,n,e,i,r)}var nl=class extends Vn{constructor(n,e,i,r,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){n.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function Ci(){return ie((t,n)=>{let e=null;t._refCount++;let i=te(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){e=null;return}let r=t._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),n.unsubscribe()});t.subscribe(i),i.closed||(e=t.connect())})}var bi=class extends ae{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,tl(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Ae;let e=this.getSubject();n.add(this.source.subscribe(te(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Ae.EMPTY)}return n}refCount(){return Ci()(this)}};var Uf=gi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var we=(()=>{class t extends ae{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let i=new vo(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new Uf}next(e){yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(e)}})}error(e){yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:i,isStopped:r,observers:o}=this;return i||r?Ya:(this.currentObservers=null,o.push(e),new Ae(()=>{this.currentObservers=null,Fn(o,e)}))}_checkFinalizedStatuses(e){let{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){let e=new ae;return e.source=this,e}}return t.create=(n,e)=>new vo(n,e),t})(),vo=class extends we{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.next)===null||i===void 0||i.call(e,n)}error(n){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.error)===null||i===void 0||i.call(e,n)}complete(){var n,e;(e=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||e===void 0||e.call(n)}_subscribe(n){var e,i;return(i=(e=this.source)===null||e===void 0?void 0:e.subscribe(n))!==null&&i!==void 0?i:Ya}};var de=class extends we{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){let{hasError:n,thrownError:e,_value:i}=this;if(n)throw e;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}};var il={now(){return(il.delegate||Date).now()},delegate:void 0};var _o=class extends Ae{constructor(n,e){super()}schedule(n,e=0){return this}};var lr={setInterval(t,n,...e){let{delegate:i}=lr;return i?.setInterval?i.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){let{delegate:n}=lr;return(n?.clearInterval||clearInterval)(t)},delegate:void 0};var Co=class extends _o{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var i;if(this.closed)return this;this.state=n;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,e),this}requestAsyncId(n,e,i=0){return lr.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,e,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return e;e!=null&&lr.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(n,e);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let i=!1,r;try{this.work(n)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:n,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Fn(i,this),n!=null&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}};var wi=class t{constructor(n,e=t.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,i){return new this.schedulerActionCtor(this,n).schedule(i,e)}};wi.now=il.now;var bo=class extends wi{constructor(n,e=wi.now){super(n,e),this.actions=[],this._active=!1}flush(n){let{actions:e}=this;if(this._active){e.push(n);return}let i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=e.shift());if(this._active=!1,i){for(;n=e.shift();)n.unsubscribe();throw i}}};var lv=new bo(Co),Gf=lv;var ot=new ae(t=>t.complete());function wo(t){return t&&z(t.schedule)}function zf(t){return t[t.length-1]}function So(t){return z(zf(t))?t.pop():void 0}function fn(t){return wo(zf(t))?t.pop():void 0}function qf(t,n,e,i){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function a(h){try{c(i.next(h))}catch(p){s(p)}}function l(h){try{c(i.throw(h))}catch(p){s(p)}}function c(h){h.done?o(h.value):r(h.value).then(a,l)}c((i=i.apply(t,n||[])).next())})}function Wf(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],i=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function jn(t){return this instanceof jn?(this.v=t,this):new jn(t)}function Yf(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e.apply(t,n||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(m){return function(C){return Promise.resolve(C).then(m,p)}}function a(m,C){i[m]&&(r[m]=function(S){return new Promise(function(B,$){o.push([m,S,B,$])>1||l(m,S)})},C&&(r[m]=C(r[m])))}function l(m,C){try{c(i[m](C))}catch(S){v(o[0][3],S)}}function c(m){m.value instanceof jn?Promise.resolve(m.value.v).then(h,p):v(o[0][2],m)}function h(m){l("next",m)}function p(m){l("throw",m)}function v(m,C){m(C),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Qf(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t[Symbol.asyncIterator],e;return n?n.call(t):(t=typeof Wf=="function"?Wf(t):t[Symbol.iterator](),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var Eo=t=>t&&typeof t.length=="number"&&typeof t!="function";function Do(t){return z(t?.then)}function xo(t){return z(t[_i])}function Io(t){return Symbol.asyncIterator&&z(t?.[Symbol.asyncIterator])}function Mo(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function cv(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var To=cv();function Po(t){return z(t?.[To])}function Ao(t){return Yf(this,arguments,function*(){let e=t.getReader();try{for(;;){let{value:i,done:r}=yield jn(e.read());if(r)return yield jn(void 0);yield yield jn(i)}}finally{e.releaseLock()}})}function Oo(t){return z(t?.getReader)}function Re(t){if(t instanceof ae)return t;if(t!=null){if(xo(t))return uv(t);if(Eo(t))return dv(t);if(Do(t))return fv(t);if(Io(t))return Kf(t);if(Po(t))return hv(t);if(Oo(t))return pv(t)}throw Mo(t)}function uv(t){return new ae(n=>{let e=t[_i]();if(z(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function dv(t){return new ae(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}function fv(t){return new ae(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,mo)})}function hv(t){return new ae(n=>{for(let e of t)if(n.next(e),n.closed)return;n.complete()})}function Kf(t){return new ae(n=>{gv(t,n).catch(e=>n.error(e))})}function pv(t){return Kf(Ao(t))}function gv(t,n){var e,i,r,o;return qf(this,void 0,void 0,function*(){try{for(e=Qf(t);i=yield e.next(),!i.done;){let s=i.value;if(n.next(s),n.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}n.complete()})}function Ye(t,n,e,i=0,r=!1){let o=n.schedule(function(){e(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function No(t,n=0){return ie((e,i)=>{e.subscribe(te(i,r=>Ye(i,t,()=>i.next(r),n),()=>Ye(i,t,()=>i.complete(),n),r=>Ye(i,t,()=>i.error(r),n)))})}function Ro(t,n=0){return ie((e,i)=>{i.add(t.schedule(()=>e.subscribe(i),n))})}function Zf(t,n){return Re(t).pipe(Ro(n),No(n))}function Xf(t,n){return Re(t).pipe(Ro(n),No(n))}function Jf(t,n){return new ae(e=>{let i=0;return n.schedule(function(){i===t.length?e.complete():(e.next(t[i++]),e.closed||this.schedule())})})}function eh(t,n){return new ae(e=>{let i;return Ye(e,n,()=>{i=t[To](),Ye(e,n,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){e.error(s);return}o?e.complete():e.next(r)},0,!0)}),()=>z(i?.return)&&i.return()})}function ko(t,n){if(!t)throw new Error("Iterable cannot be null");return new ae(e=>{Ye(e,n,()=>{let i=t[Symbol.asyncIterator]();Ye(e,n,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function th(t,n){return ko(Ao(t),n)}function nh(t,n){if(t!=null){if(xo(t))return Zf(t,n);if(Eo(t))return Jf(t,n);if(Do(t))return Xf(t,n);if(Io(t))return ko(t,n);if(Po(t))return eh(t,n);if(Oo(t))return th(t,n)}throw Mo(t)}function Oe(t,n){return n?nh(t,n):Re(t)}function W(...t){let n=fn(t);return Oe(t,n)}function Si(t,n){let e=z(t)?t:()=>t,i=r=>r.error(e());return new ae(n?r=>n.schedule(i,0,r):i)}function rl(t){return!!t&&(t instanceof ae||z(t.lift)&&z(t.subscribe))}var Qt=gi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ih(t){return t instanceof Date&&!isNaN(t)}function U(t,n){return ie((e,i)=>{let r=0;e.subscribe(te(i,o=>{i.next(t.call(n,o,r++))}))})}var{isArray:mv}=Array;function yv(t,n){return mv(n)?t(...n):t(n)}function Fo(t){return U(n=>yv(t,n))}var{isArray:vv}=Array,{getPrototypeOf:_v,prototype:Cv,keys:bv}=Object;function Lo(t){if(t.length===1){let n=t[0];if(vv(n))return{args:n,keys:null};if(wv(n)){let e=bv(n);return{args:e.map(i=>n[i]),keys:e}}}return{args:t,keys:null}}function wv(t){return t&&typeof t=="object"&&_v(t)===Cv}function Vo(t,n){return t.reduce((e,i,r)=>(e[i]=n[r],e),{})}function jo(...t){let n=fn(t),e=So(t),{args:i,keys:r}=Lo(t);if(i.length===0)return Oe([],n);let o=new ae(Sv(i,n,r?s=>Vo(r,s):rt));return e?o.pipe(Fo(e)):o}function Sv(t,n,e=rt){return i=>{rh(n,()=>{let{length:r}=t,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)rh(n,()=>{let c=Oe(t[l],n),h=!1;c.subscribe(te(i,p=>{o[l]=p,h||(h=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function rh(t,n,e){t?Ye(e,t,n):n()}function oh(t,n,e,i,r,o,s,a){let l=[],c=0,h=0,p=!1,v=()=>{p&&!l.length&&!c&&n.complete()},m=S=>c<i?C(S):l.push(S),C=S=>{o&&n.next(S),c++;let B=!1;Re(e(S,h++)).subscribe(te(n,$=>{r?.($),o?m($):n.next($)},()=>{B=!0},void 0,()=>{if(B)try{for(c--;l.length&&c<i;){let $=l.shift();s?Ye(n,s,()=>C($)):C($)}v()}catch($){n.error($)}}))};return t.subscribe(te(n,m,()=>{p=!0,v()})),()=>{a?.()}}function ke(t,n,e=1/0){return z(n)?ke((i,r)=>U((o,s)=>n(i,o,r,s))(Re(t(i,r))),e):(typeof n=="number"&&(e=n),ie((i,r)=>oh(i,r,t,e)))}function ol(t=1/0){return ke(rt,t)}function sh(){return ol(1)}function Ei(...t){return sh()(Oe(t,fn(t)))}function $o(t){return new ae(n=>{Re(t()).subscribe(n)})}function sl(...t){let n=So(t),{args:e,keys:i}=Lo(t),r=new ae(o=>{let{length:s}=e;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let h=0;h<s;h++){let p=!1;Re(e[h]).subscribe(te(o,v=>{p||(p=!0,c--),a[h]=v},()=>l--,void 0,()=>{(!l||!p)&&(c||o.next(i?Vo(i,a):a),o.complete())}))}});return n?r.pipe(Fo(n)):r}function Di(t=0,n,e=Gf){let i=-1;return n!=null&&(wo(n)?e=n:i=n),new ae(r=>{let o=ih(t)?+t-e.now():t;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function St(t,n){return ie((e,i)=>{let r=0;e.subscribe(te(i,o=>t.call(n,o,r++)&&i.next(o)))})}function hn(t){return ie((n,e)=>{let i=null,r=!1,o;i=n.subscribe(te(e,void 0,void 0,s=>{o=Re(t(s,hn(t)(n))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function ah(t,n,e,i,r){return(o,s)=>{let a=e,l=n,c=0;o.subscribe(te(s,h=>{let p=c++;l=a?t(l,h,p):(a=!0,h),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function xi(t,n){return z(n)?ke(t,n,1):ke(t,1)}function pn(t){return ie((n,e)=>{let i=!1;n.subscribe(te(e,r=>{i=!0,e.next(r)},()=>{i||e.next(t),e.complete()}))})}function Kt(t){return t<=0?()=>ot:ie((n,e)=>{let i=0;n.subscribe(te(e,r=>{++i<=t&&(e.next(r),t<=i&&e.complete())}))})}function al(t){return U(()=>t)}function Bo(t=Ev){return ie((n,e)=>{let i=!1;n.subscribe(te(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(t())))})}function Ev(){return new Qt}function cr(t){return ie((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function Rt(t,n){let e=arguments.length>=2;return i=>i.pipe(t?St((r,o)=>t(r,o,i)):rt,Kt(1),e?pn(n):Bo(()=>new Qt))}function Ii(t){return t<=0?()=>ot:ie((n,e)=>{let i=[];n.subscribe(te(e,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function ll(t,n){let e=arguments.length>=2;return i=>i.pipe(t?St((r,o)=>t(r,o,i)):rt,Ii(1),e?pn(n):Bo(()=>new Qt))}function cl(t,n){return ie(ah(t,n,arguments.length>=2,!0))}function ul(...t){let n=fn(t);return ie((e,i)=>{(n?Ei(t,e,n):Ei(t,e)).subscribe(i)})}function Et(t,n){return ie((e,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();e.subscribe(te(i,l=>{r?.unsubscribe();let c=0,h=o++;Re(t(l,h)).subscribe(r=te(i,p=>i.next(n?n(l,p,h,c++):p),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function De(t){return ie((n,e)=>{Re(t).subscribe(te(e,()=>e.complete(),ar)),!e.closed&&n.subscribe(e)})}function je(t,n,e){let i=z(t)||n||e?{next:t,error:n,complete:e}:t;return i?ie((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(te(o,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),o.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),o.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):rt}var qh="https://g.co/ng/security#xss",E=class extends Error{constructor(n,e){super(Ic(n,e)),this.code=n}};function Ic(t,n){return`${`NG0${Math.abs(t)}`}${n?": "+n:""}`}function wr(t){return{toString:t}.toString()}var Ho="__parameters__";function Dv(t){return function(...e){if(t){let i=t(...e);for(let r in i)this[r]=i[r]}}}function Yh(t,n,e){return wr(()=>{let i=Dv(n);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,c,h){let p=l.hasOwnProperty(Ho)?l[Ho]:Object.defineProperty(l,Ho,{value:[]})[Ho];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var Zt=globalThis;function ye(t){for(let n in t)if(t[n]===ye)return n;throw Error("Could not find renamed property on target object.")}function xv(t,n){for(let e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function ze(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ze).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let n=t.toString();if(n==null)return""+n;let e=n.indexOf(`
`);return e===-1?n:n.substring(0,e)}function xl(t,n){return t==null||t===""?n===null?"":n:n==null||n===""?t:t+" "+n}var Iv=ye({__forward_ref__:ye});function Sr(t){return t.__forward_ref__=Sr,t.toString=function(){return ze(this())},t}function Ge(t){return Qh(t)?t():t}function Qh(t){return typeof t=="function"&&t.hasOwnProperty(Iv)&&t.__forward_ref__===Sr}function x(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Cn(t){return{providers:t.providers||[],imports:t.imports||[]}}function _s(t){return lh(t,Zh)||lh(t,Xh)}function Kh(t){return _s(t)!==null}function lh(t,n){return t.hasOwnProperty(n)?t[n]:null}function Mv(t){let n=t&&(t[Zh]||t[Xh]);return n||null}function ch(t){return t&&(t.hasOwnProperty(uh)||t.hasOwnProperty(Tv))?t[uh]:null}var Zh=ye({\u0275prov:ye}),uh=ye({\u0275inj:ye}),Xh=ye({ngInjectableDef:ye}),Tv=ye({ngInjectorDef:ye}),Y=class{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=x({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Jh(t){return t&&!!t.\u0275providers}var Pv=ye({\u0275cmp:ye}),Av=ye({\u0275dir:ye}),Ov=ye({\u0275pipe:ye}),Nv=ye({\u0275mod:ye}),es=ye({\u0275fac:ye}),ur=ye({__NG_ELEMENT_ID__:ye}),dh=ye({__NG_ENV_ID__:ye});function Lt(t){return typeof t=="string"?t:t==null?"":String(t)}function Rv(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Lt(t)}function kv(t,n){let e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new E(-200,t)}function Mc(t,n){throw new E(-201,!1)}var J=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(J||{}),Il;function ep(){return Il}function Qe(t){let n=Il;return Il=t,n}function tp(t,n,e){let i=_s(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(e&J.Optional)return null;if(n!==void 0)return n;Mc(t,"Injector")}var Fv={},dr=Fv,Ml="__NG_DI_FLAG__",ts="ngTempTokenPath",Lv="ngTokenPath",Vv=/\n/gm,jv="\u0275",fh="__source",Ai;function $v(){return Ai}function gn(t){let n=Ai;return Ai=t,n}function Bv(t,n=J.Default){if(Ai===void 0)throw new E(-203,!1);return Ai===null?tp(t,void 0,n):Ai.get(t,n&J.Optional?null:void 0,n)}function k(t,n=J.Default){return(ep()||Bv)(Ge(t),n)}function O(t,n=J.Default){return k(t,Cs(n))}function Cs(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Tl(t){let n=[];for(let e=0;e<t.length;e++){let i=Ge(t[e]);if(Array.isArray(i)){if(i.length===0)throw new E(900,!1);let r,o=J.Default;for(let s=0;s<i.length;s++){let a=i[s],l=Hv(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}n.push(k(r,o))}else n.push(k(i))}return n}function np(t,n){return t[Ml]=n,t.prototype[Ml]=n,t}function Hv(t){return t[Ml]}function Uv(t,n,e,i){let r=t[ts];throw n[fh]&&r.unshift(n[fh]),t.message=Gv(`
`+t.message,r,e,i),t[Lv]=r,t[ts]=null,t}function Gv(t,n,e,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==jv?t.slice(2):t;let r=ze(n);if(Array.isArray(n))r=n.map(ze).join(" -> ");else if(typeof n=="object"){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):ze(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${t.replace(Vv,`
  `)}`}var Tc=np(Yh("Optional"),8);var ip=np(Yh("SkipSelf"),4);function Hn(t,n){let e=t.hasOwnProperty(es);return e?t[es]:null}function zv(t,n,e){if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=n[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}function Wv(t){return t.flat(Number.POSITIVE_INFINITY)}function Pc(t,n){t.forEach(e=>Array.isArray(e)?Pc(e,n):n(e))}function rp(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function ns(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function qv(t,n,e,i){let r=t.length;if(r==n)t.push(e,i);else if(r===1)t.push(i,t[0]),t[0]=e;else{for(r--,t.push(t[r-1],t[r]);r>n;){let o=r-2;t[r]=t[o],r--}t[n]=e,t[n+1]=i}}function Ac(t,n,e){let i=Er(t,n);return i>=0?t[i|1]=e:(i=~i,qv(t,i,n,e)),i}function dl(t,n){let e=Er(t,n);if(e>=0)return t[e|1]}function Er(t,n){return Yv(t,n,1)}function Yv(t,n,e){let i=0,r=t.length>>e;for(;r!==i;){let o=i+(r-i>>1),s=t[o<<e];if(n===s)return o<<e;s>n?r=o:i=o+1}return~(r<<e)}var Ni={},Ke=[],Ri=new Y(""),op=new Y("",-1),sp=new Y(""),is=class{get(n,e=dr){if(e===dr){let i=new Error(`NullInjectorError: No provider for ${ze(n)}!`);throw i.name="NullInjectorError",i}return e}},ap=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ap||{}),Vt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Vt||{}),We=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(We||{});function Qv(t,n,e){let i=t.length;for(;;){let r=t.indexOf(n,e);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=n.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}e=r+1}}function Pl(t,n,e){let i=0;for(;i<e.length;){let r=e[i];if(typeof r=="number"){if(r!==0)break;i++;let o=e[i++],s=e[i++],a=e[i++];t.setAttribute(n,s,a,o)}else{let o=r,s=e[++i];Zv(o)?t.setProperty(n,o,s):t.setAttribute(n,o,s),i++}}return i}function Kv(t){return t===3||t===4||t===6}function Zv(t){return t.charCodeAt(0)===64}function fr(t,n){if(!(n===null||n.length===0))if(t===null||t.length===0)t=n.slice();else{let e=-1;for(let i=0;i<n.length;i++){let r=n[i];typeof r=="number"?e=r:e===0||(e===-1||e===2?hh(t,e,r,null,n[++i]):hh(t,e,r,null,null))}}return t}function hh(t,n,e,i,r){let o=0,s=t.length;if(n===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===n){s=-1;break}else if(a>n){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===e){if(i===null){r!==null&&(t[o+1]=r);return}else if(i===t[o+1]){t[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(t.splice(s,0,n),o=s+1),t.splice(o++,0,e),i!==null&&t.splice(o++,0,i),r!==null&&t.splice(o++,0,r)}var lp="ng-template";function Xv(t,n,e,i){let r=0;if(i){for(;r<n.length&&typeof n[r]=="string";r+=2)if(n[r]==="class"&&Qv(n[r+1].toLowerCase(),e,0)!==-1)return!0}else if(Oc(t))return!1;if(r=n.indexOf(1,r),r>-1){let o;for(;++r<n.length&&typeof(o=n[r])=="string";)if(o.toLowerCase()===e)return!0}return!1}function Oc(t){return t.type===4&&t.value!==lp}function Jv(t,n,e){let i=t.type===4&&!e?lp:t.value;return n===i}function e_(t,n,e){let i=4,r=t.attrs,o=r!==null?i_(r):0,s=!1;for(let a=0;a<n.length;a++){let l=n[a];if(typeof l=="number"){if(!s&&!Dt(i)&&!Dt(l))return!1;if(s&&Dt(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!Jv(t,l,e)||l===""&&n.length===1){if(Dt(i))return!1;s=!0}}else if(i&8){if(r===null||!Xv(t,r,l,e)){if(Dt(i))return!1;s=!0}}else{let c=n[++a],h=t_(l,r,Oc(t),e);if(h===-1){if(Dt(i))return!1;s=!0;continue}if(c!==""){let p;if(h>o?p="":p=r[h+1].toLowerCase(),i&2&&c!==p){if(Dt(i))return!1;s=!0}}}}return Dt(i)||s}function Dt(t){return(t&1)===0}function t_(t,n,e,i){if(n===null)return-1;let r=0;if(i||!e){let o=!1;for(;r<n.length;){let s=n[r];if(s===t)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=n[++r];for(;typeof a=="string";)a=n[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return r_(n,t)}function n_(t,n,e=!1){for(let i=0;i<n.length;i++)if(e_(t,n[i],e))return!0;return!1}function i_(t){for(let n=0;n<t.length;n++){let e=t[n];if(Kv(e))return n}return t.length}function r_(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){let i=t[e];if(typeof i=="number")return-1;if(i===n)return e;e++}return-1}function ph(t,n){return t?":not("+n.trim()+")":n}function o_(t){let n=t[0],e=1,i=2,r="",o=!1;for(;e<t.length;){let s=t[e];if(typeof s=="string")if(i&2){let a=t[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!Dt(s)&&(n+=ph(o,r),r=""),i=s,o=o||!Dt(i);e++}return r!==""&&(n+=ph(o,r)),n}function s_(t){return t.map(o_).join(",")}function a_(t){let n=[],e=[],i=1,r=2;for(;i<t.length;){let o=t[i];if(typeof o=="string")r===2?o!==""&&n.push(o,t[++i]):r===8&&e.push(o);else{if(!Dt(r))break;r=o}i++}return{attrs:n,classes:e}}function fe(t){return wr(()=>{let n=hp(t),e=A(w({},n),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ap.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Vt.Emulated,styles:t.styles||Ke,_:null,schemas:t.schemas||null,tView:null,id:""});pp(e);let i=t.dependencies;return e.directiveDefs=mh(i,!1),e.pipeDefs=mh(i,!0),e.id=u_(e),e})}function l_(t){return Un(t)||cp(t)}function c_(t){return t!==null}function bn(t){return wr(()=>({type:t.type,bootstrap:t.bootstrap||Ke,declarations:t.declarations||Ke,imports:t.imports||Ke,exports:t.exports||Ke,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function gh(t,n){if(t==null)return Ni;let e={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],o,s,a=We.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),n?(e[o]=a!==We.None?[i,a]:i,n[o]=s):e[o]=i}return e}function Ze(t){return wr(()=>{let n=hp(t);return pp(n),n})}function bs(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Un(t){return t[Pv]||null}function cp(t){return t[Av]||null}function up(t){return t[Ov]||null}function dp(t){let n=Un(t)||cp(t)||up(t);return n!==null?n.standalone:!1}function fp(t,n){let e=t[Nv]||null;if(!e&&n===!0)throw new Error(`Type ${ze(t)} does not have '\u0275mod' property.`);return e}function hp(t){let n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Ni,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Ke,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:gh(t.inputs,n),outputs:gh(t.outputs),debugInfo:null}}function pp(t){t.features?.forEach(n=>n(t))}function mh(t,n){if(!t)return null;let e=n?up:l_;return()=>(typeof t=="function"?t():t).map(i=>e(i)).filter(c_)}function u_(t){let n=0,e=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of e)n=Math.imul(31,n)+r.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function ws(t){return{\u0275providers:t}}function d_(...t){return{\u0275providers:gp(!0,t),\u0275fromNgModule:!0}}function gp(t,...n){let e=[],i=new Set,r,o=s=>{e.push(s)};return Pc(n,s=>{let a=s;Al(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&mp(r,o),e}function mp(t,n){for(let e=0;e<t.length;e++){let{ngModule:i,providers:r}=t[e];Nc(r,o=>{n(o,i)})}}function Al(t,n,e,i){if(t=Ge(t),!t)return!1;let r=null,o=ch(t),s=!o&&Un(t);if(!o&&!s){let l=t.ngModule;if(o=ch(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=t}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Al(c,n,e,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let c;try{Pc(o.imports,h=>{Al(h,n,e,i)&&(c||=[],c.push(h))})}finally{}c!==void 0&&mp(c,n)}if(!a){let c=Hn(r)||(()=>new r);n({provide:r,useFactory:c,deps:Ke},r),n({provide:sp,useValue:r,multi:!0},r),n({provide:Ri,useValue:()=>k(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let c=t;Nc(l,h=>{n(h,c)})}}else return!1;return r!==t&&t.providers!==void 0}function Nc(t,n){for(let e of t)Jh(e)&&(e=e.\u0275providers),Array.isArray(e)?Nc(e,n):n(e)}var f_=ye({provide:String,useValue:ye});function yp(t){return t!==null&&typeof t=="object"&&f_ in t}function h_(t){return!!(t&&t.useExisting)}function p_(t){return!!(t&&t.useFactory)}function ki(t){return typeof t=="function"}function g_(t){return!!t.useClass}var Ss=new Y(""),Yo={},m_={},fl;function Rc(){return fl===void 0&&(fl=new is),fl}var mt=class{},hr=class extends mt{get destroyed(){return this._destroyed}constructor(n,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Nl(n,s=>this.processProvider(s)),this.records.set(op,Mi(void 0,this)),r.has("environment")&&this.records.set(mt,Mi(void 0,this));let o=this.records.get(Ss);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(sp,Ke,J.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let n=se(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of e)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),se(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();let e=gn(this),i=Qe(void 0),r;try{return n()}finally{gn(e),Qe(i)}}get(n,e=dr,i=J.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(dh))return n[dh](this);i=Cs(i);let r,o=gn(this),s=Qe(void 0);try{if(!(i&J.SkipSelf)){let l=this.records.get(n);if(l===void 0){let c=b_(n)&&_s(n);c&&this.injectableDefInScope(c)?l=Mi(Ol(n),Yo):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l)}let a=i&J.Self?Rc():this.parent;return e=i&J.Optional&&e===dr?null:e,a.get(n,e)}catch(a){if(a.name==="NullInjectorError"){if((a[ts]=a[ts]||[]).unshift(ze(n)),o)throw a;return Uv(a,n,"R3InjectorError",this.source)}else throw a}finally{Qe(s),gn(o)}}resolveInjectorInitializers(){let n=se(null),e=gn(this),i=Qe(void 0),r;try{let o=this.get(Ri,Ke,J.Self);for(let s of o)s()}finally{gn(e),Qe(i),se(n)}}toString(){let n=[],e=this.records;for(let i of e.keys())n.push(ze(i));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new E(205,!1)}processProvider(n){n=Ge(n);let e=ki(n)?n:Ge(n&&n.provide),i=v_(n);if(!ki(n)&&n.multi===!0){let r=this.records.get(e);r||(r=Mi(void 0,Yo,!0),r.factory=()=>Tl(r.multi),this.records.set(e,r)),e=n,r.multi.push(n)}this.records.set(e,i)}hydrate(n,e){let i=se(null);try{return e.value===Yo&&(e.value=m_,e.value=e.factory()),typeof e.value=="object"&&e.value&&C_(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{se(i)}}injectableDefInScope(n){if(!n.providedIn)return!1;let e=Ge(n.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){let e=this._onDestroyHooks.indexOf(n);e!==-1&&this._onDestroyHooks.splice(e,1)}};function Ol(t){let n=_s(t),e=n!==null?n.factory:Hn(t);if(e!==null)return e;if(t instanceof Y)throw new E(204,!1);if(t instanceof Function)return y_(t);throw new E(204,!1)}function y_(t){if(t.length>0)throw new E(204,!1);let e=Mv(t);return e!==null?()=>e.factory(t):()=>new t}function v_(t){if(yp(t))return Mi(void 0,t.useValue);{let n=vp(t);return Mi(n,Yo)}}function vp(t,n,e){let i;if(ki(t)){let r=Ge(t);return Hn(r)||Ol(r)}else if(yp(t))i=()=>Ge(t.useValue);else if(p_(t))i=()=>t.useFactory(...Tl(t.deps||[]));else if(h_(t))i=()=>k(Ge(t.useExisting));else{let r=Ge(t&&(t.useClass||t.provide));if(__(t))i=()=>new r(...Tl(t.deps));else return Hn(r)||Ol(r)}return i}function Mi(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function __(t){return!!t.deps}function C_(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function b_(t){return typeof t=="function"||typeof t=="object"&&t instanceof Y}function Nl(t,n){for(let e of t)Array.isArray(e)?Nl(e,n):e&&Jh(e)?Nl(e.\u0275providers,n):n(e)}function Jn(t,n){t instanceof hr&&t.assertNotDestroyed();let e,i=gn(t),r=Qe(void 0);try{return n()}finally{gn(i),Qe(r)}}function w_(){return ep()!==void 0||$v()!=null}function S_(t){return typeof t=="function"}var nn=0,Z=1,G=2,$e=3,It=4,Pt=5,rs=6,pr=7,Mt=8,Fi=9,Tt=10,Ne=11,gr=12,yh=13,$i=14,jt=15,Dr=16,Ti=17,Xt=18,Es=19,_p=20,mn=21,hl=22,Gn=23,yt=25,Cp=1;var zn=7,os=8,Li=9,st=10,kc=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(kc||{});function $n(t){return Array.isArray(t)&&typeof t[Cp]=="object"}function rn(t){return Array.isArray(t)&&t[Cp]===!0}function Fc(t){return(t.flags&4)!==0}function Ds(t){return t.componentOffset>-1}function xs(t){return(t.flags&1)===1}function yn(t){return!!t.template}function E_(t){return(t[G]&512)!==0}var Rl=class{constructor(n,e,i){this.previousValue=n,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}};function bp(t,n,e,i){n!==null?n.applyValueToInputSignal(n,i):t[e]=i}function Bi(){return wp}function wp(t){return t.type.prototype.ngOnChanges&&(t.setInput=x_),D_}Bi.ngInherit=!0;function D_(){let t=Ep(this),n=t?.current;if(n){let e=t.previous;if(e===Ni)t.previous=n;else for(let i in n)e[i]=n[i];t.current=null,this.ngOnChanges(n)}}function x_(t,n,e,i,r){let o=this.declaredInputs[i],s=Ep(t)||I_(t,{previous:Ni,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new Rl(c&&c.currentValue,e,l===Ni),bp(t,n,r,e)}var Sp="__ngSimpleChanges__";function Ep(t){return t[Sp]||null}function I_(t,n){return t[Sp]=n}var vh=null;var kt=function(t,n,e){vh?.(t,n,e)},Dp="svg",M_="math",T_=!1;function P_(){return T_}function $t(t){for(;Array.isArray(t);)t=t[nn];return t}function xp(t,n){return $t(n[t])}function vt(t,n){return $t(n[t.index])}function Ip(t,n){return t.data[n]}function Mp(t,n){return t[n]}function wn(t,n){let e=n[t];return $n(e)?e:e[nn]}function A_(t){return(t[G]&4)===4}function Lc(t){return(t[G]&128)===128}function O_(t){return rn(t[$e])}function Vi(t,n){return n==null?null:t[n]}function Tp(t){t[Ti]=0}function N_(t){t[G]&1024||(t[G]|=1024,Lc(t)&&mr(t))}function R_(t,n){for(;t>0;)n=n[$i],t--;return n}function Vc(t){return!!(t[G]&9216||t[Gn]?.dirty)}function kl(t){t[Tt].changeDetectionScheduler?.notify(1),Vc(t)?mr(t):t[G]&64&&(P_()?(t[G]|=1024,mr(t)):t[Tt].changeDetectionScheduler?.notify())}function mr(t){t[Tt].changeDetectionScheduler?.notify();let n=yr(t);for(;n!==null&&!(n[G]&8192||(n[G]|=8192,!Lc(n)));)n=yr(n)}function Pp(t,n){if((t[G]&256)===256)throw new E(911,!1);t[mn]===null&&(t[mn]=[]),t[mn].push(n)}function k_(t,n){if(t[mn]===null)return;let e=t[mn].indexOf(n);e!==-1&&t[mn].splice(e,1)}function yr(t){let n=t[$e];return rn(n)?n[$e]:n}var Q={lFrame:Vp(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function F_(){return Q.lFrame.elementDepthCount}function L_(){Q.lFrame.elementDepthCount++}function V_(){Q.lFrame.elementDepthCount--}function Ap(){return Q.bindingsEnabled}function j_(){return Q.skipHydrationRootTNode!==null}function $_(t){return Q.skipHydrationRootTNode===t}function B_(){Q.skipHydrationRootTNode=null}function ee(){return Q.lFrame.lView}function Fe(){return Q.lFrame.tView}function F(t){return Q.lFrame.contextLView=t,t[Mt]}function L(t){return Q.lFrame.contextLView=null,t}function Xe(){let t=Op();for(;t!==null&&t.type===64;)t=t.parent;return t}function Op(){return Q.lFrame.currentTNode}function H_(){let t=Q.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function ei(t,n){let e=Q.lFrame;e.currentTNode=t,e.isParent=n}function jc(){return Q.lFrame.isParent}function Np(){Q.lFrame.isParent=!1}function U_(){return Q.lFrame.contextLView}function $c(){let t=Q.lFrame,n=t.bindingRootIndex;return n===-1&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function Rp(){return Q.lFrame.bindingIndex}function G_(t){return Q.lFrame.bindingIndex=t}function Is(){return Q.lFrame.bindingIndex++}function Ms(t){let n=Q.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function z_(){return Q.lFrame.inI18n}function W_(t,n){let e=Q.lFrame;e.bindingIndex=e.bindingRootIndex=t,Fl(n)}function q_(){return Q.lFrame.currentDirectiveIndex}function Fl(t){Q.lFrame.currentDirectiveIndex=t}function Y_(t){let n=Q.lFrame.currentDirectiveIndex;return n===-1?null:t[n]}function kp(){return Q.lFrame.currentQueryIndex}function Bc(t){Q.lFrame.currentQueryIndex=t}function Q_(t){let n=t[Z];return n.type===2?n.declTNode:n.type===1?t[Pt]:null}function Fp(t,n,e){if(e&J.SkipSelf){let r=n,o=t;for(;r=r.parent,r===null&&!(e&J.Host);)if(r=Q_(o),r===null||(o=o[$i],r.type&10))break;if(r===null)return!1;n=r,t=o}let i=Q.lFrame=Lp();return i.currentTNode=n,i.lView=t,!0}function Hc(t){let n=Lp(),e=t[Z];Q.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function Lp(){let t=Q.lFrame,n=t===null?null:t.child;return n===null?Vp(t):n}function Vp(t){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=n),n}function jp(){let t=Q.lFrame;return Q.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var $p=jp;function Uc(){let t=jp();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function K_(t){return(Q.lFrame.contextLView=R_(t,Q.lFrame.contextLView))[Mt]}function on(){return Q.lFrame.selectedIndex}function Wn(t){Q.lFrame.selectedIndex=t}function Gc(){let t=Q.lFrame;return Ip(t.tView,t.selectedIndex)}function M(){Q.lFrame.currentNamespace=Dp}function Z_(){return Q.lFrame.currentNamespace}var Bp=!0;function Ts(){return Bp}function Ps(t){Bp=t}function X_(t,n,e){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=n.type.prototype;if(i){let s=wp(n);(e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s)}r&&(e.preOrderHooks??=[]).push(0-t,r),o&&((e.preOrderHooks??=[]).push(t,o),(e.preOrderCheckHooks??=[]).push(t,o))}function As(t,n){for(let e=n.directiveStart,i=n.directiveEnd;e<i;e++){let o=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-e,s),a&&((t.contentHooks??=[]).push(e,a),(t.contentCheckHooks??=[]).push(e,a)),l&&(t.viewHooks??=[]).push(-e,l),c&&((t.viewHooks??=[]).push(e,c),(t.viewCheckHooks??=[]).push(e,c)),h!=null&&(t.destroyHooks??=[]).push(e,h)}}function Qo(t,n,e){Hp(t,n,3,e)}function Ko(t,n,e,i){(t[G]&3)===e&&Hp(t,n,e,i)}function pl(t,n){let e=t[G];(e&3)===n&&(e&=16383,e+=1,t[G]=e)}function Hp(t,n,e,i){let r=i!==void 0?t[Ti]&65535:0,o=i??-1,s=n.length-1,a=0;for(let l=r;l<s;l++)if(typeof n[l+1]=="number"){if(a=n[l],i!=null&&a>=i)break}else n[l]<0&&(t[Ti]+=65536),(a<o||o==-1)&&(J_(t,e,n,l),t[Ti]=(t[Ti]&4294901760)+l+2),l++}function _h(t,n){kt(4,t,n);let e=se(null);try{n.call(t)}finally{se(e),kt(5,t,n)}}function J_(t,n,e,i){let r=e[i]<0,o=e[i+1],s=r?-e[i]:e[i],a=t[s];r?t[G]>>14<t[Ti]>>16&&(t[G]&3)===n&&(t[G]+=16384,_h(a,o)):_h(a,o)}var Oi=-1,qn=class{constructor(n,e,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}};function eC(t){return t instanceof qn}function tC(t){return(t.flags&8)!==0}function nC(t){return(t.flags&16)!==0}function Up(t){return t!==Oi}function ss(t){return t&32767}function iC(t){return t>>16}function as(t,n){let e=iC(t),i=n;for(;e>0;)i=i[$i],e--;return i}var Ll=!0;function ls(t){let n=Ll;return Ll=t,n}var rC=256,Gp=rC-1,zp=5,oC=0,Ft={};function sC(t,n,e){let i;typeof e=="string"?i=e.charCodeAt(0)||0:e.hasOwnProperty(ur)&&(i=e[ur]),i==null&&(i=e[ur]=oC++);let r=i&Gp,o=1<<r;n.data[t+(r>>zp)]|=o}function cs(t,n){let e=Wp(t,n);if(e!==-1)return e;let i=n[Z];i.firstCreatePass&&(t.injectorIndex=n.length,gl(i.data,t),gl(n,null),gl(i.blueprint,null));let r=zc(t,n),o=t.injectorIndex;if(Up(r)){let s=ss(r),a=as(r,n),l=a[Z].data;for(let c=0;c<8;c++)n[o+c]=a[s+c]|l[s+c]}return n[o+8]=r,o}function gl(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Wp(t,n){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||n[t.injectorIndex+8]===null?-1:t.injectorIndex}function zc(t,n){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let e=0,i=null,r=n;for(;r!==null;){if(i=Zp(r),i===null)return Oi;if(e++,r=r[$i],i.injectorIndex!==-1)return i.injectorIndex|e<<16}return Oi}function Vl(t,n,e){sC(t,n,e)}function qp(t,n,e){if(e&J.Optional||t!==void 0)return t;Mc(n,"NodeInjector")}function Yp(t,n,e,i){if(e&J.Optional&&i===void 0&&(i=null),!(e&(J.Self|J.Host))){let r=t[Fi],o=Qe(void 0);try{return r?r.get(n,i,e&J.Optional):tp(n,i,e&J.Optional)}finally{Qe(o)}}return qp(i,n,e)}function Qp(t,n,e,i=J.Default,r){if(t!==null){if(n[G]&2048&&!(i&J.Self)){let s=uC(t,n,e,i,Ft);if(s!==Ft)return s}let o=Kp(t,n,e,i,Ft);if(o!==Ft)return o}return Yp(n,e,i,r)}function Kp(t,n,e,i,r){let o=lC(e);if(typeof o=="function"){if(!Fp(n,t,i))return i&J.Host?qp(r,e,i):Yp(n,e,i,r);try{let s;if(s=o(i),s==null&&!(i&J.Optional))Mc(e);else return s}finally{$p()}}else if(typeof o=="number"){let s=null,a=Wp(t,n),l=Oi,c=i&J.Host?n[jt][Pt]:null;for((a===-1||i&J.SkipSelf)&&(l=a===-1?zc(t,n):n[a+8],l===Oi||!bh(i,!1)?a=-1:(s=n[Z],a=ss(l),n=as(l,n)));a!==-1;){let h=n[Z];if(Ch(o,a,h.data)){let p=aC(a,n,e,s,i,c);if(p!==Ft)return p}l=n[a+8],l!==Oi&&bh(i,n[Z].data[a+8]===c)&&Ch(o,a,n)?(s=h,a=ss(l),n=as(l,n)):a=-1}}return r}function aC(t,n,e,i,r,o){let s=n[Z],a=s.data[t+8],l=i==null?Ds(a)&&Ll:i!=s&&(a.type&3)!==0,c=r&J.Host&&o===a,h=Zo(a,s,e,l,c);return h!==null?Yn(n,s,h,a):Ft}function Zo(t,n,e,i,r){let o=t.providerIndexes,s=n.data,a=o&1048575,l=t.directiveStart,c=t.directiveEnd,h=o>>20,p=i?a:a+h,v=r?a+h:c;for(let m=p;m<v;m++){let C=s[m];if(m<l&&e===C||m>=l&&C.type===e)return m}if(r){let m=s[l];if(m&&yn(m)&&m.type===e)return l}return null}function Yn(t,n,e,i){let r=t[e],o=n.data;if(eC(r)){let s=r;s.resolving&&kv(Rv(o[e]));let a=ls(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?Qe(s.injectImpl):null,h=Fp(t,i,J.Default);try{r=t[e]=s.factory(void 0,o,t,i),n.firstCreatePass&&e>=i.directiveStart&&X_(e,o[e],n)}finally{c!==null&&Qe(c),ls(a),s.resolving=!1,$p()}}return r}function lC(t){if(typeof t=="string")return t.charCodeAt(0)||0;let n=t.hasOwnProperty(ur)?t[ur]:void 0;return typeof n=="number"?n>=0?n&Gp:cC:n}function Ch(t,n,e){let i=1<<t;return!!(e[n+(t>>zp)]&i)}function bh(t,n){return!(t&J.Self)&&!(t&J.Host&&n)}var Bn=class{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,i){return Qp(this._tNode,this._lView,n,Cs(i),e)}};function cC(){return new Bn(Xe(),ee())}function xr(t){return wr(()=>{let n=t.prototype.constructor,e=n[es]||jl(n),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let o=r[es]||jl(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function jl(t){return Qh(t)?()=>{let n=jl(Ge(t));return n&&n()}:Hn(t)}function uC(t,n,e,i,r){let o=t,s=n;for(;o!==null&&s!==null&&s[G]&2048&&!(s[G]&512);){let a=Kp(o,s,e,i|J.Self,Ft);if(a!==Ft)return a;let l=o.parent;if(!l){let c=s[_p];if(c){let h=c.get(e,Ft,i);if(h!==Ft)return h}l=Zp(s),s=s[$i]}o=l}return r}function Zp(t){let n=t[Z],e=n.type;return e===2?n.declTNode:e===1?t[Pt]:null}function wh(t,n=null,e=null,i){let r=Xp(t,n,e,i);return r.resolveInjectorInitializers(),r}function Xp(t,n=null,e=null,i,r=new Set){let o=[e||Ke,d_(t)];return i=i||(typeof t=="object"?void 0:ze(t)),new hr(o,n||Rc(),i||null,r)}var Hi=(()=>{class t{static{this.THROW_IF_NOT_FOUND=dr}static{this.NULL=new is}static create(e,i){if(Array.isArray(e))return wh({name:""},i,e,"");{let r=e.name??"";return wh({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=x({token:t,providedIn:"any",factory:()=>k(op)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();var dC="ngOriginalError";function ml(t){return t[dC]}var Jt=class{constructor(){this._console=console}handleError(n){let e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&ml(n);for(;e&&ml(e);)e=ml(e);return e||null}},Jp=new Y("",{providedIn:"root",factory:()=>O(Jt).handleError.bind(void 0)}),eg=(()=>{class t{static{this.__NG_ELEMENT_ID__=fC}static{this.__NG_ENV_ID__=e=>e}}return t})(),$l=class extends eg{constructor(n){super(),this._lView=n}onDestroy(n){return Pp(this._lView,n),()=>k_(this._lView,n)}};function fC(){return new $l(ee())}function hC(){return Ui(Xe(),ee())}function Ui(t,n){return new at(vt(t,n))}var at=(()=>{class t{constructor(e){this.nativeElement=e}static{this.__NG_ELEMENT_ID__=hC}}return t})();function pC(t){return t instanceof at?t.nativeElement:t}var Bl=class extends we{constructor(n=!1){super(),this.destroyRef=void 0,this.__isAsync=n,w_()&&(this.destroyRef=O(eg,{optional:!0})??void 0)}emit(n){let e=se(null);try{super.next(n)}finally{se(e)}}subscribe(n,e,i){let r=n,o=e||(()=>null),s=i;if(n&&typeof n=="object"){let l=n;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=yl(o),r&&(r=yl(r)),s&&(s=yl(s)));let a=super.subscribe({next:r,error:o,complete:s});return n instanceof Ae&&n.add(a),a}};function yl(t){return n=>{setTimeout(t,void 0,n)}}var ge=Bl;function gC(){return this._results[Symbol.iterator]()}var Hl=class t{get changes(){return this._changes??=new ge}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let e=t.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=gC)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){this.dirty=!1;let i=Wv(n);(this._changesDetected=!zv(this._results,i,e))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function tg(t){return(t.flags&128)===128}var ng=new Map,mC=0;function yC(){return mC++}function vC(t){ng.set(t[Es],t)}function _C(t){ng.delete(t[Es])}var Sh="__ngContext__";function vn(t,n){$n(n)?(t[Sh]=n[Es],vC(n)):t[Sh]=n}function ig(t){return og(t[gr])}function rg(t){return og(t[It])}function og(t){for(;t!==null&&!rn(t);)t=t[It];return t}var Ul;function sg(t){Ul=t}function ag(){if(Ul!==void 0)return Ul;if(typeof document<"u")return document;throw new E(210,!1)}var Wc=new Y("",{providedIn:"root",factory:()=>CC}),CC="ng",qc=new Y(""),Gi=new Y("",{providedIn:"platform",factory:()=>"unknown"});var Yc=new Y(""),Qc=new Y("",{providedIn:"root",factory:()=>ag().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var bC="h",wC="b";var SC=()=>null;function Kc(t,n,e=!1){return SC(t,n,e)}var lg=!1,EC=new Y("",{providedIn:"root",factory:()=>lg});var Uo;function DC(){if(Uo===void 0&&(Uo=null,Zt.trustedTypes))try{Uo=Zt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Uo}function Os(t){return DC()?.createHTML(t)||t}var Go;function xC(){if(Go===void 0&&(Go=null,Zt.trustedTypes))try{Go=Zt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Go}function Eh(t){return xC()?.createHTML(t)||t}var en=class{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${qh})`}},Gl=class extends en{getTypeName(){return"HTML"}},zl=class extends en{getTypeName(){return"Style"}},Wl=class extends en{getTypeName(){return"Script"}},ql=class extends en{getTypeName(){return"URL"}},Yl=class extends en{getTypeName(){return"ResourceURL"}};function At(t){return t instanceof en?t.changingThisBreaksApplicationSecurity:t}function Sn(t,n){let e=IC(t);if(e!=null&&e!==n){if(e==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${qh})`)}return e===n}function IC(t){return t instanceof en&&t.getTypeName()||null}function cg(t){return new Gl(t)}function ug(t){return new zl(t)}function dg(t){return new Wl(t)}function fg(t){return new ql(t)}function hg(t){return new Yl(t)}function MC(t){let n=new Kl(t);return TC()?new Ql(n):n}var Ql=class{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{let e=new window.DOMParser().parseFromString(Os(n),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch{return null}}},Kl=class{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){let e=this.inertDocument.createElement("template");return e.innerHTML=Os(n),e}};function TC(){try{return!!new window.DOMParser().parseFromString(Os(""),"text/html")}catch{return!1}}var PC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ns(t){return t=String(t),t.match(PC)?t:"unsafe:"+t}function sn(t){let n={};for(let e of t.split(","))n[e]=!0;return n}function Ir(...t){let n={};for(let e of t)for(let i in e)e.hasOwnProperty(i)&&(n[i]=!0);return n}var pg=sn("area,br,col,hr,img,wbr"),gg=sn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),mg=sn("rp,rt"),AC=Ir(mg,gg),OC=Ir(gg,sn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),NC=Ir(mg,sn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Dh=Ir(pg,OC,NC,AC),yg=sn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),RC=sn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),kC=sn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),FC=Ir(yg,RC,kC),LC=sn("script,style,template"),Zl=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,i=!0,r=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild){r.push(e),e=$C(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=jC(e);if(o){e=o;break}e=r.pop()}}return this.buf.join("")}startElement(n){let e=xh(n).toLowerCase();if(!Dh.hasOwnProperty(e))return this.sanitizedSomething=!0,!LC.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let i=n.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,a=s.toLowerCase();if(!FC.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;yg[a]&&(l=Ns(l)),this.buf.push(" ",s,'="',Ih(l),'"')}return this.buf.push(">"),!0}endElement(n){let e=xh(n).toLowerCase();Dh.hasOwnProperty(e)&&!pg.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(Ih(n))}};function VC(t,n){return(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function jC(t){let n=t.nextSibling;if(n&&t!==n.previousSibling)throw vg(n);return n}function $C(t){let n=t.firstChild;if(n&&VC(t,n))throw vg(n);return n}function xh(t){let n=t.nodeName;return typeof n=="string"?n:"FORM"}function vg(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var BC=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,HC=/([^\#-~ |!])/g;function Ih(t){return t.replace(/&/g,"&amp;").replace(BC,function(n){let e=n.charCodeAt(0),i=n.charCodeAt(1);return"&#"+((e-55296)*1024+(i-56320)+65536)+";"}).replace(HC,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var zo;function Zc(t,n){let e=null;try{zo=zo||MC(t);let i=n?String(n):"";e=zo.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=zo.getInertBodyElement(i)}while(i!==o);let a=new Zl().sanitizeChildren(Mh(e)||e);return Os(a)}finally{if(e){let i=Mh(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Mh(t){return"content"in t&&UC(t)?t.content:null}function UC(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Ht=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ht||{});function zi(t){let n=Cg();return n?Eh(n.sanitize(Ht.HTML,t)||""):Sn(t,"HTML")?Eh(At(t)):Zc(ag(),Lt(t))}function _g(t){let n=Cg();return n?n.sanitize(Ht.URL,t)||"":Sn(t,"URL")?At(t):Ns(Lt(t))}function Cg(){let t=ee();return t&&t[Tt].sanitizer}var GC=/^>|^->|<!--|-->|--!>|<!-$/g,zC=/(<|>)/g,WC="\u200B$1\u200B";function qC(t){return t.replace(GC,n=>n.replace(zC,WC))}function bg(t){return t instanceof Function?t():t}var tn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(tn||{}),YC;function Xc(t,n){return YC(t,n)}function Pi(t,n,e,i,r){if(i!=null){let o,s=!1;rn(i)?o=i:$n(i)&&(s=!0,i=i[nn]);let a=$t(i);t===0&&e!==null?r==null?xg(n,e,a):us(n,e,a,r||null,!0):t===1&&e!==null?us(n,e,a,r||null,!0):t===2?fb(n,a,s):t===3&&n.destroyNode(a),o!=null&&pb(n,t,o,e,r)}}function QC(t,n){return t.createText(n)}function KC(t,n,e){t.setValue(n,e)}function ZC(t,n){return t.createComment(qC(n))}function wg(t,n,e){return t.createElement(n,e)}function XC(t,n){Sg(t,n),n[nn]=null,n[Pt]=null}function JC(t,n,e,i,r,o){i[nn]=r,i[Pt]=n,ks(t,i,e,1,r,o)}function Sg(t,n){n[Tt].changeDetectionScheduler?.notify(1),ks(t,n,n[Ne],2,null,null)}function eb(t){let n=t[gr];if(!n)return vl(t[Z],t);for(;n;){let e=null;if($n(n))e=n[gr];else{let i=n[st];i&&(e=i)}if(!e){for(;n&&!n[It]&&n!==t;)$n(n)&&vl(n[Z],n),n=n[$e];n===null&&(n=t),$n(n)&&vl(n[Z],n),e=n&&n[It]}n=e}}function tb(t,n,e,i){let r=st+i,o=e.length;i>0&&(e[r-1][It]=n),i<o-st?(n[It]=e[r],rp(e,st+i,n)):(e.push(n),n[It]=null),n[$e]=e;let s=n[Dr];s!==null&&e!==s&&nb(s,n);let a=n[Xt];a!==null&&a.insertView(t),kl(n),n[G]|=128}function nb(t,n){let e=t[Li],r=n[$e][$e][jt];n[jt]!==r&&(t[G]|=kc.HasTransplantedViews),e===null?t[Li]=[n]:e.push(n)}function Eg(t,n){let e=t[Li],i=e.indexOf(n);e.splice(i,1)}function Xl(t,n){if(t.length<=st)return;let e=st+n,i=t[e];if(i){let r=i[Dr];r!==null&&r!==t&&Eg(r,i),n>0&&(t[e-1][It]=i[It]);let o=ns(t,st+n);XC(i[Z],i);let s=o[Xt];s!==null&&s.detachView(o[Z]),i[$e]=null,i[It]=null,i[G]&=-129}return i}function Dg(t,n){if(!(n[G]&256)){let e=n[Ne];e.destroyNode&&ks(t,n,e,3,null,null),eb(n)}}function vl(t,n){if(n[G]&256)return;let e=se(null);try{n[G]&=-129,n[G]|=256,n[Gn]&&kf(n[Gn]),rb(t,n),ib(t,n),n[Z].type===1&&n[Ne].destroy();let i=n[Dr];if(i!==null&&rn(n[$e])){i!==n[$e]&&Eg(i,n);let r=n[Xt];r!==null&&r.detachView(t)}_C(n)}finally{se(e)}}function ib(t,n){let e=t.cleanup,i=n[pr];if(e!==null)for(let o=0;o<e.length-1;o+=2)if(typeof e[o]=="string"){let s=e[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[e[o+1]];e[o].call(s)}i!==null&&(n[pr]=null);let r=n[mn];if(r!==null){n[mn]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function rb(t,n){let e;if(t!=null&&(e=t.destroyHooks)!=null)for(let i=0;i<e.length;i+=2){let r=n[e[i]];if(!(r instanceof qn)){let o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];kt(4,a,l);try{l.call(a)}finally{kt(5,a,l)}}else{kt(4,r,o);try{o.call(r)}finally{kt(5,r,o)}}}}}function ob(t,n,e){return sb(t,n.parent,e)}function sb(t,n,e){let i=n;for(;i!==null&&i.type&40;)n=i,i=n.parent;if(i===null)return e[nn];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=t.data[i.directiveStart+r];if(o===Vt.None||o===Vt.Emulated)return null}return vt(i,e)}}function us(t,n,e,i,r){t.insertBefore(n,e,i,r)}function xg(t,n,e){t.appendChild(n,e)}function Th(t,n,e,i,r){i!==null?us(t,n,e,i,r):xg(t,n,e)}function ab(t,n,e,i){t.removeChild(n,e,i)}function Jc(t,n){return t.parentNode(n)}function lb(t,n){return t.nextSibling(n)}function cb(t,n,e){return db(t,n,e)}function ub(t,n,e){return t.type&40?vt(t,e):null}var db=ub,Ph;function Rs(t,n,e,i){let r=ob(t,i,n),o=n[Ne],s=i.parent||n[Pt],a=cb(s,i,n);if(r!=null)if(Array.isArray(e))for(let l=0;l<e.length;l++)Th(o,r,e[l],a,!1);else Th(o,r,e,a,!1);Ph!==void 0&&Ph(o,i,n,e,r)}function Xo(t,n){if(n!==null){let e=n.type;if(e&3)return vt(n,t);if(e&4)return Jl(-1,t[n.index]);if(e&8){let i=n.child;if(i!==null)return Xo(t,i);{let r=t[n.index];return rn(r)?Jl(-1,r):$t(r)}}else{if(e&32)return Xc(n,t)()||$t(t[n.index]);{let i=Ig(t,n);if(i!==null){if(Array.isArray(i))return i[0];let r=yr(t[jt]);return Xo(r,i)}else return Xo(t,n.next)}}}return null}function Ig(t,n){if(n!==null){let i=t[jt][Pt],r=n.projection;return i.projection[r]}return null}function Jl(t,n){let e=st+t+1;if(e<n.length){let i=n[e],r=i[Z].firstChild;if(r!==null)return Xo(i,r)}return n[zn]}function fb(t,n,e){let i=Jc(t,n);i&&ab(t,i,n,e)}function eu(t,n,e,i,r,o,s){for(;e!=null;){let a=i[e.index],l=e.type;if(s&&n===0&&(a&&vn($t(a),i),e.flags|=2),(e.flags&32)!==32)if(l&8)eu(t,n,e.child,i,r,o,!1),Pi(n,t,r,a,o);else if(l&32){let c=Xc(e,i),h;for(;h=c();)Pi(n,t,r,h,o);Pi(n,t,r,a,o)}else l&16?hb(t,n,i,e,r,o):Pi(n,t,r,a,o);e=s?e.projectionNext:e.next}}function ks(t,n,e,i,r,o){eu(e,i,t.firstChild,n,r,o,!1)}function hb(t,n,e,i,r,o){let s=e[jt],l=s[Pt].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let h=l[c];Pi(n,t,r,h,o)}else{let c=l,h=s[$e];tg(i)&&(c.flags|=128),eu(t,n,c,h,r,o,!0)}}function pb(t,n,e,i,r){let o=e[zn],s=$t(e);o!==s&&Pi(n,t,i,o,r);for(let a=st;a<e.length;a++){let l=e[a];ks(l[Z],l,t,n,i,o)}}function gb(t,n,e,i,r){if(n)r?t.addClass(e,i):t.removeClass(e,i);else{let o=i.indexOf("-")===-1?void 0:tn.DashCase;r==null?t.removeStyle(e,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=tn.Important),t.setStyle(e,i,r,o))}}function mb(t,n,e){t.setAttribute(n,"style",e)}function Mg(t,n,e){e===""?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function Tg(t,n,e){let{mergedAttrs:i,classes:r,styles:o}=e;i!==null&&Pl(t,n,i),r!==null&&Mg(t,n,r),o!==null&&mb(t,n,o)}var Je={};function g(t=1){Pg(Fe(),ee(),on()+t,!1)}function Pg(t,n,e,i){if(!i)if((n[G]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Qo(n,o,e)}else{let o=t.preOrderHooks;o!==null&&Ko(n,o,0,e)}Wn(e)}function P(t,n=J.Default){let e=ee();if(e===null)return k(t,n);let i=Xe();return Qp(i,e,Ge(t),n)}function Ag(t,n,e,i,r,o){let s=se(null);try{let a=null;r&We.SignalBased&&(a=n[i][Ga]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&We.HasDecoratorInputTransform&&(o=t.inputTransforms[i].call(n,o)),t.setInput!==null?t.setInput(n,a,o,e,i):bp(n,a,i,o)}finally{se(s)}}function yb(t,n){let e=t.hostBindingOpCodes;if(e!==null)try{for(let i=0;i<e.length;i++){let r=e[i];if(r<0)Wn(~r);else{let o=r,s=e[++i],a=e[++i];W_(s,o);let l=n[o];a(2,l)}}}finally{Wn(-1)}}function Fs(t,n,e,i,r,o,s,a,l,c,h){let p=n.blueprint.slice();return p[nn]=r,p[G]=i|4|128|8|64,(c!==null||t&&t[G]&2048)&&(p[G]|=2048),Tp(p),p[$e]=p[$i]=t,p[Mt]=e,p[Tt]=s||t&&t[Tt],p[Ne]=a||t&&t[Ne],p[Fi]=l||t&&t[Fi]||null,p[Pt]=o,p[Es]=yC(),p[rs]=h,p[_p]=c,p[jt]=n.type==2?t[jt]:p,p}function Mr(t,n,e,i,r){let o=t.data[n];if(o===null)o=vb(t,n,e,i,r),z_()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=i,o.attrs=r;let s=H_();o.injectorIndex=s===null?-1:s.injectorIndex}return ei(o,!0),o}function vb(t,n,e,i,r){let o=Op(),s=jc(),a=s?o:o&&o.parent,l=t.data[n]=Eb(t,a,e,n,i,r);return t.firstChild===null&&(t.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function Og(t,n,e,i){if(e===0)return-1;let r=n.length;for(let o=0;o<e;o++)n.push(i),t.blueprint.push(i),t.data.push(null);return r}function Ng(t,n,e,i,r){let o=on(),s=i&2;try{Wn(-1),s&&n.length>yt&&Pg(t,n,yt,!1),kt(s?2:0,r),e(i,r)}finally{Wn(o),kt(s?3:1,r)}}function tu(t,n,e){if(Fc(n)){let i=se(null);try{let r=n.directiveStart,o=n.directiveEnd;for(let s=r;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=e[s];a.contentQueries(1,l,s)}}}finally{se(i)}}}function nu(t,n,e){Ap()&&(Pb(t,n,e,vt(e,n)),(e.flags&64)===64&&Lg(t,n,e))}function iu(t,n,e=vt){let i=n.localNames;if(i!==null){let r=n.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?e(n,t):t[s];t[r++]=a}}}function Rg(t){let n=t.tView;return n===null||n.incompleteFirstPass?t.tView=ru(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function ru(t,n,e,i,r,o,s,a,l,c,h){let p=yt+i,v=p+r,m=_b(p,v),C=typeof c=="function"?c():c;return m[Z]={type:t,blueprint:m,template:e,queries:null,viewQuery:a,declTNode:n,data:m.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:C,incompleteFirstPass:!1,ssrId:h}}function _b(t,n){let e=[];for(let i=0;i<n;i++)e.push(i<t?null:Je);return e}function Cb(t,n,e,i){let o=i.get(EC,lg)||e===Vt.ShadowDom,s=t.selectRootElement(n,o);return bb(s),s}function bb(t){wb(t)}var wb=()=>null;function Sb(t,n,e,i){let r=$g(n);r.push(e),t.firstCreatePass&&Bg(t).push(i,r.length-1)}function Eb(t,n,e,i,r,o){let s=n?n.injectorIndex:-1,a=0;return j_()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Ah(t,n,e,i,r){for(let o in n){if(!n.hasOwnProperty(o))continue;let s=n[o];if(s===void 0)continue;i??={};let a,l=We.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(r!==null){if(!r.hasOwnProperty(o))continue;c=r[o]}t===0?Oh(i,e,c,a,l):Oh(i,e,c,a)}return i}function Oh(t,n,e,i,r){let o;t.hasOwnProperty(e)?(o=t[e]).push(n,i):o=t[e]=[n,i],r!==void 0&&o.push(r)}function Db(t,n,e){let i=n.directiveStart,r=n.directiveEnd,o=t.data,s=n.attrs,a=[],l=null,c=null;for(let h=i;h<r;h++){let p=o[h],v=e?e.get(p):null,m=v?v.inputs:null,C=v?v.outputs:null;l=Ah(0,p.inputs,h,l,m),c=Ah(1,p.outputs,h,c,C);let S=l!==null&&s!==null&&!Oc(n)?Bb(l,h,s):null;a.push(S)}l!==null&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=c}function xb(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function kg(t,n,e,i,r,o,s,a){let l=vt(n,e),c=n.inputs,h;!a&&c!=null&&(h=c[i])?(su(t,e,h,i,r),Ds(n)&&Ib(e,n.index)):n.type&3?(i=xb(i),r=s!=null?s(r,n.value||"",i):r,o.setProperty(l,i,r)):n.type&12}function Ib(t,n){let e=wn(n,t);e[G]&16||(e[G]|=64)}function ou(t,n,e,i){if(Ap()){let r=i===null?null:{"":-1},o=Ob(t,e),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Fg(t,n,e,s,r,a),r&&Nb(e,i,r)}e.mergedAttrs=fr(e.mergedAttrs,e.attrs)}function Fg(t,n,e,i,r,o){for(let c=0;c<i.length;c++)Vl(cs(e,n),t,i[c].type);kb(e,t.data.length,i.length);for(let c=0;c<i.length;c++){let h=i[c];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,l=Og(t,n,i.length,null);for(let c=0;c<i.length;c++){let h=i[c];e.mergedAttrs=fr(e.mergedAttrs,h.hostAttrs),Fb(t,e,n,l,h),Rb(l,h,r),h.contentQueries!==null&&(e.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(e.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}Db(t,e,o)}function Mb(t,n,e,i,r){let o=r.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~n.index;Tb(s)!=a&&s.push(a),s.push(e,i,o)}}function Tb(t){let n=t.length;for(;n>0;){let e=t[--n];if(typeof e=="number"&&e<0)return e}return 0}function Pb(t,n,e,i){let r=e.directiveStart,o=e.directiveEnd;Ds(e)&&Lb(n,e,t.data[r+e.componentOffset]),t.firstCreatePass||cs(e,n),vn(i,n);let s=e.initialInputs;for(let a=r;a<o;a++){let l=t.data[a],c=Yn(n,t,a,e);if(vn(c,n),s!==null&&$b(n,a-r,c,l,e,s),yn(l)){let h=wn(e.index,n);h[Mt]=Yn(n,t,a,e)}}}function Lg(t,n,e){let i=e.directiveStart,r=e.directiveEnd,o=e.index,s=q_();try{Wn(o);for(let a=i;a<r;a++){let l=t.data[a],c=n[a];Fl(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&Ab(l,c)}}finally{Wn(-1),Fl(s)}}function Ab(t,n){t.hostBindings!==null&&t.hostBindings(1,n)}function Ob(t,n){let e=t.directiveRegistry,i=null,r=null;if(e)for(let o=0;o<e.length;o++){let s=e[o];if(n_(n,s.selectors,!1))if(i||(i=[]),yn(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let l=a.length;ec(t,n,l)}else i.unshift(s),ec(t,n,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function ec(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function Nb(t,n,e){if(n){let i=t.localNames=[];for(let r=0;r<n.length;r+=2){let o=e[n[r+1]];if(o==null)throw new E(-301,!1);i.push(n[r],o)}}}function Rb(t,n,e){if(e){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)e[n.exportAs[i]]=t;yn(n)&&(e[""]=t)}}function kb(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function Fb(t,n,e,i,r){t.data[i]=r;let o=r.factory||(r.factory=Hn(r.type,!0)),s=new qn(o,yn(r),P);t.blueprint[i]=s,e[i]=s,Mb(t,n,i,Og(t,e,r.hostVars,Je),r)}function Lb(t,n,e){let i=vt(n,t),r=Rg(e),o=t[Tt].rendererFactory,s=16;e.signals?s=4096:e.onPush&&(s=64);let a=Ls(t,Fs(t,r,null,s,i,n,null,o.createRenderer(i,e),null,null,null));t[n.index]=a}function Vb(t,n,e,i,r,o){let s=vt(t,n);jb(n[Ne],s,o,t.value,e,i,r)}function jb(t,n,e,i,r,o,s){if(o==null)t.removeAttribute(n,r,e);else{let a=s==null?Lt(o):s(o,i||"",r);t.setAttribute(n,r,a,e)}}function $b(t,n,e,i,r,o){let s=o[n];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],h=s[a++],p=s[a++];Ag(i,e,l,c,h,p)}}function Bb(t,n,e){let i=null,r=0;for(;r<e.length;){let o=e[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){i===null&&(i=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===n){i.push(o,s[a+1],s[a+2],e[r+1]);break}}r+=2}return i}function Vg(t,n,e,i){return[t,!0,0,n,null,i,null,e,null,null]}function jg(t,n){let e=t.contentQueries;if(e!==null){let i=se(null);try{for(let r=0;r<e.length;r+=2){let o=e[r],s=e[r+1];if(s!==-1){let a=t.data[s];Bc(o),a.contentQueries(2,n[s],s)}}}finally{se(i)}}}function Ls(t,n){return t[gr]?t[yh][It]=n:t[gr]=n,t[yh]=n,n}function tc(t,n,e){Bc(0);let i=se(null);try{n(t,e)}finally{se(i)}}function $g(t){return t[pr]||(t[pr]=[])}function Bg(t){return t.cleanup||(t.cleanup=[])}function Hg(t,n){let e=t[Fi],i=e?e.get(Jt,null):null;i&&i.handleError(n)}function su(t,n,e,i,r){for(let o=0;o<e.length;){let s=e[o++],a=e[o++],l=e[o++],c=n[s],h=t.data[s];Ag(h,c,i,a,l,r)}}function au(t,n,e){let i=xp(n,t);KC(t[Ne],i,e)}function Hb(t,n){let e=wn(n,t),i=e[Z];Ub(i,e);let r=e[nn];r!==null&&e[rs]===null&&(e[rs]=Kc(r,e[Fi])),lu(i,e,e[Mt])}function Ub(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}function lu(t,n,e){Hc(n);try{let i=t.viewQuery;i!==null&&tc(1,i,e);let r=t.template;r!==null&&Ng(t,n,r,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),n[Xt]?.finishViewCreation(t),t.staticContentQueries&&jg(t,n),t.staticViewQueries&&tc(2,t.viewQuery,e);let o=t.components;o!==null&&Gb(n,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{n[G]&=-5,Uc()}}function Gb(t,n){for(let e=0;e<n.length;e++)Hb(t,n[e])}function zb(t,n,e,i){let r=se(null);try{let o=n.tView,a=t[G]&4096?4096:16,l=Fs(t,o,e,a,null,n,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=t[n.index];l[Dr]=c;let h=t[Xt];return h!==null&&(l[Xt]=h.createEmbeddedView(o)),lu(o,l,e),l}finally{se(r)}}function Nh(t,n){return!n||n.firstChild===null||tg(t)}function Wb(t,n,e,i=!0){let r=n[Z];if(tb(r,n,t,e),i){let s=Jl(e,t),a=n[Ne],l=Jc(a,t[zn]);l!==null&&JC(r,t[Pt],a,n,l,s)}let o=n[rs];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function ds(t,n,e,i,r=!1){for(;e!==null;){let o=n[e.index];o!==null&&i.push($t(o)),rn(o)&&qb(o,i);let s=e.type;if(s&8)ds(t,n,e.child,i);else if(s&32){let a=Xc(e,n),l;for(;l=a();)i.push(l)}else if(s&16){let a=Ig(n,e);if(Array.isArray(a))i.push(...a);else{let l=yr(n[jt]);ds(l[Z],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}function qb(t,n){for(let e=st;e<t.length;e++){let i=t[e],r=i[Z].firstChild;r!==null&&ds(i[Z],i,r,n)}t[zn]!==t[nn]&&n.push(t[zn])}var Ug=[];function Yb(t){return t[Gn]??Qb(t)}function Qb(t){let n=Ug.pop()??Object.create(Zb);return n.lView=t,n}function Kb(t){t.lView[Gn]!==t&&(t.lView=null,Ug.push(t))}var Zb=A(w({},Of),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{mr(t.lView)},consumerOnSignalRead(){this.lView[Gn]=this}}),Gg=100;function zg(t,n=!0,e=0){let i=t[Tt],r=i.rendererFactory,o=!1;o||r.begin?.();try{Xb(t,e)}catch(s){throw n&&Hg(t,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function Xb(t,n){nc(t,n);let e=0;for(;Vc(t);){if(e===Gg)throw new E(103,!1);e++,nc(t,1)}}function Jb(t,n,e,i){let r=n[G];if((r&256)===256)return;let o=!1;!o&&n[Tt].inlineEffectRunner?.flush(),Hc(n);let s=null,a=null;!o&&ew(t)&&(a=Yb(n),s=Nf(a));try{Tp(n),G_(t.bindingStartIndex),e!==null&&Ng(t,n,e,2,i);let l=(r&3)===3;if(!o)if(l){let p=t.preOrderCheckHooks;p!==null&&Qo(n,p,null)}else{let p=t.preOrderHooks;p!==null&&Ko(n,p,0,null),pl(n,0)}if(tw(n),Wg(n,0),t.contentQueries!==null&&jg(t,n),!o)if(l){let p=t.contentCheckHooks;p!==null&&Qo(n,p)}else{let p=t.contentHooks;p!==null&&Ko(n,p,1),pl(n,1)}yb(t,n);let c=t.components;c!==null&&Yg(n,c,0);let h=t.viewQuery;if(h!==null&&tc(2,h,i),!o)if(l){let p=t.viewCheckHooks;p!==null&&Qo(n,p)}else{let p=t.viewHooks;p!==null&&Ko(n,p,2),pl(n,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),n[hl]){for(let p of n[hl])p();n[hl]=null}o||(n[G]&=-73)}catch(l){throw mr(n),l}finally{a!==null&&(Rf(a,s),Kb(a)),Uc()}}function ew(t){return t.type!==2}function Wg(t,n){for(let e=ig(t);e!==null;e=rg(e))for(let i=st;i<e.length;i++){let r=e[i];qg(r,n)}}function tw(t){for(let n=ig(t);n!==null;n=rg(n)){if(!(n[G]&kc.HasTransplantedViews))continue;let e=n[Li];for(let i=0;i<e.length;i++){let r=e[i],o=r[$e];N_(r)}}}function nw(t,n,e){let i=wn(n,t);qg(i,e)}function qg(t,n){Lc(t)&&nc(t,n)}function nc(t,n){let i=t[Z],r=t[G],o=t[Gn],s=!!(n===0&&r&16);if(s||=!!(r&64&&n===0),s||=!!(r&1024),s||=!!(o?.dirty&&za(o)),o&&(o.dirty=!1),t[G]&=-9217,s)Jb(i,t,i.template,t[Mt]);else if(r&8192){Wg(t,1);let a=i.components;a!==null&&Yg(t,a,1)}}function Yg(t,n,e){for(let i=0;i<n.length;i++)nw(t,n[i],e)}function cu(t){for(t[Tt].changeDetectionScheduler?.notify();t;){t[G]|=64;let n=yr(t);if(E_(t)&&!n)return t;t=n}return null}var Qn=class{get rootNodes(){let n=this._lView,e=n[Z];return ds(e,n,e.firstChild,[])}constructor(n,e,i=!0){this._lView=n,this._cdRefInjectingView=e,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Mt]}set context(n){this._lView[Mt]=n}get destroyed(){return(this._lView[G]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[$e];if(rn(n)){let e=n[os],i=e?e.indexOf(this):-1;i>-1&&(Xl(n,i),ns(e,i))}this._attachedToViewContainer=!1}Dg(this._lView[Z],this._lView)}onDestroy(n){Pp(this._lView,n)}markForCheck(){cu(this._cdRefInjectingView||this._lView)}detach(){this._lView[G]&=-129}reattach(){kl(this._lView),this._lView[G]|=128}detectChanges(){this._lView[G]|=1024,zg(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new E(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Sg(this._lView[Z],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new E(902,!1);this._appRef=n,kl(this._lView)}},Kn=(()=>{class t{static{this.__NG_ELEMENT_ID__=ow}}return t})(),iw=Kn,rw=class extends iw{constructor(n,e,i){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,i){let r=zb(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:e,dehydratedView:i});return new Qn(r)}};function ow(){return Vs(Xe(),ee())}function Vs(t,n){return t.type&4?new rw(n,t,Ui(t,n)):null}var Zk=new RegExp(`^(\\d+)*(${wC}|${bC})*(.*)`);var sw=()=>null;function Rh(t,n){return sw(t,n)}var vr=class{},ic=class{},fs=class{};function aw(t){let n=Error(`No component factory found for ${ze(t)}.`);return n[lw]=t,n}var lw="ngComponent";var rc=class{resolveComponentFactory(n){throw aw(n)}},js=(()=>{class t{static{this.NULL=new rc}}return t})(),Zn=class{},an=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>cw()}}return t})();function cw(){let t=ee(),n=Xe(),e=wn(n.index,t);return($n(e)?e:t)[Ne]}var uw=(()=>{class t{static{this.\u0275prov=x({token:t,providedIn:"root",factory:()=>null})}}return t})(),_l={};var kh=new Set;function $s(t){kh.has(t)||(kh.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Fh(...t){}function dw(){let t=typeof Zt.requestAnimationFrame=="function",n=Zt[t?"requestAnimationFrame":"setTimeout"],e=Zt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&e){let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i);let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}var Te=class t{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ge(!1),this.onMicrotaskEmpty=new ge(!1),this.onStable=new ge(!1),this.onError=new ge(!1),typeof Zone>"u")throw new E(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=dw().nativeRequestAnimationFrame,pw(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new E(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new E(909,!1)}run(n,e,i){return this._inner.run(n,e,i)}runTask(n,e,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,n,fw,Fh,Fh);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(n,e,i){return this._inner.runGuarded(n,e,i)}runOutsideAngular(n){return this._outer.run(n)}},fw={};function uu(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function hw(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Zt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,oc(t),t.isCheckStableRunning=!0,uu(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),oc(t))}function pw(t){let n=()=>{hw(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,a)=>{if(gw(a))return e.invokeTask(r,o,s,a);try{return Lh(t),e.invokeTask(r,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&n(),Vh(t)}},onInvoke:(e,i,r,o,s,a,l)=>{try{return Lh(t),e.invoke(r,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&n(),Vh(t)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,oc(t),uu(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function oc(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Lh(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Vh(t){t._nesting--,uu(t)}function gw(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var Qg=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let e=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of e)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=x({token:t,providedIn:"root",factory:()=>new t})}}return t})();function hs(t,n,e){let i=e?t.styles:null,r=e?t.classes:null,o=0;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];if(typeof a=="number")o=a;else if(o==1)r=xl(r,a);else if(o==2){let l=a,c=n[++s];i=xl(i,l+": "+c+";")}}e?t.styles=i:t.stylesWithoutHost=i,e?t.classes=r:t.classesWithoutHost=r}var ps=class extends js{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let e=Un(n);return new _r(e,this.ngModule)}};function jh(t){let n=[];for(let e in t){if(!t.hasOwnProperty(e))continue;let i=t[e];i!==void 0&&n.push({propName:Array.isArray(i)?i[0]:i,templateName:e})}return n}function mw(t){let n=t.toLowerCase();return n==="svg"?Dp:n==="math"?M_:null}var sc=class{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,i){i=Cs(i);let r=this.injector.get(n,_l,i);return r!==_l||e===_l?r:this.parentInjector.get(n,e,i)}},_r=class extends fs{get inputs(){let n=this.componentDef,e=n.inputTransforms,i=jh(n.inputs);if(e!==null)for(let r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return jh(this.componentDef.outputs)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=s_(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,i,r){let o=se(null);try{r=r||this.ngModule;let s=r instanceof mt?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new sc(n,s):n,l=a.get(Zn,null);if(l===null)throw new E(407,!1);let c=a.get(uw,null),h=a.get(Qg,null),p=a.get(vr,null),v={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:p},m=l.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",S=i?Cb(m,i,this.componentDef.encapsulation,a):wg(m,C,mw(C)),B=512;this.componentDef.signals?B|=4096:this.componentDef.onPush||(B|=16);let $=null;S!==null&&($=Kc(S,a,!0));let _e=ru(0,null,null,1,0,null,null,null,null,null,null),ue=Fs(null,_e,null,B,null,null,v,m,a,null,$);Hc(ue);let me,nt;try{let Ie=this.componentDef,Me,Le=null;Ie.findHostDirectiveDefs?(Me=[],Le=new Map,Ie.findHostDirectiveDefs(Ie,Me,Le),Me.push(Ie)):Me=[Ie];let Yt=yw(ue,S),un=vw(Yt,S,Ie,Me,ue,v,m);nt=Ip(_e,yt),S&&bw(m,Ie,S,i),e!==void 0&&ww(nt,this.ngContentSelectors,e),me=Cw(un,Ie,Me,Le,ue,[Sw]),lu(_e,ue,null)}finally{Uc()}return new ac(this.componentType,me,Ui(nt,ue),ue,nt)}finally{se(o)}}},ac=class extends ic{constructor(n,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new Qn(r,void 0,!1),this.componentType=n}setInput(n,e){let i=this._tNode.inputs,r;if(i!==null&&(r=i[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;let o=this._rootLView;su(o[Z],o,r,n,e),this.previousInputValues.set(n,e);let s=wn(this._tNode.index,o);cu(s)}}get injector(){return new Bn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function yw(t,n){let e=t[Z],i=yt;return t[i]=n,Mr(e,i,2,"#host",null)}function vw(t,n,e,i,r,o,s){let a=r[Z];_w(i,t,n,s);let l=null;n!==null&&(l=Kc(n,r[Fi]));let c=o.rendererFactory.createRenderer(n,e),h=16;e.signals?h=4096:e.onPush&&(h=64);let p=Fs(r,Rg(e),null,h,r[t.index],t,o,c,null,null,l);return a.firstCreatePass&&ec(a,t,i.length-1),Ls(r,p),r[t.index]=p}function _w(t,n,e,i){for(let r of t)n.mergedAttrs=fr(n.mergedAttrs,r.hostAttrs);n.mergedAttrs!==null&&(hs(n,n.mergedAttrs,!0),e!==null&&Tg(i,e,n))}function Cw(t,n,e,i,r,o){let s=Xe(),a=r[Z],l=vt(s,r);Fg(a,r,s,e,null,i);for(let h=0;h<e.length;h++){let p=s.directiveStart+h,v=Yn(r,a,p,s);vn(v,r)}Lg(a,r,s),l&&vn(l,r);let c=Yn(r,a,s.directiveStart+s.componentOffset,s);if(t[Mt]=r[Mt]=c,o!==null)for(let h of o)h(c,n);return tu(a,s,r),c}function bw(t,n,e,i){if(i)Pl(t,e,["ng-version","17.3.12"]);else{let{attrs:r,classes:o}=a_(n.selectors[0]);r&&Pl(t,e,r),o&&o.length>0&&Mg(t,e,o.join(" "))}}function ww(t,n,e){let i=t.projection=[];for(let r=0;r<n.length;r++){let o=e[r];i.push(o!=null?Array.from(o):null)}}function Sw(){let t=Xe();As(ee()[Z],t)}var En=(()=>{class t{static{this.__NG_ELEMENT_ID__=Ew}}return t})();function Ew(){let t=Xe();return Zg(t,ee())}var Dw=En,Kg=class extends Dw{constructor(n,e,i){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=i}get element(){return Ui(this._hostTNode,this._hostLView)}get injector(){return new Bn(this._hostTNode,this._hostLView)}get parentInjector(){let n=zc(this._hostTNode,this._hostLView);if(Up(n)){let e=as(n,this._hostLView),i=ss(n),r=e[Z].data[i+8];return new Bn(r,e)}else return new Bn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let e=$h(this._lContainer);return e!==null&&e[n]||null}get length(){return this._lContainer.length-st}createEmbeddedView(n,e,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=Rh(this._lContainer,n.ssrId),a=n.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(a,r,Nh(this._hostTNode,s)),a}createComponent(n,e,i,r,o){let s=n&&!S_(n),a;if(s)a=e;else{let C=e||{};a=C.index,i=C.injector,r=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef}let l=s?n:new _r(Un(n)),c=i||this.parentInjector;if(!o&&l.ngModule==null){let S=(s?c:this.parentInjector).get(mt,null);S&&(o=S)}let h=Un(l.componentType??{}),p=Rh(this._lContainer,h?.id??null),v=p?.firstChild??null,m=l.create(c,r,v,o);return this.insertImpl(m.hostView,a,Nh(this._hostTNode,p)),m}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,i){let r=n._lView;if(O_(r)){let a=this.indexOf(n);if(a!==-1)this.detach(a);else{let l=r[$e],c=new Kg(l,l[Pt],l[$e]);c.detach(c.indexOf(n))}}let o=this._adjustIndex(e),s=this._lContainer;return Wb(s,r,o,i),n.attachToViewContainerRef(),rp(Cl(s),o,n),n}move(n,e){return this.insert(n,e)}indexOf(n){let e=$h(this._lContainer);return e!==null?e.indexOf(n):-1}remove(n){let e=this._adjustIndex(n,-1),i=Xl(this._lContainer,e);i&&(ns(Cl(this._lContainer),e),Dg(i[Z],i))}detach(n){let e=this._adjustIndex(n,-1),i=Xl(this._lContainer,e);return i&&ns(Cl(this._lContainer),e)!=null?new Qn(i):null}_adjustIndex(n,e=0){return n??this.length+e}};function $h(t){return t[os]}function Cl(t){return t[os]||(t[os]=[])}function Zg(t,n){let e,i=n[t.index];return rn(i)?e=i:(e=Vg(i,n,null,t),n[t.index]=e,Ls(n,e)),Iw(e,n,t,i),new Kg(e,t,n)}function xw(t,n){let e=t[Ne],i=e.createComment(""),r=vt(n,t),o=Jc(e,r);return us(e,o,i,lb(e,r),!1),i}var Iw=Pw,Mw=()=>!1;function Tw(t,n,e){return Mw(t,n,e)}function Pw(t,n,e,i){if(t[zn])return;let r;e.type&8?r=$t(i):r=xw(n,e),t[zn]=r}var lc=class t{constructor(n){this.queryList=n,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},cc=class t{constructor(n=[]){this.queries=n}createEmbeddedView(n){let e=n.queries;if(e!==null){let i=n.contentQueries!==null?n.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){let s=e.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)du(n,e).matches!==null&&this.queries[e].setDirty()}},uc=class{constructor(n,e,i=null){this.flags=e,this.read=i,typeof n=="string"?this.predicate=Vw(n):this.predicate=n}},dc=class t{constructor(n=[]){this.queries=n}elementStart(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let i=0;i<this.length;i++){let r=e!==null?e.length:0,o=this.getByIndex(i).embeddedTView(n,r);o&&(o.indexInDeclarationView=i,e!==null?e.push(o):e=[o])}return e!==null?new t(e):null}template(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},fc=class t{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new t(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,i=n.parent;for(;i!==null&&i.type&8&&i.index!==e;)i=i.parent;return e===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(n,e){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(n,e,Aw(e,o)),this.matchTNodeWithReadOption(n,e,Zo(e,n,o,!1,!1))}else i===Kn?e.type&4&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,Zo(e,n,i,!1,!1))}matchTNodeWithReadOption(n,e,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===at||r===En||r===Kn&&e.type&4)this.addMatch(e.index,-2);else{let o=Zo(e,n,r,!1,!1);o!==null&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(n,e){this.matches===null?this.matches=[n,e]:this.matches.push(n,e)}};function Aw(t,n){let e=t.localNames;if(e!==null){for(let i=0;i<e.length;i+=2)if(e[i]===n)return e[i+1]}return null}function Ow(t,n){return t.type&11?Ui(t,n):t.type&4?Vs(t,n):null}function Nw(t,n,e,i){return e===-1?Ow(n,t):e===-2?Rw(t,n,i):Yn(t,t[Z],e,n)}function Rw(t,n,e){if(e===at)return Ui(n,t);if(e===Kn)return Vs(n,t);if(e===En)return Zg(n,t)}function Xg(t,n,e,i){let r=n[Xt].queries[i];if(r.matches===null){let o=t.data,s=e.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let h=o[c];a.push(Nw(n,h,s[l+1],e.metadata.read))}}r.matches=a}return r.matches}function hc(t,n,e,i){let r=t.queries.getByIndex(e),o=r.matches;if(o!==null){let s=Xg(t,n,r,e);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let c=o[a+1],h=n[-l];for(let p=st;p<h.length;p++){let v=h[p];v[Dr]===v[$e]&&hc(v[Z],v,c,i)}if(h[Li]!==null){let p=h[Li];for(let v=0;v<p.length;v++){let m=p[v];hc(m[Z],m,c,i)}}}}}return i}function kw(t,n){return t[Xt].queries[n].queryList}function Fw(t,n,e){let i=new Hl((e&4)===4);return Sb(t,n,i,i.destroy),(n[Xt]??=new cc).queries.push(new lc(i))-1}function Lw(t,n,e){let i=Fe();return i.firstCreatePass&&(jw(i,new uc(t,n,e),-1),(n&2)===2&&(i.staticViewQueries=!0)),Fw(i,ee(),n)}function Vw(t){return t.split(",").map(n=>n.trim())}function jw(t,n,e){t.queries===null&&(t.queries=new dc),t.queries.track(new fc(n,e))}function du(t,n){return t.queries.getByIndex(n)}function $w(t,n){let e=t[Z],i=du(e,n);return i.crossesNgTemplate?hc(e,t,n,[]):Xg(e,t,i,n)}function Bw(t){return typeof t=="function"&&t[Ga]!==void 0}function Jg(t){return Bw(t)&&typeof t.set=="function"}function Hw(t){return Object.getPrototypeOf(t.prototype).constructor}function Wi(t){let n=Hw(t.type),e=!0,i=[t];for(;n;){let r;if(yn(t))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new E(903,!1);r=n.\u0275dir}if(r){if(e){i.push(r);let s=t;s.inputs=Wo(t.inputs),s.inputTransforms=Wo(t.inputTransforms),s.declaredInputs=Wo(t.declaredInputs),s.outputs=Wo(t.outputs);let a=r.hostBindings;a&&qw(t,a);let l=r.viewQuery,c=r.contentQueries;if(l&&zw(t,l),c&&Ww(t,c),Uw(t,r),xv(t.outputs,r.outputs),yn(r)&&r.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Wi&&(e=!1)}}n=Object.getPrototypeOf(n)}Gw(i)}function Uw(t,n){for(let e in n.inputs){if(!n.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;let i=n.inputs[e];if(i!==void 0&&(t.inputs[e]=i,t.declaredInputs[e]=n.declaredInputs[e],n.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!n.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=n.inputTransforms[r]}}}function Gw(t){let n=0,e=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=n+=r.hostVars,r.hostAttrs=fr(r.hostAttrs,e=fr(e,r.hostAttrs))}}function Wo(t){return t===Ni?{}:t===Ke?[]:t}function zw(t,n){let e=t.viewQuery;e?t.viewQuery=(i,r)=>{n(i,r),e(i,r)}:t.viewQuery=n}function Ww(t,n){let e=t.contentQueries;e?t.contentQueries=(i,r,o)=>{n(i,r,o),e(i,r,o)}:t.contentQueries=n}function qw(t,n){let e=t.hostBindings;e?t.hostBindings=(i,r)=>{n(i,r),e(i,r)}:t.hostBindings=n}var _n=class{},Cr=class{};var pc=class extends _n{constructor(n,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ps(this);let r=fp(n);this._bootstrapComponents=bg(r.bootstrap),this._r3Injector=Xp(n,e,[{provide:_n,useValue:this},{provide:js,useValue:this.componentFactoryResolver},...i],ze(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},gc=class extends Cr{constructor(n){super(),this.moduleType=n}create(n){return new pc(this.moduleType,n,[])}};var gs=class extends _n{constructor(n){super(),this.componentFactoryResolver=new ps(this),this.instance=null;let e=new hr([...n.providers,{provide:_n,useValue:this},{provide:js,useValue:this.componentFactoryResolver}],n.parent||Rc(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function fu(t,n,e=null){return new gs({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}var Bs=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new de(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function em(t){return Qw(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Yw(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{let e=t[Symbol.iterator](),i;for(;!(i=e.next()).done;)n(i.value)}}function Qw(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function hu(t,n,e){return t[n]=e}function Kw(t,n){return t[n]}function Bt(t,n,e){let i=t[n];return Object.is(i,e)?!1:(t[n]=e,!0)}function pu(t,n,e,i){let r=Bt(t,n,e);return Bt(t,n+1,i)||r}function Zw(t,n,e,i,r){let o=pu(t,n,e,i);return Bt(t,n+2,r)||o}function Xw(t){return(t.flags&32)===32}function Jw(t,n,e,i,r,o,s,a,l){let c=n.consts,h=Mr(n,t,4,s||null,Vi(c,a));ou(n,e,h,Vi(c,l)),As(n,h);let p=h.tView=ru(2,h,i,r,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,c,null);return n.queries!==null&&(n.queries.template(n,h),p.queries=n.queries.embeddedTView(h)),h}function I(t,n,e,i,r,o,s,a){let l=ee(),c=Fe(),h=t+yt,p=c.firstCreatePass?Jw(h,c,l,n,e,i,r,o,s):c.data[h];ei(p,!1);let v=eS(c,l,p,t);Ts()&&Rs(c,l,v,p),vn(v,l);let m=Vg(v,l,v,p);return l[h]=m,Ls(l,m),Tw(m,p,l),xs(p)&&nu(c,l,p),s!=null&&iu(l,p,a),I}var eS=tS;function tS(t,n,e,i){return Ps(!0),n[Ne].createComment("")}function D(t,n,e,i){let r=ee(),o=Is();if(Bt(r,o,n)){let s=Fe(),a=Gc();Vb(a,r,t,n,e,i)}return D}function tm(t,n,e,i){return Bt(t,Is(),e)?n+Lt(e)+i:Je}function nS(t,n,e,i,r,o){let s=Rp(),a=pu(t,s,e,r);return Ms(2),a?n+Lt(e)+i+Lt(r)+o:Je}function iS(t,n,e,i,r,o,s,a){let l=Rp(),c=Zw(t,l,e,r,s);return Ms(3),c?n+Lt(e)+i+Lt(r)+o+Lt(s)+a:Je}function qo(t,n){return t<<17|n<<2}function Xn(t){return t>>17&32767}function rS(t){return(t&2)==2}function oS(t,n){return t&131071|n<<17}function mc(t){return t|2}function ji(t){return(t&131068)>>2}function bl(t,n){return t&-131069|n<<2}function sS(t){return(t&1)===1}function yc(t){return t|1}function aS(t,n,e,i,r,o){let s=o?n.classBindings:n.styleBindings,a=Xn(s),l=ji(s);t[i]=e;let c=!1,h;if(Array.isArray(e)){let p=e;h=p[1],(h===null||Er(p,h)>0)&&(c=!0)}else h=e;if(r)if(l!==0){let v=Xn(t[a+1]);t[i+1]=qo(v,a),v!==0&&(t[v+1]=bl(t[v+1],i)),t[a+1]=oS(t[a+1],i)}else t[i+1]=qo(a,0),a!==0&&(t[a+1]=bl(t[a+1],i)),a=i;else t[i+1]=qo(l,0),a===0?a=i:t[l+1]=bl(t[l+1],i),l=i;c&&(t[i+1]=mc(t[i+1])),Bh(t,h,i,!0),Bh(t,h,i,!1),lS(n,h,t,i,o),s=qo(a,l),o?n.classBindings=s:n.styleBindings=s}function lS(t,n,e,i,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof n=="string"&&Er(o,n)>=0&&(e[i+1]=yc(e[i+1]))}function Bh(t,n,e,i){let r=t[e+1],o=n===null,s=i?Xn(r):ji(r),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],c=t[s+1];cS(l,n)&&(a=!0,t[s+1]=i?yc(c):mc(c)),s=i?Xn(c):ji(c)}a&&(t[e+1]=i?mc(r):yc(r))}function cS(t,n){return t===null||n==null||(Array.isArray(t)?t[1]:t)===n?!0:Array.isArray(t)&&typeof n=="string"?Er(t,n)>=0:!1}var xt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function uS(t){return t.substring(xt.key,xt.keyEnd)}function dS(t){return fS(t),nm(t,im(t,0,xt.textEnd))}function nm(t,n){let e=xt.textEnd;return e===n?-1:(n=xt.keyEnd=hS(t,xt.key=n,e),im(t,n,e))}function fS(t){xt.key=0,xt.keyEnd=0,xt.value=0,xt.valueEnd=0,xt.textEnd=t.length}function im(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function hS(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}function b(t,n,e){let i=ee(),r=Is();if(Bt(i,r,n)){let o=Fe(),s=Gc();kg(o,s,i,t,n,i[Ne],e,!1)}return b}function vc(t,n,e,i,r){let o=n.inputs,s=r?"class":"style";su(t,e,o[s],s,i)}function Ue(t,n,e){return rm(t,n,e,!1),Ue}function xe(t,n){return rm(t,n,null,!0),xe}function pS(t,n){for(let e=dS(n);e>=0;e=nm(n,e))Ac(t,uS(n),!0)}function rm(t,n,e,i){let r=ee(),o=Fe(),s=Ms(2);if(o.firstUpdatePass&&sm(o,t,s,i),n!==Je&&Bt(r,s,n)){let a=o.data[on()];am(o,a,r,r[Ne],t,r[s+1]=wS(n,e),i,s)}}function gS(t,n,e,i){let r=Fe(),o=Ms(2);r.firstUpdatePass&&sm(r,null,o,i);let s=ee();if(e!==Je&&Bt(s,o,e)){let a=r.data[on()];if(lm(a,i)&&!om(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(e=xl(l,e||"")),vc(r,a,s,e,i)}else bS(r,a,s,s[Ne],s[o+1],s[o+1]=CS(t,n,e),i,o)}}function om(t,n){return n>=t.expandoStartIndex}function sm(t,n,e,i){let r=t.data;if(r[e+1]===null){let o=r[on()],s=om(t,e);lm(o,i)&&n===null&&!s&&(n=!1),n=mS(r,o,n,i),aS(r,o,n,e,s,i)}}function mS(t,n,e,i){let r=Y_(t),o=i?n.residualClasses:n.residualStyles;if(r===null)(i?n.classBindings:n.styleBindings)===0&&(e=wl(null,t,n,e,i),e=br(e,n.attrs,i),o=null);else{let s=n.directiveStylingLast;if(s===-1||t[s]!==r)if(e=wl(r,t,n,e,i),o===null){let l=yS(t,n,i);l!==void 0&&Array.isArray(l)&&(l=wl(null,t,n,l[1],i),l=br(l,n.attrs,i),vS(t,n,i,l))}else o=_S(t,n,i)}return o!==void 0&&(i?n.residualClasses=o:n.residualStyles=o),e}function yS(t,n,e){let i=e?n.classBindings:n.styleBindings;if(ji(i)!==0)return t[Xn(i)]}function vS(t,n,e,i){let r=e?n.classBindings:n.styleBindings;t[Xn(r)]=i}function _S(t,n,e){let i,r=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<r;o++){let s=t[o].hostAttrs;i=br(i,s,e)}return br(i,n.attrs,e)}function wl(t,n,e,i,r){let o=null,s=e.directiveEnd,a=e.directiveStylingLast;for(a===-1?a=e.directiveStart:a++;a<s&&(o=n[a],i=br(i,o.hostAttrs,r),o!==t);)a++;return t!==null&&(e.directiveStylingLast=a),i}function br(t,n,e){let i=e?1:2,r=-1;if(n!==null)for(let o=0;o<n.length;o++){let s=n[o];typeof s=="number"?r=s:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Ac(t,s,e?!0:n[++o]))}return t===void 0?null:t}function CS(t,n,e){if(e==null||e==="")return Ke;let i=[],r=At(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&t(i,o,r[o]);else typeof r=="string"&&n(i,r);return i}function bS(t,n,e,i,r,o,s,a){r===Je&&(r=Ke);let l=0,c=0,h=0<r.length?r[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let v=l<r.length?r[l+1]:void 0,m=c<o.length?o[c+1]:void 0,C=null,S;h===p?(l+=2,c+=2,v!==m&&(C=p,S=m)):p===null||h!==null&&h<p?(l+=2,C=h):(c+=2,C=p,S=m),C!==null&&am(t,n,e,i,C,S,s,a),h=l<r.length?r[l]:null,p=c<o.length?o[c]:null}}function am(t,n,e,i,r,o,s,a){if(!(n.type&3))return;let l=t.data,c=l[a+1],h=sS(c)?Hh(l,n,e,r,ji(c),s):void 0;if(!ms(h)){ms(o)||rS(c)&&(o=Hh(l,null,e,r,a,s));let p=xp(on(),e);gb(i,s,p,r,o)}}function Hh(t,n,e,i,r,o){let s=n===null,a;for(;r>0;){let l=t[r],c=Array.isArray(l),h=c?l[1]:l,p=h===null,v=e[r+1];v===Je&&(v=p?Ke:void 0);let m=p?dl(v,i):h===i?v:void 0;if(c&&!ms(m)&&(m=dl(l,i)),ms(m)&&(a=m,s))return a;let C=t[r+1];r=s?Xn(C):ji(C)}if(n!==null){let l=o?n.residualClasses:n.residualStyles;l!=null&&(a=dl(l,i))}return a}function ms(t){return t!==void 0}function wS(t,n){return t==null||t===""||(typeof n=="string"?t=t+n:typeof t=="object"&&(t=ze(At(t)))),t}function lm(t,n){return(t.flags&(n?8:16))!==0}function cm(t,n,e){let i=ee(),r=tm(i,t,n,e);gS(Ac,pS,r,!0)}function SS(t,n,e,i,r,o){let s=n.consts,a=Vi(s,r),l=Mr(n,t,2,i,a);return ou(n,e,l,Vi(s,o)),l.attrs!==null&&hs(l,l.attrs,!1),l.mergedAttrs!==null&&hs(l,l.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,l),l}function u(t,n,e,i){let r=ee(),o=Fe(),s=yt+t,a=r[Ne],l=o.firstCreatePass?SS(s,o,r,n,e,i):o.data[s],c=ES(o,r,l,a,n,t);r[s]=c;let h=xs(l);return ei(l,!0),Tg(a,c,l),!Xw(l)&&Ts()&&Rs(o,r,c,l),F_()===0&&vn(c,r),L_(),h&&(nu(o,r,l),tu(o,l,r)),i!==null&&iu(r,l),u}function f(){let t=Xe();jc()?Np():(t=t.parent,ei(t,!1));let n=t;$_(n)&&B_(),V_();let e=Fe();return e.firstCreatePass&&(As(e,t),Fc(t)&&e.queries.elementEnd(t)),n.classesWithoutHost!=null&&tC(n)&&vc(e,n,ee(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&nC(n)&&vc(e,n,ee(),n.stylesWithoutHost,!1),f}function y(t,n,e,i){return u(t,n,e,i),f(),y}var ES=(t,n,e,i,r,o)=>(Ps(!0),wg(i,r,Z_()));function DS(t,n,e,i,r){let o=n.consts,s=Vi(o,i),a=Mr(n,t,8,"ng-container",s);s!==null&&hs(a,s,!0);let l=Vi(o,r);return ou(n,e,a,l),n.queries!==null&&n.queries.elementStart(n,a),a}function Ce(t,n,e){let i=ee(),r=Fe(),o=t+yt,s=r.firstCreatePass?DS(o,r,i,n,e):r.data[o];ei(s,!0);let a=xS(r,i,s,t);return i[o]=a,Ts()&&Rs(r,i,a,s),vn(a,i),xs(s)&&(nu(r,i,s),tu(r,s,i)),e!=null&&iu(i,s),Ce}function be(){let t=Xe(),n=Fe();return jc()?Np():(t=t.parent,ei(t,!1)),n.firstCreatePass&&(As(n,t),Fc(t)&&n.queries.elementEnd(t)),be}var xS=(t,n,e,i)=>(Ps(!0),ZC(n[Ne],""));function le(){return ee()}var ys="en-US";var IS=ys;function MS(t){typeof t=="string"&&(IS=t.toLowerCase().replace(/_/g,"-"))}function T(t,n,e,i){let r=ee(),o=Fe(),s=Xe();return um(o,r,r[Ne],s,t,n,i),T}function TS(t,n,e,i){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===e&&r[o+1]===i){let a=n[pr],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function um(t,n,e,i,r,o,s){let a=xs(i),c=t.firstCreatePass&&Bg(t),h=n[Mt],p=$g(n),v=!0;if(i.type&3||s){let S=vt(i,n),B=s?s(S):S,$=p.length,_e=s?me=>s($t(me[i.index])):i.index,ue=null;if(!s&&a&&(ue=TS(t,n,r,i.index)),ue!==null){let me=ue.__ngLastListenerFn__||ue;me.__ngNextListenerFn__=o,ue.__ngLastListenerFn__=o,v=!1}else{o=Gh(i,n,h,o,!1);let me=e.listen(B,r,o);p.push(o,me),c&&c.push(r,_e,$,$+1)}}else o=Gh(i,n,h,o,!1);let m=i.outputs,C;if(v&&m!==null&&(C=m[r])){let S=C.length;if(S)for(let B=0;B<S;B+=2){let $=C[B],_e=C[B+1],nt=n[$][_e].subscribe(o),Ie=p.length;p.push(o,nt),c&&c.push(r,i.index,Ie,-(Ie+1))}}}function Uh(t,n,e,i){let r=se(null);try{return kt(6,n,e),e(i)!==!1}catch(o){return Hg(t,o),!1}finally{kt(7,n,e),se(r)}}function Gh(t,n,e,i,r){return function o(s){if(s===Function)return i;let a=t.componentOffset>-1?wn(t.index,n):n;cu(a);let l=Uh(n,e,i,s),c=o.__ngNextListenerFn__;for(;c;)l=Uh(n,e,c,s)&&l,c=c.__ngNextListenerFn__;return r&&l===!1&&s.preventDefault(),l}}function _(t=1){return K_(t)}function dm(t,n,e){Lw(t,n,e)}function gu(t){let n=ee(),e=Fe(),i=kp();Bc(i+1);let r=du(e,i);if(t.dirty&&A_(n)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let o=$w(n,i);t.reset(o,pC),t.notifyOnChanges()}return!0}return!1}function mu(){return kw(ee(),kp())}function PS(t,n,e,i){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=i}function fm(t){let n=U_();return Mp(n,yt+t)}function d(t,n=""){let e=ee(),i=Fe(),r=t+yt,o=i.firstCreatePass?Mr(i,r,1,n,null):i.data[r],s=AS(i,e,o,n,t);e[r]=s,Ts()&&Rs(i,e,s,o),ei(o,!1)}var AS=(t,n,e,i,r)=>(Ps(!0),QC(n[Ne],i));function Pe(t){return ce("",t,""),Pe}function ce(t,n,e){let i=ee(),r=tm(i,t,n,e);return r!==Je&&au(i,on(),r),ce}function yu(t,n,e,i,r){let o=ee(),s=nS(o,t,n,e,i,r);return s!==Je&&au(o,on(),s),yu}function vu(t,n,e,i,r,o,s){let a=ee(),l=iS(a,t,n,e,i,r,o,s);return l!==Je&&au(a,on(),l),vu}function _u(t,n,e){Jg(n)&&(n=n());let i=ee(),r=Is();if(Bt(i,r,n)){let o=Fe(),s=Gc();kg(o,s,i,t,n,i[Ne],e,!1)}return _u}function hm(t,n){let e=Jg(t);return e&&t.set(n),e}function Cu(t,n){let e=ee(),i=Fe(),r=Xe();return um(i,e,e[Ne],r,t,n),Cu}function OS(t,n,e){let i=Fe();if(i.firstCreatePass){let r=yn(t);_c(e,i.data,i.blueprint,r,!0),_c(n,i.data,i.blueprint,r,!1)}}function _c(t,n,e,i,r){if(t=Ge(t),Array.isArray(t))for(let o=0;o<t.length;o++)_c(t[o],n,e,i,r);else{let o=Fe(),s=ee(),a=Xe(),l=ki(t)?t:Ge(t.provide),c=vp(t),h=a.providerIndexes&1048575,p=a.directiveStart,v=a.providerIndexes>>20;if(ki(t)||!t.multi){let m=new qn(c,r,P),C=El(l,n,r?h:h+v,p);C===-1?(Vl(cs(a,s),o,l),Sl(o,t,n.length),n.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(m),s.push(m)):(e[C]=m,s[C]=m)}else{let m=El(l,n,h+v,p),C=El(l,n,h,h+v),S=m>=0&&e[m],B=C>=0&&e[C];if(r&&!B||!r&&!S){Vl(cs(a,s),o,l);let $=kS(r?RS:NS,e.length,r,i,c);!r&&B&&(e[C].providerFactory=$),Sl(o,t,n.length,0),n.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push($),s.push($)}else{let $=pm(e[r?C:m],c,!r&&i);Sl(o,t,m>-1?m:C,$)}!r&&i&&B&&e[C].componentProviders++}}}function Sl(t,n,e,i){let r=ki(n),o=g_(n);if(r||o){let l=(o?Ge(n.useClass):n).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!r&&n.multi){let h=c.indexOf(e);h===-1?c.push(e,[i,l]):c[h+1].push(i,l)}else c.push(e,l)}}}function pm(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function El(t,n,e,i){for(let r=e;r<i;r++)if(n[r]===t)return r;return-1}function NS(t,n,e,i){return Cc(this.multi,[])}function RS(t,n,e,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Yn(e,e[Z],this.providerFactory.index,i);o=a.slice(0,s),Cc(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Cc(r,o);return o}function Cc(t,n){for(let e=0;e<t.length;e++){let i=t[e];n.push(i())}return n}function kS(t,n,e,i,r){let o=new qn(t,e,P);return o.multi=[],o.index=n,o.componentProviders=0,pm(o,r,i&&!e),o}function bu(t,n=[]){return e=>{e.providersResolver=(i,r)=>OS(i,r?r(t):t,n)}}var FS=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let i=gp(!1,e.type),r=i.length>0?fu([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=x({token:t,providedIn:"environment",factory:()=>new t(k(mt))})}}return t})();function he(t){$s("NgStandalone"),t.getStandaloneInjector=n=>n.get(FS).getOrCreateStandaloneInjector(t)}function gm(t,n,e){let i=$c()+t,r=ee();return r[i]===Je?hu(r,i,e?n.call(e):n()):Kw(r,i)}function Hs(t,n,e,i,r){return VS(ee(),$c(),t,n,e,i,r)}function mm(t,n){let e=t[n];return e===Je?void 0:e}function LS(t,n,e,i,r,o){let s=n+e;return Bt(t,s,r)?hu(t,s+1,o?i.call(o,r):i(r)):mm(t,s+1)}function VS(t,n,e,i,r,o,s){let a=n+e;return pu(t,a,r,o)?hu(t,a+2,s?i.call(s,r,o):i(r,o)):mm(t,a+2)}function Dn(t,n){let e=Fe(),i,r=t+yt;e.firstCreatePass?(i=jS(n,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];let o=i.factory||(i.factory=Hn(i.type,!0)),s,a=Qe(P);try{let l=ls(!1),c=o();return ls(l),PS(e,ee(),r,c),c}finally{Qe(a)}}function jS(t,n){if(n)for(let e=n.length-1;e>=0;e--){let i=n[e];if(t===i.name)return i}}function xn(t,n,e){let i=t+yt,r=ee(),o=Mp(r,i);return $S(r,i)?LS(r,$c(),n,o.transform,e,o):o.transform(e)}function $S(t,n){return t[Z].data[n].pure}function ym(t,n){return Vs(t,n)}var Us=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var vm=new Y("");function In(t){return!!t&&typeof t.then=="function"}function wu(t){return!!t&&typeof t.subscribe=="function"}var _m=new Y(""),Cm=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=O(_m,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let e=[];for(let r of this.appInits){let o=r();if(In(o))e.push(o);else if(wu(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),e.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Su=new Y("");function BS(){Ff(()=>{throw new E(600,!1)})}function HS(t){return t.isBoundToModule}function US(t,n,e){try{let i=e();return In(i)?i.catch(r=>{throw n.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>t.handleError(i)),i}}var Tr=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=O(Jp),this.afterRenderEffectManager=O(Qg),this.externalTestViews=new Set,this.beforeRender=new we,this.afterTick=new we,this.componentTypes=[],this.components=[],this.isStable=O(Bs).hasPendingTasks.pipe(U(e=>!e)),this._injector=O(mt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){let r=e instanceof fs;if(!this._injector.get(Cm).done){let v=!r&&dp(e),m=!1;throw new E(405,m)}let s;r?s=e:s=this._injector.get(js).resolveComponentFactory(e),this.componentTypes.push(s.componentType);let a=HS(s)?void 0:this._injector.get(_n),l=i||s.selector,c=s.create(Hi.NULL,[],l,a),h=c.location.nativeElement,p=c.injector.get(vm,null);return p?.registerApplication(h),c.onDestroy(()=>{this.detachView(c.hostView),Dl(this.components,c),p?.unregisterApplication(h)}),this._loadComponent(c),c}tick(){this._tick(!0)}_tick(e){if(this._runningTick)throw new E(101,!1);let i=se(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(e)}catch(r){this.internalErrorHandler(r)}finally{this.afterTick.next(),this._runningTick=!1,se(i)}}detectChangesInAttachedViews(e){let i=0,r=this.afterRenderEffectManager;for(;;){if(i===Gg)throw new E(103,!1);if(e){let o=i===0;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)GS(s,o,a)}if(i++,r.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>bc(o))&&(r.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>bc(o))))break}}attachView(e){let i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){let i=e;Dl(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);let i=this._injector.get(Su,[]);[...this._bootstrapListeners,...i].forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Dl(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new E(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Dl(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function GS(t,n,e){!n&&!bc(t)||zS(t,e,n)}function bc(t){return Vc(t)}function zS(t,n,e){let i;e?(i=0,t[G]|=1024):t[G]&64?i=0:i=1,zg(t,n,i)}var wc=class{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}},Eu=(()=>{class t{compileModuleSync(e){return new gc(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let i=this.compileModuleSync(e),r=fp(e),o=bg(r.declarations).reduce((s,a)=>{let l=Un(a);return l&&s.push(new _r(l)),s},[]);return new wc(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var WS=(()=>{class t{constructor(){this.zone=O(Te),this.applicationRef=O(Tr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function qS(t){return[{provide:Te,useFactory:t},{provide:Ri,multi:!0,useFactory:()=>{let n=O(WS,{optional:!0});return()=>n.initialize()}},{provide:Ri,multi:!0,useFactory:()=>{let n=O(ZS);return()=>{n.initialize()}}},{provide:Jp,useFactory:YS}]}function YS(){let t=O(Te),n=O(Jt);return e=>t.runOutsideAngular(()=>n.handleError(e))}function QS(t){let n=qS(()=>new Te(KS(t)));return ws([[],n])}function KS(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var ZS=(()=>{class t{constructor(){this.subscription=new Ae,this.initialized=!1,this.zone=O(Te),this.pendingTasks=O(Bs)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Te.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function XS(){return typeof $localize<"u"&&$localize.locale||ys}var Du=new Y("",{providedIn:"root",factory:()=>O(Du,J.Optional|J.SkipSelf)||XS()});var bm=new Y("");var Jo=null;function JS(t=[],n){return Hi.create({name:n,providers:[{provide:Ss,useValue:"platform"},{provide:bm,useValue:new Set([()=>Jo=null])},...t]})}function eE(t=[]){if(Jo)return Jo;let n=JS(t);return Jo=n,BS(),tE(n),n}function tE(t){t.get(qc,null)?.forEach(e=>e())}var _t=(()=>{class t{static{this.__NG_ELEMENT_ID__=nE}}return t})();function nE(t){return iE(Xe(),ee(),(t&16)===16)}function iE(t,n,e){if(Ds(t)&&!e){let i=wn(t.index,n);return new Qn(i,i)}else if(t.type&47){let i=n[jt];return new Qn(i,n)}return null}var Sc=class{constructor(){}supports(n){return em(n)}create(n){return new Ec(n)}},rE=(t,n)=>n,Ec=class{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||rE}forEachItem(n){let e;for(e=this._itHead;e!==null;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){let s=!i||e&&e.currentIndex<zh(i,r,o)?e:i,a=zh(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,s.previousIndex==null)r++;else{o||(o=[]);let c=a-r,h=l-r;if(c!=h){for(let v=0;v<c;v++){let m=v<o.length?o[v]:o[v]=0,C=m+v;h<=C&&C<c&&(o[v]=m+1)}let p=s.previousIndex;o[p]=h-c}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)n(e)}diff(n){if(n==null&&(n=[]),!em(n))throw new E(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._itHead,i=!1,r,o,s;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,o,s,a),i=!0):(i&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else r=0,Yw(n,a=>{s=this._trackByFn(r,a),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,a,s,r),i=!0):(i&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,i,r){let o;return n===null?o=this._itTail:(o=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,o,r)):(n=this._linkedRecords===null?null:this._linkedRecords.get(i,r),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,o,r)):n=this._addAfter(new Dc(e,i),o,r)),n}_verifyReinsertion(n,e,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?n=this._reinsertAfter(o,n._prev,r):n.currentIndex!=r&&(n.currentIndex=r,this._addToMoves(n,r)),n}_truncate(n){for(;n!==null;){let e=n._next;this._addToRemovals(this._unlink(n)),n=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let r=n._prevRemoved,o=n._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(n,e,i),this._addToMoves(n,i),n}_moveAfter(n,e,i){return this._unlink(n),this._insertAfter(n,e,i),this._addToMoves(n,i),n}_addAfter(n,e,i){return this._insertAfter(n,e,i),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,e,i){let r=e===null?this._itHead:e._next;return n._next=r,n._prev=e,r===null?this._itTail=n:r._prev=n,e===null?this._itHead=n:e._next=n,this._linkedRecords===null&&(this._linkedRecords=new vs),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let e=n._prev,i=n._next;return e===null?this._itHead=i:e._next=i,i===null?this._itTail=e:i._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new vs),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},Dc=class{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},xc=class{constructor(){this._head=null,this._tail=null}add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let i;for(i=this._head;i!==null;i=i._nextDup)if((e===null||e<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){let e=n._prevDup,i=n._nextDup;return e===null?this._head=i:e._nextDup=i,i===null?this._tail=e:i._prevDup=e,this._head===null}},vs=class{constructor(){this.map=new Map}put(n){let e=n.trackById,i=this.map.get(e);i||(i=new xc,this.map.set(e,i)),i.add(n)}get(n,e){let i=n,r=this.map.get(i);return r?r.get(n,e):null}remove(n){let e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function zh(t,n,e){let i=t.previousIndex;if(i===null)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+n+r}function Wh(){return new xu([new Sc])}var xu=(()=>{class t{static{this.\u0275prov=x({token:t,providedIn:"root",factory:Wh})}constructor(e){this.factories=e}static create(e,i){if(i!=null){let r=i.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||Wh()),deps:[[t,new ip,new Tc]]}}find(e){let i=this.factories.find(r=>r.supports(e));if(i!=null)return i;throw new E(901,!1)}}return t})();function wm(t){try{let{rootComponent:n,appProviders:e,platformProviders:i}=t,r=eE(i),o=[QS(),...e||[]],a=new gs({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1}).injector,l=a.get(Te);return l.run(()=>{a.resolveInjectorInitializers();let c=a.get(Jt,null),h;l.runOutsideAngular(()=>{h=l.onError.subscribe({next:m=>{c.handleError(m)}})});let p=()=>a.destroy(),v=r.get(bm);return v.add(p),a.onDestroy(()=>{h.unsubscribe(),v.delete(p)}),US(c,l,()=>{let m=a.get(Cm);return m.runInitializers(),m.donePromise.then(()=>{let C=a.get(Du,ys);MS(C||ys);let S=a.get(Tr);return n!==void 0&&S.bootstrap(n),S})})})}catch(n){return Promise.reject(n)}}function Gs(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Iu(t){let n=se(null);try{return t()}finally{se(n)}}var Mm=null;function ln(){return Mm}function Tm(t){Mm??=t}var zs=class{};var qe=new Y(""),Pm=(()=>{class t{historyGo(e){throw new Error("")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:()=>O(aE),providedIn:"platform"})}}return t})();var aE=(()=>{class t extends Pm{constructor(){super(),this._doc=O(qe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ln().getBaseHref(this._doc)}onPopState(e){let i=ln().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){let i=ln().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function Am(t,n){if(t.length==0)return n;if(n.length==0)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,e==2?t+n.substring(1):e==1?t+n:t+"/"+n}function Sm(t){let n=t.match(/#|\?|$/),e=n&&n.index||t.length,i=e-(t[e-1]==="/"?1:0);return t.slice(0,i)+t.slice(e)}function ti(t){return t&&t[0]!=="?"?"?"+t:t}var qs=(()=>{class t{historyGo(e){throw new Error("")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:()=>O(Om),providedIn:"root"})}}return t})(),lE=new Y(""),Om=(()=>{class t extends qs{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??O(qe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Am(this._baseHref,e)}path(e=!1){let i=this._platformLocation.pathname+ti(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+ti(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+ti(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||t)(k(Pm),k(lE,8))}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Pr=(()=>{class t{constructor(e){this._subject=new ge,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;let i=this._locationStrategy.getBaseHref();this._basePath=dE(Sm(Em(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+ti(i))}normalize(e){return t.stripTrailingSlash(uE(this._basePath,Em(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ti(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ti(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static{this.normalizeQueryParams=ti}static{this.joinWithSlash=Am}static{this.stripTrailingSlash=Sm}static{this.\u0275fac=function(i){return new(i||t)(k(qs))}}static{this.\u0275prov=x({token:t,factory:()=>cE(),providedIn:"root"})}}return t})();function cE(){return new Pr(k(qs))}function uE(t,n){if(!t||!n.startsWith(t))return n;let e=n.substring(t.length);return e===""||["/",";","?","#"].includes(e[0])?e:n}function Em(t){return t.replace(/\/index.html$/,"")}function dE(t){if(new RegExp("^(https?:)?//").test(t)){let[,e]=t.split(/\/\/[^\/]+/);return e}return t}function Nm(t,n){n=encodeURIComponent(n);for(let e of t.split(";")){let i=e.indexOf("="),[r,o]=i==-1?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===n)return decodeURIComponent(o)}return null}var Mu=/\s+/,Dm=[],Ys=(()=>{class t{constructor(e,i){this._ngEl=e,this._renderer=i,this.initialClasses=Dm,this.stateMap=new Map}set klass(e){this.initialClasses=e!=null?e.trim().split(Mu):Dm}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(Mu):e}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let i of e)this._updateState(i,!0);else if(e!=null)for(let i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){let r=this.stateMap.get(e);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){e=e.trim(),e.length>0&&e.split(Mu).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||t)(P(at),P(an))}}static{this.\u0275dir=Ze({type:t,selectors:[["","ngClass",""]],inputs:{klass:[We.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var Tu=class{constructor(n,e,i,r){this.$implicit=n,this.ngForOf=e,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ut=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;if(!this._differ&&e)if(0)try{}catch{}else this._differ=this._differs.find(e).create(this.ngForTrackBy)}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new Tu(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),xm(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);xm(o,r)})}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||t)(P(En),P(Kn),P(xu))}}static{this.\u0275dir=Ze({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function xm(t,n){t.context.$implicit=n.item}var Se=(()=>{class t{constructor(e,i){this._viewContainer=e,this._context=new Pu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Im("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Im("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||t)(P(En),P(Kn))}}static{this.\u0275dir=Ze({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),Pu=class{constructor(){this.$implicit=null,this.ngIf=null}};function Im(t,n){if(!!!(!n||n.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${ze(n)}'.`)}function fE(t,n){return new E(2100,!1)}var Au=class{createSubscription(n,e){return Iu(()=>n.subscribe({next:e,error:i=>{throw i}}))}dispose(n){Iu(()=>n.unsubscribe())}},Ou=class{createSubscription(n,e){return n.then(e,i=>{throw i})}dispose(n){}},hE=new Ou,pE=new Au,Qs=(()=>{class t{constructor(e){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(In(e))return hE;if(wu(e))return pE;throw fE(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(i){return new(i||t)(P(_t,16))}}static{this.\u0275pipe=bs({name:"async",type:t,pure:!1,standalone:!0})}}return t})();var ve=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=bn({type:t})}static{this.\u0275inj=Cn({})}}return t})(),Rm="browser",gE="server";function Ru(t){return t===gE}var Ws=class{};var Lu=class extends zs{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Vu=class t extends Lu{static makeCurrent(){Tm(new t)}onAndCancel(n,e,i){return n.addEventListener(e,i),()=>{n.removeEventListener(e,i)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return e=e||this.getDefaultDocument(),e.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return e==="window"?window:e==="document"?n:e==="body"?n.body:null}getBaseHref(n){let e=mE();return e==null?null:yE(e)}resetBaseElement(){Ar=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Nm(document.cookie,n)}},Ar=null;function mE(){return Ar=Ar||document.querySelector("base"),Ar?Ar.getAttribute("href"):null}function yE(t){return new URL(t,document.baseURI).pathname}var vE=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac})}}return t})(),ju=new Y(""),Lm=(()=>{class t{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new E(5101,!1);return this._eventNameToPlugin.set(e,i),i}static{this.\u0275fac=function(i){return new(i||t)(k(ju),k(Te))}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac})}}return t})(),Ks=class{constructor(n){this._doc=n}},ku="ng-app-id",Vm=(()=>{class t{constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ru(o),this.resetHostNodes()}addStyles(e){for(let i of e)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(e){for(let i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){let i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${ku}="${this.appId}"]`);if(e?.length){let i=new Map;return e.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){let r=this.styleRef;if(r.has(e)){let o=r.get(e);return o.usage+=i,o.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){let r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===e)return r.delete(i),o.removeAttribute(ku),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(ku,this.appId),e.appendChild(s),s}}addStyleToHost(e,i){let r=this.getStyleElement(e,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||t)(k(qe),k(Wc),k(Qc,8),k(Gi))}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac})}}return t})(),Fu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Bu=/%COMP%/g,jm="%COMP%",_E=`_nghost-${jm}`,CE=`_ngcontent-${jm}`,bE=!0,wE=new Y("",{providedIn:"root",factory:()=>bE});function SE(t){return CE.replace(Bu,t)}function EE(t){return _E.replace(Bu,t)}function $m(t,n){return n.map(e=>e.replace(Bu,t))}var Zs=(()=>{class t{constructor(e,i,r,o,s,a,l,c=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Ru(a),this.defaultRenderer=new Or(e,s,l,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Vt.ShadowDom&&(i=A(w({},i),{encapsulation:Vt.Emulated}));let r=this.getOrCreateRenderer(e,i);return r instanceof Xs?r.applyToHost(e):r instanceof Nr&&r.applyStyles(),r}getOrCreateRenderer(e,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(i.encapsulation){case Vt.Emulated:o=new Xs(l,c,i,this.appId,h,s,a,p);break;case Vt.ShadowDom:return new $u(l,c,e,i,s,a,this.nonce,p);default:o=new Nr(l,c,i,h,s,a,p);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||t)(k(Lm),k(Vm),k(Wc),k(wE),k(qe),k(Gi),k(Te),k(Qc))}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac})}}return t})(),Or=class{constructor(n,e,i,r){this.eventManager=n,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(Fu[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(km(n)?n.content:n).appendChild(e)}insertBefore(n,e,i){n&&(km(n)?n.content:n).insertBefore(e,i)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let i=typeof n=="string"?this.doc.querySelector(n):n;if(!i)throw new E(-5104,!1);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,r){if(r){e=r+":"+e;let o=Fu[r];o?n.setAttributeNS(o,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){let r=Fu[i];r?n.removeAttributeNS(r,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,r){r&(tn.DashCase|tn.Important)?n.style.setProperty(e,i,r&tn.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&tn.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){n!=null&&(n[e]=i)}setValue(n,e){n.nodeValue=e}listen(n,e,i){if(typeof n=="string"&&(n=ln().getGlobalEventTarget(this.doc,n),!n))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(i))}decoratePreventDefault(n){return e=>{if(e==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))===!1&&e.preventDefault()}}};function km(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var $u=class extends Or{constructor(n,e,i,r,o,s,a,l){super(n,o,s,l),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=$m(r.id,r.styles);for(let h of c){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Nr=class extends Or{constructor(n,e,i,r,o,s,a,l){super(n,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=l?$m(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Xs=class extends Nr{constructor(n,e,i,r,o,s,a,l){let c=r+"-"+i.id;super(n,e,i,o,s,a,l,c),this.contentAttr=SE(c),this.hostAttr=EE(c)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){let i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}},DE=(()=>{class t extends Ks{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||t)(k(qe))}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac})}}return t})(),Fm=["alt","control","meta","shift"],xE={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},IE={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},ME=(()=>{class t extends Ks{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,i,r){let o=t.parseEventName(i),s=t.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ln().onAndCancel(e,o.domEventName,s))}static parseEventName(e){let i=e.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=t._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),Fm.forEach(c=>{let h=i.indexOf(c);h>-1&&(i.splice(h,1),s+=c+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(e,i){let r=xE[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),Fm.forEach(s=>{if(s!==r){let a=IE[s];a(e)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{t.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static{this.\u0275fac=function(i){return new(i||t)(k(qe))}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac})}}return t})();function Bm(t,n){return wm(w({rootComponent:t},TE(n)))}function TE(t){return{appProviders:[...RE,...t?.providers??[]],platformProviders:NE}}function PE(){Vu.makeCurrent()}function AE(){return new Jt}function OE(){return sg(document),document}var NE=[{provide:Gi,useValue:Rm},{provide:qc,useValue:PE,multi:!0},{provide:qe,useFactory:OE,deps:[]}];var RE=[{provide:Ss,useValue:"root"},{provide:Jt,useFactory:AE,deps:[]},{provide:ju,useClass:DE,multi:!0,deps:[qe,Te,Gi]},{provide:ju,useClass:ME,multi:!0,deps:[qe]},Zs,Vm,Lm,{provide:Zn,useExisting:Zs},{provide:Ws,useClass:vE,deps:[]},[]];var Hm=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(i){return new(i||t)(k(qe))}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Hu=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:function(i){let r=null;return i?r=new(i||t):r=k(kE),r},providedIn:"root"})}}return t})(),kE=(()=>{class t extends Hu{constructor(e){super(),this._doc=e}sanitize(e,i){if(i==null)return null;switch(e){case Ht.NONE:return i;case Ht.HTML:return Sn(i,"HTML")?At(i):Zc(this._doc,String(i)).toString();case Ht.STYLE:return Sn(i,"Style")?At(i):i;case Ht.SCRIPT:if(Sn(i,"Script"))return At(i);throw new E(5200,!1);case Ht.URL:return Sn(i,"URL")?At(i):Ns(String(i));case Ht.RESOURCE_URL:if(Sn(i,"ResourceURL"))return At(i);throw new E(5201,!1);default:throw new E(5202,!1)}}bypassSecurityTrustHtml(e){return cg(e)}bypassSecurityTrustStyle(e){return ug(e)}bypassSecurityTrustScript(e){return dg(e)}bypassSecurityTrustUrl(e){return fg(e)}bypassSecurityTrustResourceUrl(e){return hg(e)}static{this.\u0275fac=function(i){return new(i||t)(k(qe))}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var K="primary",Yr=Symbol("RouteTitle"),qu=class{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Zi(t){return new qu(t)}function FE(t,n,e){let i=e.path.split("/");if(i.length>t.length||e.pathMatch==="full"&&(n.hasChildren()||i.length<t.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=t[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function LE(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Gt(t[e],n[e]))return!1;return!0}function Gt(t,n){let e=t?Yu(t):void 0,i=n?Yu(n):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!Qm(t[r],n[r]))return!1;return!0}function Yu(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Qm(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;let e=[...t].sort(),i=[...n].sort();return e.every((r,o)=>i[o]===r)}else return t===n}function Km(t){return t.length>0?t[t.length-1]:null}function Pn(t){return rl(t)?t:In(t)?Oe(Promise.resolve(t)):W(t)}var VE={exact:Xm,subset:Jm},Zm={exact:jE,subset:$E,ignored:()=>!0};function Gm(t,n,e){return VE[e.paths](t.root,n.root,e.matrixParams)&&Zm[e.queryParams](t.queryParams,n.queryParams)&&!(e.fragment==="exact"&&t.fragment!==n.fragment)}function jE(t,n){return Gt(t,n)}function Xm(t,n,e){if(!ii(t.segments,n.segments)||!ta(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(let i in n.children)if(!t.children[i]||!Xm(t.children[i],n.children[i],e))return!1;return!0}function $E(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>Qm(t[e],n[e]))}function Jm(t,n,e){return ey(t,n,n.segments,e)}function ey(t,n,e,i){if(t.segments.length>e.length){let r=t.segments.slice(0,e.length);return!(!ii(r,e)||n.hasChildren()||!ta(r,e,i))}else if(t.segments.length===e.length){if(!ii(t.segments,e)||!ta(t.segments,e,i))return!1;for(let r in n.children)if(!t.children[r]||!Jm(t.children[r],n.children[r],i))return!1;return!0}else{let r=e.slice(0,t.segments.length),o=e.slice(t.segments.length);return!ii(t.segments,r)||!ta(t.segments,r,i)||!t.children[K]?!1:ey(t.children[K],n,o,i)}}function ta(t,n,e){return n.every((i,r)=>Zm[e](t[r].parameters,i.parameters))}var Mn=class{constructor(n=new pe([],{}),e={},i=null){this.root=n,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Zi(this.queryParams),this._queryParamMap}toString(){return UE.serialize(this)}},pe=class{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return na(this)}},ni=class{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=Zi(this.parameters),this._parameterMap}toString(){return ny(this)}};function BE(t,n){return ii(t,n)&&t.every((e,i)=>Gt(e.parameters,n[i].parameters))}function ii(t,n){return t.length!==n.length?!1:t.every((e,i)=>e.path===n[i].path)}function HE(t,n){let e=[];return Object.entries(t.children).forEach(([i,r])=>{i===K&&(e=e.concat(n(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==K&&(e=e.concat(n(r,i)))}),e}var Cd=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:()=>new ra,providedIn:"root"})}}return t})(),ra=class{parse(n){let e=new Ku(n);return new Mn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){let e=`/${Rr(n.root,!0)}`,i=WE(n.queryParams),r=typeof n.fragment=="string"?`#${GE(n.fragment)}`:"";return`${e}${i}${r}`}},UE=new ra;function na(t){return t.segments.map(n=>ny(n)).join("/")}function Rr(t,n){if(!t.hasChildren())return na(t);if(n){let e=t.children[K]?Rr(t.children[K],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==K&&i.push(`${r}:${Rr(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=HE(t,(i,r)=>r===K?[Rr(t.children[K],!1)]:[`${r}:${Rr(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[K]!=null?`${na(t)}/${e[0]}`:`${na(t)}/(${e.join("//")})`}}function ty(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Js(t){return ty(t).replace(/%3B/gi,";")}function GE(t){return encodeURI(t)}function Qu(t){return ty(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ia(t){return decodeURIComponent(t)}function zm(t){return ia(t.replace(/\+/g,"%20"))}function ny(t){return`${Qu(t.path)}${zE(t.parameters)}`}function zE(t){return Object.entries(t).map(([n,e])=>`;${Qu(n)}=${Qu(e)}`).join("")}function WE(t){let n=Object.entries(t).map(([e,i])=>Array.isArray(i)?i.map(r=>`${Js(e)}=${Js(r)}`).join("&"):`${Js(e)}=${Js(i)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}var qE=/^[^\/()?;#]+/;function Uu(t){let n=t.match(qE);return n?n[0]:""}var YE=/^[^\/()?;=#]+/;function QE(t){let n=t.match(YE);return n?n[0]:""}var KE=/^[^=?&#]+/;function ZE(t){let n=t.match(KE);return n?n[0]:""}var XE=/^[^&#]+/;function JE(t){let n=t.match(XE);return n?n[0]:""}var Ku=class{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new pe([],{}):new pe([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(i[K]=new pe(n,e)),i}parseSegment(){let n=Uu(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new E(4009,!1);return this.capture(n),new ni(ia(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let e=QE(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let r=Uu(this.remaining);r&&(i=r,this.capture(i))}n[ia(e)]=ia(i)}parseQueryParam(n){let e=ZE(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let s=JE(this.remaining);s&&(i=s,this.capture(i))}let r=zm(e),o=zm(i);if(n.hasOwnProperty(r)){let s=n[r];Array.isArray(s)||(s=[s],n[r]=s),s.push(o)}else n[r]=o}parseParens(n){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Uu(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new E(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=K);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[K]:new pe([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new E(4011,!1)}};function iy(t){return t.segments.length>0?new pe([],{[K]:t}):t}function ry(t){let n={};for(let[i,r]of Object.entries(t.children)){let o=ry(r);if(i===K&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[i]=o)}let e=new pe(t.segments,n);return eD(e)}function eD(t){if(t.numberOfChildren===1&&t.children[K]){let n=t.children[K];return new pe(t.segments.concat(n.segments),n.children)}return t}function Xi(t){return t instanceof Mn}function tD(t,n,e=null,i=null){let r=oy(t);return sy(r,n,e,i)}function oy(t){let n;function e(o){let s={};for(let l of o.children){let c=e(l);s[l.outlet]=c}let a=new pe(o.url,s);return o===t&&(n=a),a}let i=e(t.root),r=iy(i);return n??r}function sy(t,n,e,i){let r=t;for(;r.parent;)r=r.parent;if(n.length===0)return Gu(r,r,r,e,i);let o=nD(n);if(o.toRoot())return Gu(r,r,new pe([],{}),e,i);let s=iD(o,r,t),a=s.processChildren?Lr(s.segmentGroup,s.index,o.commands):ly(s.segmentGroup,s.index,o.commands);return Gu(r,s.segmentGroup,a,e,i)}function oa(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function $r(t){return typeof t=="object"&&t!=null&&t.outlets}function Gu(t,n,e,i,r){let o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(h=>`${h}`):`${c}`});let s;t===n?s=e:s=ay(t,n,e);let a=iy(ry(s));return new Mn(a,o,r)}function ay(t,n,e){let i={};return Object.entries(t.children).forEach(([r,o])=>{o===n?i[r]=e:i[r]=ay(o,n,e)}),new pe(t.segments,i)}var sa=class{constructor(n,e,i){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=i,n&&i.length>0&&oa(i[0]))throw new E(4003,!1);let r=i.find($r);if(r&&r!==Km(i))throw new E(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function nD(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new sa(!0,0,t);let n=0,e=!1,i=t.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?e=!0:a===".."?n++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new sa(e,n,i)}var Qi=class{constructor(n,e,i){this.segmentGroup=n,this.processChildren=e,this.index=i}};function iD(t,n,e){if(t.isAbsolute)return new Qi(n,!0,0);if(!e)return new Qi(n,!1,NaN);if(e.parent===null)return new Qi(e,!0,0);let i=oa(t.commands[0])?0:1,r=e.segments.length-1+i;return rD(e,r,t.numberOfDoubleDots)}function rD(t,n,e){let i=t,r=n,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new E(4005,!1);r=i.segments.length}return new Qi(i,!1,r-o)}function oD(t){return $r(t[0])?t[0].outlets:{[K]:t}}function ly(t,n,e){if(t??=new pe([],{}),t.segments.length===0&&t.hasChildren())return Lr(t,n,e);let i=sD(t,n,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let o=new pe(t.segments.slice(0,i.pathIndex),{});return o.children[K]=new pe(t.segments.slice(i.pathIndex),t.children),Lr(o,0,r)}else return i.match&&r.length===0?new pe(t.segments,{}):i.match&&!t.hasChildren()?Zu(t,n,e):i.match?Lr(t,0,r):Zu(t,n,e)}function Lr(t,n,e){if(e.length===0)return new pe(t.segments,{});{let i=oD(e),r={};if(Object.keys(i).some(o=>o!==K)&&t.children[K]&&t.numberOfChildren===1&&t.children[K].segments.length===0){let o=Lr(t.children[K],n,e);return new pe(t.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=ly(t.children[o],n,s))}),Object.entries(t.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new pe(t.segments,r)}}function sD(t,n,e){let i=0,r=n,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=e.length)return o;let s=t.segments[r],a=e[i];if($r(a))break;let l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!qm(l,c,s))return o;i+=2}else{if(!qm(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Zu(t,n,e){let i=t.segments.slice(0,n),r=0;for(;r<e.length;){let o=e[r];if($r(o)){let l=aD(o.outlets);return new pe(i,l)}if(r===0&&oa(e[0])){let l=t.segments[n];i.push(new ni(l.path,Wm(e[0]))),r++;continue}let s=$r(o)?o.outlets[K]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&oa(a)?(i.push(new ni(s,Wm(a))),r+=2):(i.push(new ni(s,{})),r++)}return new pe(i,{})}function aD(t){let n={};return Object.entries(t).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(n[e]=Zu(new pe([],{}),0,i))}),n}function Wm(t){let n={};return Object.entries(t).forEach(([e,i])=>n[e]=`${i}`),n}function qm(t,n,e){return t==e.path&&Gt(n,e.parameters)}var Vr="imperative",Be=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Be||{}),Ct=class{constructor(n,e){this.id=n,this.url=e}},Br=class extends Ct{constructor(n,e,i="imperative",r=null){super(n,e),this.type=Be.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ri=class extends Ct{constructor(n,e,i){super(n,e),this.urlAfterRedirects=i,this.type=Be.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ut=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(ut||{}),Xu=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Xu||{}),Tn=class extends Ct{constructor(n,e,i,r){super(n,e),this.reason=i,this.code=r,this.type=Be.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},oi=class extends Ct{constructor(n,e,i,r){super(n,e),this.reason=i,this.code=r,this.type=Be.NavigationSkipped}},Hr=class extends Ct{constructor(n,e,i,r){super(n,e),this.error=i,this.target=r,this.type=Be.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},aa=class extends Ct{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=Be.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ju=class extends Ct{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=Be.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ed=class extends Ct{constructor(n,e,i,r,o){super(n,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=Be.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},td=class extends Ct{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=Be.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nd=class extends Ct{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r,this.type=Be.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},id=class{constructor(n){this.route=n,this.type=Be.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},rd=class{constructor(n){this.route=n,this.type=Be.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},od=class{constructor(n){this.snapshot=n,this.type=Be.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sd=class{constructor(n){this.snapshot=n,this.type=Be.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ad=class{constructor(n){this.snapshot=n,this.type=Be.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ld=class{constructor(n){this.snapshot=n,this.type=Be.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ur=class{},Gr=class{constructor(n){this.url=n}};var cd=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ha,this.attachRef=null}},ha=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){let r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new cd,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),la=class{constructor(n){this._root=n}get root(){return this._root.value}parent(n){let e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){let e=ud(n,this._root);return e?e.children.map(i=>i.value):[]}firstChild(n){let e=ud(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){let e=dd(n,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return dd(n,this._root).map(e=>e.value)}};function ud(t,n){if(t===n.value)return n;for(let e of n.children){let i=ud(t,e);if(i)return i}return null}function dd(t,n){if(t===n.value)return[n];for(let e of n.children){let i=dd(t,e);if(i.length)return i.unshift(n),i}return[]}var ct=class{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}};function Yi(t){let n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}var ca=class extends la{constructor(n,e){super(n),this.snapshot=e,wd(this,n)}toString(){return this.snapshot.toString()}};function cy(t){let n=lD(t),e=new de([new ni("",{})]),i=new de({}),r=new de({}),o=new de({}),s=new de(""),a=new Ji(e,i,o,s,r,K,t,n.root);return a.snapshot=n.root,new ca(new ct(a,[]),n)}function lD(t){let n={},e={},i={},r="",o=new zr([],n,i,r,e,K,t,null,{});return new ua("",new ct(o,[]))}var Ji=class{constructor(n,e,i,r,o,s,a,l){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(U(c=>c[Yr]))??W(void 0),this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(U(n=>Zi(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(U(n=>Zi(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function bd(t,n,e="emptyOnly"){let i,{routeConfig:r}=t;return n!==null&&(e==="always"||r?.path===""||!n.component&&!n.routeConfig?.loadComponent)?i={params:w(w({},n.params),t.params),data:w(w({},n.data),t.data),resolve:w(w(w(w({},t.data),n.data),r?.data),t._resolvedData)}:i={params:w({},t.params),data:w({},t.data),resolve:w(w({},t.data),t._resolvedData??{})},r&&dy(r)&&(i.resolve[Yr]=r.title),i}var zr=class{get title(){return this.data?.[Yr]}constructor(n,e,i,r,o,s,a,l,c){this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Zi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Zi(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${e}')`}},ua=class extends la{constructor(n,e){super(e),this.url=n,wd(this,e)}toString(){return uy(this._root)}};function wd(t,n){n.value._routerState=t,n.children.forEach(e=>wd(t,e))}function uy(t){let n=t.children.length>0?` { ${t.children.map(uy).join(", ")} } `:"";return`${t.value}${n}`}function zu(t){if(t.snapshot){let n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Gt(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),Gt(n.params,e.params)||t.paramsSubject.next(e.params),LE(n.url,e.url)||t.urlSubject.next(e.url),Gt(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function fd(t,n){let e=Gt(t.params,n.params)&&BE(t.url,n.url),i=!t.parent!=!n.parent;return e&&!i&&(!t.parent||fd(t.parent,n.parent))}function dy(t){return typeof t.title=="string"||t.title===null}var cD=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=K,this.activateEvents=new ge,this.deactivateEvents=new ge,this.attachEvents=new ge,this.detachEvents=new ge,this.parentContexts=O(ha),this.location=O(En),this.changeDetector=O(_t),this.environmentInjector=O(mt),this.inputBinder=O(Sd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new E(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new E(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new E(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new E(4013,!1);this._activatedRoute=e;let r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new hd(e,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275dir=Ze({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Bi]})}}return t})(),hd=class t{__ngOutletInjector(n){return new t(this.route,this.childContexts,n)}constructor(n,e,i){this.route=n,this.childContexts=e,this.parent=i}get(n,e){return n===Ji?this.route:n===ha?this.childContexts:this.parent.get(n,e)}},Sd=new Y("");function uD(t,n,e){let i=Wr(t,n._root,e?e._root:void 0);return new ca(i,n)}function Wr(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=n.value;let r=dD(t,n,e);return new ct(i,r)}else{if(t.shouldAttach(n.value)){let o=t.retrieve(n.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>Wr(t,a)),s}}let i=fD(n.value),r=n.children.map(o=>Wr(t,o));return new ct(i,r)}}function dD(t,n,e){return n.children.map(i=>{for(let r of e.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return Wr(t,i,r);return Wr(t,i)})}function fD(t){return new Ji(new de(t.url),new de(t.params),new de(t.queryParams),new de(t.fragment),new de(t.data),t.outlet,t.component,t)}var fy="ngNavigationCancelingError";function hy(t,n){let{redirectTo:e,navigationBehaviorOptions:i}=Xi(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,r=py(!1,ut.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function py(t,n){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[fy]=!0,e.cancellationCode=n,e}function hD(t){return gy(t)&&Xi(t.url)}function gy(t){return!!t&&t[fy]}var pD=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=fe({type:t,selectors:[["ng-component"]],standalone:!0,features:[he],decls:1,vars:0,template:function(i,r){i&1&&y(0,"router-outlet")},dependencies:[cD],encapsulation:2})}}return t})();function gD(t,n){return t.providers&&!t._injector&&(t._injector=fu(t.providers,n,`Route: ${t.path}`)),t._injector??n}function Ed(t){let n=t.children&&t.children.map(Ed),e=n?A(w({},t),{children:n}):w({},t);return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==K&&(e.component=pD),e}function zt(t){return t.outlet||K}function mD(t,n){let e=t.filter(i=>zt(i)===n);return e.push(...t.filter(i=>zt(i)!==n)),e}function Qr(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){let e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var yD=(t,n,e,i)=>U(r=>(new pd(n,r.targetRouterState,r.currentRouterState,e,i).activate(t),r)),pd=class{constructor(n,e,i,r,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(n){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,n),zu(this.futureState.root),this.activateChildRoutes(e,i,n)}deactivateChildRoutes(n,e,i){let r=Yi(e);n.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(n,e,i){let r=n.value,o=e?e.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){let i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,o=Yi(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){let i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,o=Yi(n);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,e,i){let r=Yi(e);n.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new ld(o.value.snapshot))}),n.children.length&&this.forwardEvent(new sd(n.value.snapshot))}activateRoutes(n,e,i){let r=n.value,o=e?e.value:null;if(zu(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),zu(a.route.value),this.activateChildRoutes(n,null,s.children)}else{let a=Qr(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(n,null,s.children)}}else this.activateChildRoutes(n,null,i)}},da=class{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},Ki=class{constructor(n,e){this.component=n,this.route=e}};function vD(t,n,e){let i=t._root,r=n?n._root:null;return kr(i,r,e,[i.value])}function _D(t){let n=t.routeConfig?t.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:t,guards:n}}function tr(t,n){let e=Symbol(),i=n.get(t,e);return i===e?typeof t=="function"&&!Kh(t)?t:n.get(t):i}function kr(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Yi(n);return t.children.forEach(s=>{CD(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>jr(a,e.getContext(s),r)),r}function CD(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=bD(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new da(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?kr(t,n,a?a.children:null,i,r):kr(t,n,e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Ki(a.outlet.component,s))}else s&&jr(n,a,r),r.canActivateChecks.push(new da(i)),o.component?kr(t,null,a?a.children:null,i,r):kr(t,null,e,i,r);return r}function bD(t,n,e){if(typeof e=="function")return e(t,n);switch(e){case"pathParamsChange":return!ii(t.url,n.url);case"pathParamsOrQueryParamsChange":return!ii(t.url,n.url)||!Gt(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fd(t,n)||!Gt(t.queryParams,n.queryParams);case"paramsChange":default:return!fd(t,n)}}function jr(t,n,e){let i=Yi(t),r=t.value;Object.entries(i).forEach(([o,s])=>{r.component?n?jr(s,n.children.getContext(o),e):jr(s,null,e):jr(s,n,e)}),r.component?n&&n.outlet&&n.outlet.isActivated?e.canDeactivateChecks.push(new Ki(n.outlet.component,r)):e.canDeactivateChecks.push(new Ki(null,r)):e.canDeactivateChecks.push(new Ki(null,r))}function Kr(t){return typeof t=="function"}function wD(t){return typeof t=="boolean"}function SD(t){return t&&Kr(t.canLoad)}function ED(t){return t&&Kr(t.canActivate)}function DD(t){return t&&Kr(t.canActivateChild)}function xD(t){return t&&Kr(t.canDeactivate)}function ID(t){return t&&Kr(t.canMatch)}function my(t){return t instanceof Qt||t?.name==="EmptyError"}var ea=Symbol("INITIAL_VALUE");function er(){return Et(t=>jo(t.map(n=>n.pipe(Kt(1),ul(ea)))).pipe(U(n=>{for(let e of n)if(e!==!0){if(e===ea)return ea;if(e===!1||e instanceof Mn)return e}return!0}),St(n=>n!==ea),Kt(1)))}function MD(t,n){return ke(e=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?W(A(w({},e),{guardsResult:!0})):TD(s,i,r,t).pipe(ke(a=>a&&wD(a)?PD(i,o,t,n):W(a)),U(a=>A(w({},e),{guardsResult:a})))})}function TD(t,n,e,i){return Oe(t).pipe(ke(r=>kD(r.component,r.route,e,n,i)),Rt(r=>r!==!0,!0))}function PD(t,n,e,i){return Oe(n).pipe(xi(r=>Ei(OD(r.route.parent,i),AD(r.route,i),RD(t,r.path,e),ND(t,r.route,e))),Rt(r=>r!==!0,!0))}function AD(t,n){return t!==null&&n&&n(new ad(t)),W(!0)}function OD(t,n){return t!==null&&n&&n(new od(t)),W(!0)}function ND(t,n,e){let i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||i.length===0)return W(!0);let r=i.map(o=>$o(()=>{let s=Qr(n)??e,a=tr(o,s),l=ED(a)?a.canActivate(n,t):Jn(s,()=>a(n,t));return Pn(l).pipe(Rt())}));return W(r).pipe(er())}function RD(t,n,e){let i=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>_D(s)).filter(s=>s!==null).map(s=>$o(()=>{let a=s.guards.map(l=>{let c=Qr(s.node)??e,h=tr(l,c),p=DD(h)?h.canActivateChild(i,t):Jn(c,()=>h(i,t));return Pn(p).pipe(Rt())});return W(a).pipe(er())}));return W(o).pipe(er())}function kD(t,n,e,i,r){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return W(!0);let s=o.map(a=>{let l=Qr(n)??r,c=tr(a,l),h=xD(c)?c.canDeactivate(t,n,e,i):Jn(l,()=>c(t,n,e,i));return Pn(h).pipe(Rt())});return W(s).pipe(er())}function FD(t,n,e,i){let r=n.canLoad;if(r===void 0||r.length===0)return W(!0);let o=r.map(s=>{let a=tr(s,t),l=SD(a)?a.canLoad(n,e):Jn(t,()=>a(n,e));return Pn(l)});return W(o).pipe(er(),yy(i))}function yy(t){return Ja(je(n=>{if(Xi(n))throw hy(t,n)}),U(n=>n===!0))}function LD(t,n,e,i){let r=n.canMatch;if(!r||r.length===0)return W(!0);let o=r.map(s=>{let a=tr(s,t),l=ID(a)?a.canMatch(n,e):Jn(t,()=>a(n,e));return Pn(l)});return W(o).pipe(er(),yy(i))}var qr=class{constructor(n){this.segmentGroup=n||null}},fa=class extends Error{constructor(n){super(),this.urlTree=n}};function qi(t){return Si(new qr(t))}function VD(t){return Si(new E(4e3,!1))}function jD(t){return Si(py(!1,ut.GuardRejected))}var gd=class{constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return W(i);if(r.numberOfChildren>1||!r.children[K])return VD(n.redirectTo);r=r.children[K]}}applyRedirectCommands(n,e,i){let r=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,i);if(e.startsWith("/"))throw new fa(r);return r}applyRedirectCreateUrlTree(n,e,i,r){let o=this.createSegmentGroup(n,e.root,i,r);return new Mn(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){let i={};return Object.entries(n).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);i[r]=e[a]}else i[r]=o}),i}createSegmentGroup(n,e,i,r){let o=this.createSegments(n,e.segments,i,r),s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,i,r)}),new pe(o,s)}createSegments(n,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(n,o,r):this.findOrReturn(o,i))}findPosParam(n,e,i){let r=i[e.path.substring(1)];if(!r)throw new E(4001,!1);return r}findOrReturn(n,e){let i=0;for(let r of e){if(r.path===n.path)return e.splice(i),r;i++}return n}},md={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $D(t,n,e,i,r){let o=Dd(t,n,e);return o.matched?(i=gD(n,i),LD(i,n,e,r).pipe(U(s=>s===!0?o:w({},md)))):W(o)}function Dd(t,n,e){if(n.path==="**")return BD(e);if(n.path==="")return n.pathMatch==="full"&&(t.hasChildren()||e.length>0)?w({},md):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(n.matcher||FE)(e,t,n);if(!r)return w({},md);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?w(w({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function BD(t){return{matched:!0,parameters:t.length>0?Km(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Ym(t,n,e,i){return e.length>0&&GD(t,e,i)?{segmentGroup:new pe(n,UD(i,new pe(e,t.children))),slicedSegments:[]}:e.length===0&&zD(t,e,i)?{segmentGroup:new pe(t.segments,HD(t,e,i,t.children)),slicedSegments:e}:{segmentGroup:new pe(t.segments,t.children),slicedSegments:e}}function HD(t,n,e,i){let r={};for(let o of e)if(pa(t,n,o)&&!i[zt(o)]){let s=new pe([],{});r[zt(o)]=s}return w(w({},i),r)}function UD(t,n){let e={};e[K]=n;for(let i of t)if(i.path===""&&zt(i)!==K){let r=new pe([],{});e[zt(i)]=r}return e}function GD(t,n,e){return e.some(i=>pa(t,n,i)&&zt(i)!==K)}function zD(t,n,e){return e.some(i=>pa(t,n,i))}function pa(t,n,e){return(t.hasChildren()||n.length>0)&&e.pathMatch==="full"?!1:e.path===""}function WD(t,n,e,i){return zt(t)!==i&&(i===K||!pa(n,e,t))?!1:Dd(n,t,e).matched}function qD(t,n,e){return n.length===0&&!t.children[e]}var yd=class{};function YD(t,n,e,i,r,o,s="emptyOnly"){return new vd(t,n,e,i,r,s,o).recognize()}var QD=31,vd=class{constructor(n,e,i,r,o,s,a){this.injector=n,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new gd(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(n){return new E(4002,`'${n.segmentGroup}'`)}recognize(){let n=Ym(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(U(e=>{let i=new zr([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,{},K,this.rootComponentType,null,{}),r=new ct(i,e),o=new ua("",r),s=tD(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n,K).pipe(hn(i=>{if(i instanceof fa)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof qr?this.noMatchError(i):i}))}inheritParamsAndData(n,e){let i=n.value,r=bd(i,e,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),n.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(n,e,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(n,e,i):this.processSegment(n,e,i,i.segments,r,!0).pipe(U(o=>o instanceof ct?[o]:[]))}processChildren(n,e,i){let r=[];for(let o of Object.keys(i.children))o==="primary"?r.unshift(o):r.push(o);return Oe(r).pipe(xi(o=>{let s=i.children[o],a=mD(e,o);return this.processSegmentGroup(n,a,s,o)}),cl((o,s)=>(o.push(...s),o)),pn(null),ll(),ke(o=>{if(o===null)return qi(i);let s=vy(o);return KD(s),W(s)}))}processSegment(n,e,i,r,o,s){return Oe(e).pipe(xi(a=>this.processSegmentAgainstRoute(a._injector??n,e,a,i,r,o,s).pipe(hn(l=>{if(l instanceof qr)return W(null);throw l}))),Rt(a=>!!a),hn(a=>{if(my(a))return qD(i,r,o)?W(new yd):qi(i);throw a}))}processSegmentAgainstRoute(n,e,i,r,o,s,a){return WD(i,r,o,s)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(n,r,i,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,r,e,i,o,s):qi(r):qi(r)}expandSegmentAgainstRouteUsingRedirect(n,e,i,r,o,s){let{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:h}=Dd(e,r,o);if(!a)return qi(e);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>QD&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,c);return this.applyRedirects.lineralizeSegments(r,p).pipe(ke(v=>this.processSegment(n,i,e,v.concat(h),s,!1)))}matchSegmentAgainstRoute(n,e,i,r,o){let s=$D(e,i,r,n,this.urlSerializer);return i.path==="**"&&(e.children={}),s.pipe(Et(a=>a.matched?(n=i._injector??n,this.getChildConfig(n,i,r).pipe(Et(({routes:l})=>{let c=i._loadedInjector??n,{consumedSegments:h,remainingSegments:p,parameters:v}=a,m=new zr(h,v,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,XD(i),zt(i),i.component??i._loadedComponent??null,i,JD(i)),{segmentGroup:C,slicedSegments:S}=Ym(e,h,p,l);if(S.length===0&&C.hasChildren())return this.processChildren(c,l,C).pipe(U($=>$===null?null:new ct(m,$)));if(l.length===0&&S.length===0)return W(new ct(m,[]));let B=zt(i)===o;return this.processSegment(c,l,C,S,B?K:o,!0).pipe(U($=>new ct(m,$ instanceof ct?[$]:[])))}))):qi(e)))}getChildConfig(n,e,i){return e.children?W({routes:e.children,injector:n}):e.loadChildren?e._loadedRoutes!==void 0?W({routes:e._loadedRoutes,injector:e._loadedInjector}):FD(n,e,i,this.urlSerializer).pipe(ke(r=>r?this.configLoader.loadChildren(n,e).pipe(je(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):jD(e))):W({routes:[],injector:n})}};function KD(t){t.sort((n,e)=>n.value.outlet===K?-1:e.value.outlet===K?1:n.value.outlet.localeCompare(e.value.outlet))}function ZD(t){let n=t.value.routeConfig;return n&&n.path===""}function vy(t){let n=[],e=new Set;for(let i of t){if(!ZD(i)){n.push(i);continue}let r=n.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),e.add(r)):n.push(i)}for(let i of e){let r=vy(i.children);n.push(new ct(i.value,r))}return n.filter(i=>!e.has(i))}function XD(t){return t.data||{}}function JD(t){return t.resolve||{}}function ex(t,n,e,i,r,o){return ke(s=>YD(t,n,e,i,s.extractedUrl,r,o).pipe(U(({state:a,tree:l})=>A(w({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function tx(t,n){return ke(e=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return W(e);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of _y(l))s.add(c);let a=0;return Oe(s).pipe(xi(l=>o.has(l)?nx(l,i,t,n):(l.data=bd(l,l.parent,t).resolve,W(void 0))),je(()=>a++),Ii(1),ke(l=>a===s.size?W(e):ot))})}function _y(t){let n=t.children.map(e=>_y(e)).flat();return[t,...n]}function nx(t,n,e,i){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!dy(r)&&(o[Yr]=r.title),ix(o,t,n,i).pipe(U(s=>(t._resolvedData=s,t.data=bd(t,t.parent,e).resolve,null)))}function ix(t,n,e,i){let r=Yu(t);if(r.length===0)return W({});let o={};return Oe(r).pipe(ke(s=>rx(t[s],n,e,i).pipe(Rt(),je(a=>{o[s]=a}))),Ii(1),al(o),hn(s=>my(s)?ot:Si(s)))}function rx(t,n,e,i){let r=Qr(n)??i,o=tr(t,r),s=o.resolve?o.resolve(n,e):Jn(r,()=>o(n,e));return Pn(s)}function Wu(t){return Et(n=>{let e=t(n);return e?Oe(e).pipe(U(()=>n)):W(n)})}var Cy=(()=>{class t{buildTitle(e){let i,r=e.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===K);return i}getResolvedTitleForRoute(e){return e.data[Yr]}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:()=>O(ox),providedIn:"root"})}}return t})(),ox=(()=>{class t extends Cy{constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||t)(k(Hm))}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),xd=new Y("",{providedIn:"root",factory:()=>({})}),Id=new Y(""),sx=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=O(Eu)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return W(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let i=Pn(e.loadComponent()).pipe(U(by),je(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),cr(()=>{this.componentLoaders.delete(e)})),r=new bi(i,()=>new we).pipe(Ci());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return W({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=ax(i,this.compiler,e,this.onLoadEndListener).pipe(cr(()=>{this.childrenLoaders.delete(i)})),s=new bi(o,()=>new we).pipe(Ci());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function ax(t,n,e,i){return Pn(t.loadChildren()).pipe(U(by),ke(r=>r instanceof Cr||Array.isArray(r)?W(r):Oe(n.compileModuleAsync(r))),U(r=>{i&&i(t);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(e).injector,s=o.get(Id,[],{optional:!0,self:!0}).flat()),{routes:s.map(Ed),injector:o}}))}function lx(t){return t&&typeof t=="object"&&"default"in t}function by(t){return lx(t)?t.default:t}var Md=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:()=>O(cx),providedIn:"root"})}}return t})(),cx=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ux=new Y("");var dx=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new we,this.transitionAbortSubject=new we,this.configLoader=O(sx),this.environmentInjector=O(mt),this.urlSerializer=O(Cd),this.rootContexts=O(ha),this.location=O(Pr),this.inputBindingEnabled=O(Sd,{optional:!0})!==null,this.titleStrategy=O(Cy),this.options=O(xd,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=O(Md),this.createViewTransition=O(ux,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>W(void 0),this.rootComponentType=null;let e=r=>this.events.next(new id(r)),i=r=>this.events.next(new rd(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;this.transitions?.next(A(w(w({},this.transitions.value),e),{id:i}))}setupNavigations(e,i,r){return this.transitions=new de({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Vr,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(St(o=>o.id!==0),U(o=>A(w({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Et(o=>{let s=!1,a=!1;return W(o).pipe(Et(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",ut.SupersededByNewNavigation),ot;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?A(w({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=l.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!c&&h!=="reload"){let p="";return this.events.next(new oi(l.id,this.urlSerializer.serialize(l.rawUrl),p,Xu.IgnoredSameUrlNavigation)),l.resolve(null),ot}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return W(l).pipe(Et(p=>{let v=this.transitions?.getValue();return this.events.next(new Br(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),v!==this.transitions?.getValue()?ot:Promise.resolve(p)}),ex(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),je(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=A(w({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let v=new aa(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(v)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:p,extractedUrl:v,source:m,restoredState:C,extras:S}=l,B=new Br(p,this.urlSerializer.serialize(v),m,C);this.events.next(B);let $=cy(this.rootComponentType).snapshot;return this.currentTransition=o=A(w({},l),{targetSnapshot:$,urlAfterRedirects:v,extras:A(w({},S),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,W(o)}else{let p="";return this.events.next(new oi(l.id,this.urlSerializer.serialize(l.extractedUrl),p,Xu.IgnoredByUrlHandlingStrategy)),l.resolve(null),ot}}),je(l=>{let c=new Ju(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),U(l=>(this.currentTransition=o=A(w({},l),{guards:vD(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),MD(this.environmentInjector,l=>this.events.next(l)),je(l=>{if(o.guardsResult=l.guardsResult,Xi(l.guardsResult))throw hy(this.urlSerializer,l.guardsResult);let c=new ed(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),St(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",ut.GuardRejected),!1)),Wu(l=>{if(l.guards.canActivateChecks.length)return W(l).pipe(je(c=>{let h=new td(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}),Et(c=>{let h=!1;return W(c).pipe(tx(this.paramsInheritanceStrategy,this.environmentInjector),je({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(c,"",ut.NoDataFromResolver)}}))}),je(c=>{let h=new nd(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}))}),Wu(l=>{let c=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(je(v=>{h.component=v}),U(()=>{})));for(let v of h.children)p.push(...c(v));return p};return jo(c(l.targetSnapshot.root)).pipe(pn(null),Kt(1))}),Wu(()=>this.afterPreactivation()),Et(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,h=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return h?Oe(h).pipe(U(()=>o)):W(o)}),U(l=>{let c=uD(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=A(w({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),je(()=>{this.events.next(new Ur)}),yD(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Kt(1),je({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ri(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),De(this.transitionAbortSubject.pipe(je(l=>{throw l}))),cr(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",ut.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),hn(l=>{if(a=!0,gy(l))this.events.next(new Tn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),hD(l)?this.events.next(new Gr(l.url)):o.resolve(!1);else{this.events.next(new Hr(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(e.errorHandler(l))}catch(c){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(c)}}return ot}))}))}cancelNavigationTransition(e,i,r){let o=new Tn(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function fx(t){return t!==Vr}var hx=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:()=>O(px),providedIn:"root"})}}return t})(),_d=class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}},px=(()=>{class t extends _d{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=xr(t)))(r||t)}})()}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),wy=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:()=>O(gx),providedIn:"root"})}}return t})(),gx=(()=>{class t extends wy{constructor(){super(...arguments),this.location=O(Pr),this.urlSerializer=O(Cd),this.options=O(xd,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=O(Md),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Mn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=cy(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&e(i.url,i.state)})}handleRouterEvent(e,i){if(e instanceof Br)this.stateMemento=this.createStateMemento();else if(e instanceof oi)this.rawUrlTree=i.initialUrl;else if(e instanceof aa){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else e instanceof Ur?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):e instanceof Tn&&(e.code===ut.GuardRejected||e.code===ut.NoDataFromResolver)?this.restoreHistory(i):e instanceof Hr?this.restoreHistory(i,!0):e instanceof ri&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,i){let r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=w(w({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=w(w({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&o===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=xr(t)))(r||t)}})()}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Fr=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Fr||{});function mx(t,n){t.events.pipe(St(e=>e instanceof ri||e instanceof Tn||e instanceof Hr||e instanceof oi),U(e=>e instanceof ri||e instanceof oi?Fr.COMPLETE:(e instanceof Tn?e.code===ut.Redirect||e.code===ut.SupersededByNewNavigation:!1)?Fr.REDIRECTING:Fr.FAILED),St(e=>e!==Fr.REDIRECTING),Kt(1)).subscribe(()=>{n()})}function yx(t){throw t}var vx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_x={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Sy=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=O(Us),this.stateManager=O(wy),this.options=O(xd,{optional:!0})||{},this.pendingTasks=O(Bs),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=O(dx),this.urlSerializer=O(Cd),this.location=O(Pr),this.urlHandlingStrategy=O(Md),this._events=new we,this.errorHandler=this.options.errorHandler||yx,this.navigated=!1,this.routeReuseStrategy=O(hx),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=O(Id,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!O(Sd,{optional:!0}),this.eventsSubscription=new Ae,this.isNgZoneEnabled=O(Te)instanceof Te&&Te.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Tn&&i.code!==ut.Redirect&&i.code!==ut.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof ri)this.navigated=!0;else if(i instanceof Gr){let s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),a={info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||fx(r.source)};this.scheduleNavigation(s,Vr,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}bx(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Vr,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",i)},0)})}navigateToSyncWithBrowser(e,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=w({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(e);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Ed),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s,h=null;switch(a){case"merge":h=w(w({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let v=r?r.snapshot:this.routerState.snapshot.root;p=oy(v)}catch{(typeof e[0]!="string"||!e[0].startsWith("/"))&&(e=[]),p=this.currentUrlTree.root}return sy(p,e,h,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){let r=Xi(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Vr,null,i)}navigate(e,i={skipLocationChange:!1}){return Cx(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let r;if(i===!0?r=w({},vx):i===!1?r=w({},_x):r=i,Xi(e))return Gm(this.currentUrlTree,e,r);let o=this.parseUrl(e);return Gm(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(e,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((p,v)=>{a=p,l=v});let h=this.pendingTasks.add();return mx(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Cx(t){for(let n=0;n<t.length;n++)if(t[n]==null)throw new E(4008,!1)}function bx(t){return!(t instanceof Ur)&&!(t instanceof Gr)}var wx=new Y("");function Ey(t,...n){return ws([{provide:Id,multi:!0,useValue:t},[],{provide:Ji,useFactory:Sx,deps:[Sy]},{provide:Su,multi:!0,useFactory:Ex},n.map(e=>e.\u0275providers)])}function Sx(t){return t.routerState.root}function Ex(){let t=O(Hi);return n=>{let e=t.get(Tr);if(n!==e.components[0])return;let i=t.get(Sy),r=t.get(Dx);t.get(xx)===1&&i.initialNavigation(),t.get(Ix,null,J.Optional)?.setUpPreloading(),t.get(wx,null,J.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Dx=new Y("",{factory:()=>new we}),xx=new Y("",{providedIn:"root",factory:()=>1});var Ix=new Y("");var q=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(q||{}),Wt="*";function Dy(t,n){return{type:q.Trigger,name:t,definitions:n,options:{}}}function Td(t,n=null){return{type:q.Animate,styles:n,timings:t}}function xy(t,n=null){return{type:q.Sequence,steps:t,options:n}}function nr(t){return{type:q.Style,styles:t,offset:null}}function Pd(t,n,e){return{type:q.State,name:t,styles:n,options:e}}function Ad(t,n,e=null){return{type:q.Transition,expr:t,animation:n,options:e}}var An=class{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){let e=n=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},Zr=class{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,i=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){let e=n*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){let n=this.players.reduce((e,i)=>e===null||i.totalTime>e.totalTime?i:e,null);return n!=null?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){let e=n=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},ga="!";function Iy(t){return new E(3e3,!1)}function Mx(){return new E(3100,!1)}function Tx(){return new E(3101,!1)}function Px(t){return new E(3001,!1)}function Ax(t){return new E(3003,!1)}function Ox(t){return new E(3004,!1)}function Nx(t,n){return new E(3005,!1)}function Rx(){return new E(3006,!1)}function kx(){return new E(3007,!1)}function Fx(t,n){return new E(3008,!1)}function Lx(t){return new E(3002,!1)}function Vx(t,n,e,i,r){return new E(3010,!1)}function jx(){return new E(3011,!1)}function $x(){return new E(3012,!1)}function Bx(){return new E(3200,!1)}function Hx(){return new E(3202,!1)}function Ux(){return new E(3013,!1)}function Gx(t){return new E(3014,!1)}function zx(t){return new E(3015,!1)}function Wx(t){return new E(3016,!1)}function qx(t,n){return new E(3404,!1)}function Yx(t){return new E(3502,!1)}function Qx(t){return new E(3503,!1)}function Kx(){return new E(3300,!1)}function Zx(t){return new E(3504,!1)}function Xx(t){return new E(3301,!1)}function Jx(t,n){return new E(3302,!1)}function eI(t){return new E(3303,!1)}function tI(t,n){return new E(3400,!1)}function nI(t){return new E(3401,!1)}function iI(t){return new E(3402,!1)}function rI(t,n){return new E(3505,!1)}function On(t){switch(t.length){case 0:return new An;case 1:return t[0];default:return new Zr(t)}}function By(t,n,e=new Map,i=new Map){let r=[],o=[],s=-1,a=null;if(n.forEach(l=>{let c=l.get("offset"),h=c==s,p=h&&a||new Map;l.forEach((v,m)=>{let C=m,S=v;if(m!=="offset")switch(C=t.normalizePropertyName(C,r),S){case ga:S=e.get(m);break;case Wt:S=i.get(m);break;default:S=t.normalizeStyleValue(m,C,S,r);break}p.set(C,S)}),h||o.push(p),a=p,s=c}),r.length)throw Yx(r);return o}function ef(t,n,e,i){switch(n){case"start":t.onStart(()=>i(e&&Od(e,"start",t)));break;case"done":t.onDone(()=>i(e&&Od(e,"done",t)));break;case"destroy":t.onDestroy(()=>i(e&&Od(e,"destroy",t)));break}}function Od(t,n,e){let i=e.totalTime,r=!!e.disabled,o=tf(t.element,t.triggerName,t.fromState,t.toState,n||t.phaseName,i??t.totalTime,r),s=t._data;return s!=null&&(o._data=s),o}function tf(t,n,e,i,r="",o=0,s){return{element:t,triggerName:n,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function ft(t,n,e){let i=t.get(n);return i||t.set(n,i=e),i}function My(t){let n=t.indexOf(":"),e=t.substring(1,n),i=t.slice(n+1);return[e,i]}var oI=typeof document>"u"?null:document.documentElement;function nf(t){let n=t.parentNode||t.host||null;return n===oI?null:n}function sI(t){return t.substring(1,6)=="ebkit"}var si=null,Ty=!1;function aI(t){si||(si=lI()||{},Ty=si.style?"WebkitAppearance"in si.style:!1);let n=!0;return si.style&&!sI(t)&&(n=t in si.style,!n&&Ty&&(n="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in si.style)),n}function lI(){return typeof document<"u"?document.body:null}function Hy(t,n){for(;n;){if(n===t)return!0;n=nf(n)}return!1}function Uy(t,n,e){if(e)return Array.from(t.querySelectorAll(n));let i=t.querySelector(n);return i?[i]:[]}var rf=(()=>{class t{validateStyleProperty(e){return aI(e)}matchesElement(e,i){return!1}containsElement(e,i){return Hy(e,i)}getParentElement(e){return nf(e)}query(e,i,r){return Uy(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,a=[],l){return new An(r,o)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac})}}return t})(),ci=class{static{this.NOOP=new rf}},ui=class{};var cI=1e3,Gy="{{",uI="}}",zy="ng-enter",Vd="ng-leave",ma="ng-trigger",ba=".ng-trigger",Py="ng-animating",jd=".ng-animating";function cn(t){if(typeof t=="number")return t;let n=t.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:$d(parseFloat(n[1]),n[2])}function $d(t,n){switch(n){case"s":return t*cI;default:return t}}function wa(t,n,e){return t.hasOwnProperty("duration")?t:dI(t,n,e)}function dI(t,n,e){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,s="";if(typeof t=="string"){let a=t.match(i);if(a===null)return n.push(Iy(t)),{duration:0,delay:0,easing:""};r=$d(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(o=$d(parseFloat(l),a[4]));let c=a[5];c&&(s=c)}else r=t;if(!e){let a=!1,l=n.length;r<0&&(n.push(Mx()),a=!0),o<0&&(n.push(Tx()),a=!0),a&&n.splice(l,0,Iy(t))}return{duration:r,delay:o,easing:s}}function fI(t){return t.length?t[0]instanceof Map?t:t.map(n=>new Map(Object.entries(n))):[]}function qt(t,n,e){n.forEach((i,r)=>{let o=of(r);e&&!e.has(r)&&e.set(r,t.style[o]),t.style[o]=i})}function li(t,n){n.forEach((e,i)=>{let r=of(i);t.style[r]=""})}function Xr(t){return Array.isArray(t)?t.length==1?t[0]:xy(t):t}function hI(t,n,e){let i=n.params||{},r=Wy(t);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(Px(o))})}var Bd=new RegExp(`${Gy}\\s*(.+?)\\s*${uI}`,"g");function Wy(t){let n=[];if(typeof t=="string"){let e;for(;e=Bd.exec(t);)n.push(e[1]);Bd.lastIndex=0}return n}function eo(t,n,e){let i=`${t}`,r=i.replace(Bd,(o,s)=>{let a=n[s];return a==null&&(e.push(Ax(s)),a=""),a.toString()});return r==i?t:r}var pI=/-+([a-z0-9])/g;function of(t){return t.replace(pI,(...n)=>n[1].toUpperCase())}function gI(t,n){return t===0||n===0}function mI(t,n,e){if(e.size&&n.length){let i=n[0],r=[];if(e.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<n.length;o++){let s=n[o];r.forEach(a=>s.set(a,sf(t,a)))}}return n}function dt(t,n,e){switch(n.type){case q.Trigger:return t.visitTrigger(n,e);case q.State:return t.visitState(n,e);case q.Transition:return t.visitTransition(n,e);case q.Sequence:return t.visitSequence(n,e);case q.Group:return t.visitGroup(n,e);case q.Animate:return t.visitAnimate(n,e);case q.Keyframes:return t.visitKeyframes(n,e);case q.Style:return t.visitStyle(n,e);case q.Reference:return t.visitReference(n,e);case q.AnimateChild:return t.visitAnimateChild(n,e);case q.AnimateRef:return t.visitAnimateRef(n,e);case q.Query:return t.visitQuery(n,e);case q.Stagger:return t.visitStagger(n,e);default:throw Ox(n.type)}}function sf(t,n){return window.getComputedStyle(t)[n]}var yI=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Sa=class extends ui{normalizePropertyName(n,e){return of(n)}normalizeStyleValue(n,e,i,r){let o="",s=i.toString().trim();if(yI.has(e)&&i!==0&&i!=="0")if(typeof i=="number")o="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(Nx(n,i))}return s+o}};var Ea="*";function vI(t,n){let e=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(i=>_I(i,e,n)):e.push(t),e}function _I(t,n,e){if(t[0]==":"){let l=CI(t,e);if(typeof l=="function"){n.push(l);return}t=l}let i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return e.push(zx(t)),n;let r=i[1],o=i[2],s=i[3];n.push(Ay(r,s));let a=r==Ea&&s==Ea;o[0]=="<"&&!a&&n.push(Ay(s,r))}function CI(t,n){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return n.push(Wx(t)),"* => *"}}var ya=new Set(["true","1"]),va=new Set(["false","0"]);function Ay(t,n){let e=ya.has(t)||va.has(t),i=ya.has(n)||va.has(n);return(r,o)=>{let s=t==Ea||t==r,a=n==Ea||n==o;return!s&&e&&typeof r=="boolean"&&(s=r?ya.has(t):va.has(t)),!a&&i&&typeof o=="boolean"&&(a=o?ya.has(n):va.has(n)),s&&a}}var qy=":self",bI=new RegExp(`s*${qy}s*,?`,"g");function Yy(t,n,e,i){return new Hd(t).build(n,e,i)}var Oy="",Hd=class{constructor(n){this._driver=n}build(n,e,i){let r=new Ud(e);return this._resetContextStyleTimingState(r),dt(this,Xr(n),r)}_resetContextStyleTimingState(n){n.currentQuerySelector=Oy,n.collectedStyles=new Map,n.collectedStyles.set(Oy,new Map),n.currentTime=0}visitTrigger(n,e){let i=e.queryCount=0,r=e.depCount=0,o=[],s=[];return n.name.charAt(0)=="@"&&e.errors.push(Rx()),n.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==q.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(h=>{l.name=h,o.push(this.visitState(l,e))}),l.name=c}else if(a.type==q.Transition){let l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,s.push(l)}else e.errors.push(kx())}),{type:q.Trigger,name:n.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(n,e){let i=this.visitStyle(n.styles,e),r=n.options&&n.options.params||null;if(i.containsDynamicStyles){let o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{Wy(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&e.errors.push(Fx(n.name,[...o.values()]))}return{type:q.State,name:n.name,style:i,options:r?{params:r}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;let i=dt(this,Xr(n.animation),e),r=vI(n.expr,e.errors);return{type:q.Transition,matchers:r,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:ai(n.options)}}visitSequence(n,e){return{type:q.Sequence,steps:n.steps.map(i=>dt(this,i,e)),options:ai(n.options)}}visitGroup(n,e){let i=e.currentTime,r=0,o=n.steps.map(s=>{e.currentTime=i;let a=dt(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:q.Group,steps:o,options:ai(n.options)}}visitAnimate(n,e){let i=DI(n.timings,e.errors);e.currentAnimateTimings=i;let r,o=n.styles?n.styles:nr({});if(o.type==q.Keyframes)r=this.visitKeyframes(o,e);else{let s=n.styles,a=!1;if(!s){a=!0;let c={};i.easing&&(c.easing=i.easing),s=nr(c)}e.currentTime+=i.duration+i.delay;let l=this.visitStyle(s,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:q.Animate,timings:i,style:r,options:null}}visitStyle(n,e){let i=this._makeStyleAst(n,e);return this._validateStyleAst(i,e),i}_makeStyleAst(n,e){let i=[],r=Array.isArray(n.styles)?n.styles:[n.styles];for(let a of r)typeof a=="string"?a===Wt?i.push(a):e.errors.push(Lx(a)):i.push(new Map(Object.entries(a)));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(Gy)>=0){o=!0;break}}}),{type:q.Style,styles:i,easing:s,offset:n.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(n,e){let i=e.currentAnimateTimings,r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),n.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let c=e.collectedStyles.get(e.currentQuerySelector),h=c.get(l),p=!0;h&&(o!=r&&o>=h.startTime&&r<=h.endTime&&(e.errors.push(Vx(l,h.startTime,h.endTime,o,r)),p=!1),o=h.startTime),p&&c.set(l,{startTime:o,endTime:r}),e.options&&hI(a,e.options,e.errors)})})}visitKeyframes(n,e){let i={type:q.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(jx()),i;let r=1,o=0,s=[],a=!1,l=!1,c=0,h=n.steps.map($=>{let _e=this._makeStyleAst($,e),ue=_e.offset!=null?_e.offset:EI(_e.styles),me=0;return ue!=null&&(o++,me=_e.offset=ue),l=l||me<0||me>1,a=a||me<c,c=me,s.push(me),_e});l&&e.errors.push($x()),a&&e.errors.push(Bx());let p=n.steps.length,v=0;o>0&&o<p?e.errors.push(Hx()):o==0&&(v=r/(p-1));let m=p-1,C=e.currentTime,S=e.currentAnimateTimings,B=S.duration;return h.forEach(($,_e)=>{let ue=v>0?_e==m?1:v*_e:s[_e],me=ue*B;e.currentTime=C+S.delay+me,S.duration=me,this._validateStyleAst($,e),$.offset=ue,i.styles.push($)}),i}visitReference(n,e){return{type:q.Reference,animation:dt(this,Xr(n.animation),e),options:ai(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:q.AnimateChild,options:ai(n.options)}}visitAnimateRef(n,e){return{type:q.AnimateRef,animation:this.visitReference(n.animation,e),options:ai(n.options)}}visitQuery(n,e){let i=e.currentQuerySelector,r=n.options||{};e.queryCount++,e.currentQuery=n;let[o,s]=wI(n.selector);e.currentQuerySelector=i.length?i+" "+o:o,ft(e.collectedStyles,e.currentQuerySelector,new Map);let a=dt(this,Xr(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:q.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:n.selector,options:ai(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(Ux());let i=n.timings==="full"?{duration:0,delay:0,easing:"full"}:wa(n.timings,e.errors,!0);return{type:q.Stagger,animation:dt(this,Xr(n.animation),e),timings:i,options:null}}};function wI(t){let n=!!t.split(/\s*,\s*/).find(e=>e==qy);return n&&(t=t.replace(bI,"")),t=t.replace(/@\*/g,ba).replace(/@\w+/g,e=>ba+"-"+e.slice(1)).replace(/:animating/g,jd),[t,n]}function SI(t){return t?w({},t):null}var Ud=class{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function EI(t){if(typeof t=="string")return null;let n=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){let i=e;n=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let e=t;n=parseFloat(e.get("offset")),e.delete("offset")}return n}function DI(t,n){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=wa(t,n).duration;return Nd(o,0,"")}let e=t;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=Nd(0,0,"");return o.dynamic=!0,o.strValue=e,o}let r=wa(e,n);return Nd(r.duration,r.delay,r.easing)}function ai(t){return t?(t=w({},t),t.params&&(t.params=SI(t.params))):t={},t}function Nd(t,n,e){return{duration:t,delay:n,easing:e}}function af(t,n,e,i,r,o,s=null,a=!1){return{type:1,element:t,keyframes:n,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}var to=class{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let i=this._map.get(n);i||this._map.set(n,i=[]),i.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}},xI=1,II=":enter",MI=new RegExp(II,"g"),TI=":leave",PI=new RegExp(TI,"g");function Qy(t,n,e,i,r,o=new Map,s=new Map,a,l,c=[]){return new Gd().buildKeyframes(t,n,e,i,r,o,s,a,l,c)}var Gd=class{buildKeyframes(n,e,i,r,o,s,a,l,c,h=[]){c=c||new to;let p=new zd(n,e,c,r,o,h,[]);p.options=l;let v=l.delay?cn(l.delay):0;p.currentTimeline.delayNextStep(v),p.currentTimeline.setStyles([s],null,p.errors,l),dt(this,i,p);let m=p.timelines.filter(C=>C.containsAnimation());if(m.length&&a.size){let C;for(let S=m.length-1;S>=0;S--){let B=m[S];if(B.element===e){C=B;break}}C&&!C.allowOnlyTimelineStyles()&&C.setStyles([a],null,p.errors,l)}return m.length?m.map(C=>C.buildKeyframes()):[af(e,[],[],[],0,v,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){let i=e.subInstructions.get(e.element);if(i){let r=e.createSubContext(n.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=n}visitAnimateRef(n,e){let i=e.createSubContext(n.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,i),this.visitReference(n.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,i){for(let r of n){let o=r?.delay;if(o){let s=typeof o=="number"?o:cn(eo(o,r?.params??{},e.errors));i.delayNextStep(s)}}}_visitSubInstructions(n,e,i){let o=e.currentTimeline.currentTime,s=i.duration!=null?cn(i.duration):null,a=i.delay!=null?cn(i.delay):null;return s!==0&&n.forEach(l=>{let c=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(n,e){e.updateOptions(n.options,!0),dt(this,n.animation,e),e.previousNode=n}visitSequence(n,e){let i=e.subContextCount,r=e,o=n.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==q.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Da);let s=cn(o.delay);r.delayNextStep(s)}n.steps.length&&(n.steps.forEach(s=>dt(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){let i=[],r=e.currentTimeline.currentTime,o=n.options&&n.options.delay?cn(n.options.delay):0;n.steps.forEach(s=>{let a=e.createSubContext(n.options);o&&a.delayNextStep(o),dt(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){let i=n.strValue,r=e.params?eo(i,e.params,e.errors):i;return wa(r,e.errors)}else return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){let i=e.currentAnimateTimings=this._visitTiming(n.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());let o=n.style;o.type==q.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){let i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let o=r&&r.easing||n.easing;n.isEmptyStep?i.applyEmptyStep(o):i.setStyles(n.styles,o,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){let i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,n.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=n}visitQuery(n,e){let i=e.currentTimeline.currentTime,r=n.options||{},o=r.delay?cn(r.delay):0;o&&(e.previousNode.type===q.Style||i==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Da);let s=i,a=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,h)=>{e.currentQueryIndex=h;let p=e.createSubContext(n.options,c);o&&p.delayNextStep(o),c===e.element&&(l=p.currentTimeline),dt(this,n.animation,p),p.currentTimeline.applyStylesToKeyframe();let v=p.currentTimeline.currentTime;s=Math.max(s,v)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){let i=e.parentContext,r=e.currentTimeline,o=n.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1),l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime;break}let h=e.currentTimeline;l&&h.delayNextStep(l);let p=h.currentTime;dt(this,n.animation,e),e.previousNode=n,i.currentStaggerTime=r.currentTime-p+(r.startTime-i.currentTimeline.startTime)}},Da={},zd=class t{constructor(n,e,i,r,o,s,a,l){this._driver=n,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Da,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new xa(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;let i=n,r=this.options;i.duration!=null&&(r.duration=cn(i.duration)),i.delay!=null&&(r.delay=cn(i.delay));let o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=eo(o[a],s,this.errors))})}}_copyOptions(){let n={};if(this.options){let e=this.options.params;if(e){let i=n.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return n}createSubContext(n=null,e,i){let r=e||this.element,o=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(n),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(n){return this.previousNode=Da,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,i){let r={duration:e??n.duration,delay:this.currentTimeline.currentTime+(i??0)+n.delay,easing:""},o=new Wd(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,r,n.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,i,r,o,s){let a=[];if(r&&a.push(this.element),n.length>0){n=n.replace(MI,"."+this._enterClassName),n=n.replace(PI,"."+this._leaveClassName);let l=i!=1,c=this._driver.query(this.element,n,l);i!==0&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&a.length==0&&s.push(Gx(e)),a}},xa=class t{constructor(n,e,i,r){this._driver=n,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new t(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=xI,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Wt),this._currentKeyframe.set(e,Wt);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,i,r){e&&this._previousKeyframe.set("easing",e);let o=r&&r.params||{},s=AI(n,this._globalTimelineStyles);for(let[a,l]of s){let c=eo(l,o,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Wt),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,i)=>{let r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let n=new Set,e=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((h,p)=>{h===ga?n.add(p):h===Wt&&e.add(p)}),i||c.set("offset",l/this.duration),r.push(c)});let o=[...n.values()],s=[...e.values()];if(i){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return af(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},Wd=class extends xa{constructor(n,e,i,r,o,s,a=!1){super(n,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],s=i+e,a=e/s,l=new Map(n[0]);l.set("offset",0),o.push(l);let c=new Map(n[0]);c.set("offset",Ny(a)),o.push(c);let h=n.length-1;for(let p=1;p<=h;p++){let v=new Map(n[p]),m=v.get("offset"),C=e+m*i;v.set("offset",Ny(C/s)),o.push(v)}i=s,e=0,r="",n=o}return af(this.element,n,this.preStyleProps,this.postStyleProps,i,e,r,!0)}};function Ny(t,n=3){let e=Math.pow(10,n-1);return Math.round(t*e)/e}function AI(t,n){let e=new Map,i;return t.forEach(r=>{if(r==="*"){i??=n.keys();for(let o of i)e.set(o,Wt)}else for(let[o,s]of r)e.set(o,s)}),e}function Ry(t,n,e,i,r,o,s,a,l,c,h,p,v){return{type:0,element:t,triggerName:n,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:h,totalTime:p,errors:v}}var Rd={},Ia=class{constructor(n,e,i){this._triggerName=n,this.ast=e,this._stateStyles=i}match(n,e,i,r){return OI(this.ast.matchers,n,e,i,r)}buildStyles(n,e,i){let r=this._stateStyles.get("*");return n!==void 0&&(r=this._stateStyles.get(n?.toString())||r),r?r.buildStyles(e,i):new Map}build(n,e,i,r,o,s,a,l,c,h){let p=[],v=this.ast.options&&this.ast.options.params||Rd,m=a&&a.params||Rd,C=this.buildStyles(i,m,p),S=l&&l.params||Rd,B=this.buildStyles(r,S,p),$=new Set,_e=new Map,ue=new Map,me=r==="void",nt={params:Ky(S,v),delay:this.ast.options?.delay},Ie=h?[]:Qy(n,e,this.ast.animation,o,s,C,B,nt,c,p),Me=0;return Ie.forEach(Le=>{Me=Math.max(Le.duration+Le.delay,Me)}),p.length?Ry(e,this._triggerName,i,r,me,C,B,[],[],_e,ue,Me,p):(Ie.forEach(Le=>{let Yt=Le.element,un=ft(_e,Yt,new Set);Le.preStyleProps.forEach(Rn=>un.add(Rn));let Sf=ft(ue,Yt,new Set);Le.postStyleProps.forEach(Rn=>Sf.add(Rn)),Yt!==e&&$.add(Yt)}),Ry(e,this._triggerName,i,r,me,C,B,Ie,[...$.values()],_e,ue,Me))}};function OI(t,n,e,i,r){return t.some(o=>o(n,e,i,r))}function Ky(t,n){let e=w({},n);return Object.entries(t).forEach(([i,r])=>{r!=null&&(e[i]=r)}),e}var qd=class{constructor(n,e,i){this.styles=n,this.defaultParams=e,this.normalizer=i}buildStyles(n,e){let i=new Map,r=Ky(n,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=eo(s,r,e));let l=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,l,s,e),i.set(a,s)})}),i}};function NI(t,n,e){return new Yd(t,n,e)}var Yd=class{constructor(n,e,i){this.name=n,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new qd(r.style,o,i))}),ky(this.states,"true","1"),ky(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new Ia(n,r,this.states))}),this.fallbackTransition=RI(n,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,i,r){return this.transitionFactories.find(s=>s.match(n,e,i,r))||null}matchStyles(n,e,i){return this.fallbackTransition.buildStyles(n,e,i)}};function RI(t,n,e){let i=[(s,a)=>!0],r={type:q.Sequence,steps:[],options:null},o={type:q.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new Ia(t,o,n)}function ky(t,n,e){t.has(n)?t.has(e)||t.set(e,t.get(n)):t.has(e)&&t.set(n,t.get(e))}var kI=new to,Qd=class{constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){let i=[],r=[],o=Yy(this._driver,e,i,r);if(i.length)throw Qx(i);r.length&&void 0,this._animations.set(n,o)}_buildPlayer(n,e,i){let r=n.element,o=By(this._normalizer,n.keyframes,e,i);return this._driver.animate(r,o,n.duration,n.delay,n.easing,[],!0)}create(n,e,i={}){let r=[],o=this._animations.get(n),s,a=new Map;if(o?(s=Qy(this._driver,e,o,zy,Vd,new Map,new Map,i,kI,r),s.forEach(h=>{let p=ft(a,h.element,new Map);h.postStyleProps.forEach(v=>p.set(v,null))})):(r.push(Kx()),s=[]),r.length)throw Zx(r);a.forEach((h,p)=>{h.forEach((v,m)=>{h.set(m,this._driver.computeStyle(p,m,Wt))})});let l=s.map(h=>{let p=a.get(h.element);return this._buildPlayer(h,new Map,p)}),c=On(l);return this._playersById.set(n,c),c.onDestroy(()=>this.destroy(n)),this.players.push(c),c}destroy(n){let e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);let i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(n){let e=this._playersById.get(n);if(!e)throw Xx(n);return e}listen(n,e,i,r){let o=tf(e,"","","");return ef(this._getPlayer(n),i,o,r),()=>{}}command(n,e,i,r){if(i=="register"){this.register(n,r[0]);return}if(i=="create"){let s=r[0]||{};this.create(n,e,s);return}let o=this._getPlayer(n);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(n);break}}},Fy="ng-animate-queued",FI=".ng-animate-queued",kd="ng-animate-disabled",LI=".ng-animate-disabled",VI="ng-star-inserted",jI=".ng-star-inserted",$I=[],Zy={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},BI={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ot="__ng_removed",no=class{get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;let i=n&&n.hasOwnProperty("value"),r=i?n.value:n;if(this.value=UI(r),i){let o=n,{value:s}=o,a=Pf(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){let e=n.params;if(e){let i=this.options.params;Object.keys(e).forEach(r=>{i[r]==null&&(i[r]=e[r])})}}},Jr="void",Fd=new no(Jr),Kd=class{constructor(n,e,i){this.id=n,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,bt(e,this._hostClassName)}listen(n,e,i,r){if(!this._triggers.has(e))throw Jx(i,e);if(i==null||i.length==0)throw eI(e);if(!GI(i))throw tI(i,e);let o=ft(this._elementListeners,n,[]),s={name:e,phase:i,callback:r};o.push(s);let a=ft(this._engine.statesByElement,n,new Map);return a.has(e)||(bt(n,ma),bt(n,ma+"-"+e),a.set(e,Fd)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(n,e){return this._triggers.has(n)?!1:(this._triggers.set(n,e),!0)}_getTrigger(n){let e=this._triggers.get(n);if(!e)throw nI(n);return e}trigger(n,e,i,r=!0){let o=this._getTrigger(e),s=new io(this.id,e,n),a=this._engine.statesByElement.get(n);a||(bt(n,ma),bt(n,ma+"-"+e),this._engine.statesByElement.set(n,a=new Map));let l=a.get(e),c=new no(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=Fd),!(c.value===Jr)&&l.value===c.value){if(!qI(l.params,c.params)){let S=[],B=o.matchStyles(l.value,l.params,S),$=o.matchStyles(c.value,c.params,S);S.length?this._engine.reportError(S):this._engine.afterFlush(()=>{li(n,B),qt(n,$)})}return}let v=ft(this._engine.playersByElement,n,[]);v.forEach(S=>{S.namespaceId==this.id&&S.triggerName==e&&S.queued&&S.destroy()});let m=o.matchTransition(l.value,c.value,n,c.params),C=!1;if(!m){if(!r)return;m=o.fallbackTransition,C=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:m,fromState:l,toState:c,player:s,isFallbackTransition:C}),C||(bt(n,Fy),s.onStart(()=>{ir(n,Fy)})),s.onDone(()=>{let S=this.players.indexOf(s);S>=0&&this.players.splice(S,1);let B=this._engine.playersByElement.get(n);if(B){let $=B.indexOf(s);$>=0&&B.splice($,1)}}),this.players.push(s),v.push(s),s}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);let e=this._engine.playersByElement.get(n);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){let i=this._engine.driver.query(n,ba,!0);i.forEach(r=>{if(r[Ot])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(n,e,i,r){let o=this._engine.statesByElement.get(n),s=new Map;if(o){let a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){let h=this.trigger(n,c,Jr,r);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,s),i&&On(a).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){let e=this._elementListeners.get(n),i=this._engine.statesByElement.get(n);if(e&&i){let r=new Set;e.forEach(o=>{let s=o.name;if(r.has(s))return;r.add(s);let l=this._triggers.get(s).fallbackTransition,c=i.get(s)||Fd,h=new no(Jr),p=new io(this.id,s,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:s,transition:l,fromState:c,toState:h,player:p,isFallbackTransition:!0})})}}removeNode(n,e){let i=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let r=!1;if(i.totalAnimations){let o=i.players.length?i.playersByQueriedElement.get(n):[];if(o&&o.length)r=!0;else{let s=n;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(n),r)i.markElementAsRemoved(this.id,n,!1,e);else{let o=n[Ot];(!o||o===Zy)&&(i.afterFlush(()=>this.clearElementCache(n)),i.destroyInnerAnimations(n),i._onRemovalComplete(n,e))}}insertNode(n,e){bt(n,this._hostClassName)}drainQueuedTransitions(n){let e=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){let l=tf(o,i.triggerName,i.fromState.value,i.toState.value);l._data=n,ef(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{let o=i.transition.ast.depCount,s=r.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}},Zd=class{_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,i,r){this.bodyNode=n,this.driver=e,this._normalizer=i,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){let n=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&n.push(i)})}),n}createNamespace(n,e){let i=new Kd(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[n]=i}_balanceNamespaceList(n,e){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){let l=r.get(a);if(l){let c=i.indexOf(l);i.splice(c+1,0,n),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(n)}else i.push(n);return r.set(e,n),n}register(n,e){let i=this._namespaceLookup[n];return i||(i=this.createNamespace(n,e)),i}registerTrigger(n,e,i){let r=this._namespaceLookup[n];r&&r.register(e,i)&&this.totalAnimations++}destroy(n,e){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(n);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){let e=new Set,i=this.statesByElement.get(n);if(i){for(let r of i.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}}return e}trigger(n,e,i,r){if(_a(e)){let o=this._fetchNamespace(n);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(n,e,i,r){if(!_a(e))return;let o=e[Ot];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(n){let s=this._fetchNamespace(n);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),bt(n,kd)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),ir(n,kd))}removeNode(n,e,i){if(_a(e)){this.scheduler?.notify();let r=n?this._fetchNamespace(n):null;r?r.removeNode(e,i):this.markElementAsRemoved(n,e,!1,i);let o=this.namespacesByHostElement.get(e);o&&o.id!==n&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(n,e,i,r,o){this.collectedLeaveElements.push(e),e[Ot]={namespaceId:n,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(n,e,i,r,o){return _a(e)?this._fetchNamespace(n).listen(e,i,r,o):()=>{}}_buildInstruction(n,e,i,r,o){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,i,r,n.fromState.options,n.toState.options,e,o)}destroyInnerAnimations(n){let e=this.driver.query(n,ba,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(n,jd,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(n){let e=this.playersByElement.get(n);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(n){let e=this.playersByQueriedElement.get(n);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return On(this.players).onDone(()=>n());n()})}processLeaveNode(n){let e=n[Ot];if(e&&e.setForRemoval){if(n[Ot]=Zy,e.namespaceId){this.destroyInnerAnimations(n);let i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(kd)&&this.markElementAsDisabled(n,!1),this.driver.query(n,LI,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];bt(r,VI)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{e=this._flushAnimations(i,n)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],e.length?On(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(n){throw iI(n)}_flushAnimations(n,e){let i=new to,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,h=new Set;this.disabledNodes.forEach(R=>{h.add(R);let j=this.driver.query(R,FI,!0);for(let H=0;H<j.length;H++)h.add(j[H])});let p=this.bodyNode,v=Array.from(this.statesByElement.keys()),m=jy(v,this.collectedEnterElements),C=new Map,S=0;m.forEach((R,j)=>{let H=zy+S++;C.set(j,H),R.forEach(oe=>bt(oe,H))});let B=[],$=new Set,_e=new Set;for(let R=0;R<this.collectedLeaveElements.length;R++){let j=this.collectedLeaveElements[R],H=j[Ot];H&&H.setForRemoval&&(B.push(j),$.add(j),H.hasAnimation?this.driver.query(j,jI,!0).forEach(oe=>$.add(oe)):_e.add(j))}let ue=new Map,me=jy(v,Array.from($));me.forEach((R,j)=>{let H=Vd+S++;ue.set(j,H),R.forEach(oe=>bt(oe,H))}),n.push(()=>{m.forEach((R,j)=>{let H=C.get(j);R.forEach(oe=>ir(oe,H))}),me.forEach((R,j)=>{let H=ue.get(j);R.forEach(oe=>ir(oe,H))}),B.forEach(R=>{this.processLeaveNode(R)})});let nt=[],Ie=[];for(let R=this._namespaceList.length-1;R>=0;R--)this._namespaceList[R].drainQueuedTransitions(e).forEach(H=>{let oe=H.player,Ve=H.element;if(nt.push(oe),this.collectedEnterElements.length){let He=Ve[Ot];if(He&&He.setForMove){if(He.previousTriggersValues&&He.previousTriggersValues.has(H.triggerName)){let kn=He.previousTriggersValues.get(H.triggerName),gt=this.statesByElement.get(H.element);if(gt&&gt.has(H.triggerName)){let co=gt.get(H.triggerName);co.value=kn,gt.set(H.triggerName,co)}}oe.destroy();return}}let Nt=!p||!this.driver.containsElement(p,Ve),it=ue.get(Ve),dn=C.get(Ve),Ee=this._buildInstruction(H,i,dn,it,Nt);if(Ee.errors&&Ee.errors.length){Ie.push(Ee);return}if(Nt){oe.onStart(()=>li(Ve,Ee.fromStyles)),oe.onDestroy(()=>qt(Ve,Ee.toStyles)),r.push(oe);return}if(H.isFallbackTransition){oe.onStart(()=>li(Ve,Ee.fromStyles)),oe.onDestroy(()=>qt(Ve,Ee.toStyles)),r.push(oe);return}let xf=[];Ee.timelines.forEach(He=>{He.stretchStartingKeyframe=!0,this.disabledNodes.has(He.element)||xf.push(He)}),Ee.timelines=xf,i.append(Ve,Ee.timelines);let Q0={instruction:Ee,player:oe,element:Ve};s.push(Q0),Ee.queriedElements.forEach(He=>ft(a,He,[]).push(oe)),Ee.preStyleProps.forEach((He,kn)=>{if(He.size){let gt=l.get(kn);gt||l.set(kn,gt=new Set),He.forEach((co,Ha)=>gt.add(Ha))}}),Ee.postStyleProps.forEach((He,kn)=>{let gt=c.get(kn);gt||c.set(kn,gt=new Set),He.forEach((co,Ha)=>gt.add(Ha))})});if(Ie.length){let R=[];Ie.forEach(j=>{R.push(rI(j.triggerName,j.errors))}),nt.forEach(j=>j.destroy()),this.reportError(R)}let Me=new Map,Le=new Map;s.forEach(R=>{let j=R.element;i.has(j)&&(Le.set(j,j),this._beforeAnimationBuild(R.player.namespaceId,R.instruction,Me))}),r.forEach(R=>{let j=R.element;this._getPreviousPlayers(j,!1,R.namespaceId,R.triggerName,null).forEach(oe=>{ft(Me,j,[]).push(oe),oe.destroy()})});let Yt=B.filter(R=>$y(R,l,c)),un=new Map;Vy(un,this.driver,_e,c,Wt).forEach(R=>{$y(R,l,c)&&Yt.push(R)});let Rn=new Map;m.forEach((R,j)=>{Vy(Rn,this.driver,new Set(R),l,ga)}),Yt.forEach(R=>{let j=un.get(R),H=Rn.get(R);un.set(R,new Map([...j?.entries()??[],...H?.entries()??[]]))});let Ba=[],Ef=[],Df={};s.forEach(R=>{let{element:j,player:H,instruction:oe}=R;if(i.has(j)){if(h.has(j)){H.onDestroy(()=>qt(j,oe.toStyles)),H.disabled=!0,H.overrideTotalTime(oe.totalTime),r.push(H);return}let Ve=Df;if(Le.size>1){let it=j,dn=[];for(;it=it.parentNode;){let Ee=Le.get(it);if(Ee){Ve=Ee;break}dn.push(it)}dn.forEach(Ee=>Le.set(Ee,Ve))}let Nt=this._buildAnimation(H.namespaceId,oe,Me,o,Rn,un);if(H.setRealPlayer(Nt),Ve===Df)Ba.push(H);else{let it=this.playersByElement.get(Ve);it&&it.length&&(H.parentPlayer=On(it)),r.push(H)}}else li(j,oe.fromStyles),H.onDestroy(()=>qt(j,oe.toStyles)),Ef.push(H),h.has(j)&&r.push(H)}),Ef.forEach(R=>{let j=o.get(R.element);if(j&&j.length){let H=On(j);R.setRealPlayer(H)}}),r.forEach(R=>{R.parentPlayer?R.syncPlayerEvents(R.parentPlayer):R.destroy()});for(let R=0;R<B.length;R++){let j=B[R],H=j[Ot];if(ir(j,Vd),H&&H.hasAnimation)continue;let oe=[];if(a.size){let Nt=a.get(j);Nt&&Nt.length&&oe.push(...Nt);let it=this.driver.query(j,jd,!0);for(let dn=0;dn<it.length;dn++){let Ee=a.get(it[dn]);Ee&&Ee.length&&oe.push(...Ee)}}let Ve=oe.filter(Nt=>!Nt.destroyed);Ve.length?zI(this,j,Ve):this.processLeaveNode(j)}return B.length=0,Ba.forEach(R=>{this.players.push(R),R.onDone(()=>{R.destroy();let j=this.players.indexOf(R);this.players.splice(j,1)}),R.play()}),Ba}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,i,r,o){let s=[];if(e){let a=this.playersByQueriedElement.get(n);a&&(s=a)}else{let a=this.playersByElement.get(n);if(a){let l=!o||o==Jr;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(n,e,i){let r=e.triggerName,o=e.element,s=e.isRemovalTransition?void 0:n,a=e.isRemovalTransition?void 0:r;for(let l of e.timelines){let c=l.element,h=c!==o,p=ft(i,c,[]);this._getPreviousPlayers(c,h,s,a,e.toState).forEach(m=>{let C=m.getRealPlayer();C.beforeDestroy&&C.beforeDestroy(),m.destroy(),p.push(m)})}li(o,e.fromStyles)}_buildAnimation(n,e,i,r,o,s){let a=e.triggerName,l=e.element,c=[],h=new Set,p=new Set,v=e.timelines.map(C=>{let S=C.element;h.add(S);let B=S[Ot];if(B&&B.removedBeforeQueried)return new An(C.duration,C.delay);let $=S!==l,_e=WI((i.get(S)||$I).map(Me=>Me.getRealPlayer())).filter(Me=>{let Le=Me;return Le.element?Le.element===S:!1}),ue=o.get(S),me=s.get(S),nt=By(this._normalizer,C.keyframes,ue,me),Ie=this._buildPlayer(C,nt,_e);if(C.subTimeline&&r&&p.add(S),$){let Me=new io(n,a,S);Me.setRealPlayer(Ie),c.push(Me)}return Ie});c.forEach(C=>{ft(this.playersByQueriedElement,C.element,[]).push(C),C.onDone(()=>HI(this.playersByQueriedElement,C.element,C))}),h.forEach(C=>bt(C,Py));let m=On(v);return m.onDestroy(()=>{h.forEach(C=>ir(C,Py)),qt(l,e.toStyles)}),p.forEach(C=>{ft(r,C,[]).push(m)}),m}_buildPlayer(n,e,i){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,i):new An(n.duration,n.delay)}},io=class{constructor(n,e,i){this.namespaceId=n,this.triggerName=e,this.element=i,this._player=new An,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>ef(n,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){let e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){ft(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){let e=this._player;e.triggerCallback&&e.triggerCallback(n)}};function HI(t,n,e){let i=t.get(n);if(i){if(i.length){let r=i.indexOf(e);i.splice(r,1)}i.length==0&&t.delete(n)}return i}function UI(t){return t??null}function _a(t){return t&&t.nodeType===1}function GI(t){return t=="start"||t=="done"}function Ly(t,n){let e=t.style.display;return t.style.display=n??"none",e}function Vy(t,n,e,i,r){let o=[];e.forEach(l=>o.push(Ly(l)));let s=[];i.forEach((l,c)=>{let h=new Map;l.forEach(p=>{let v=n.computeStyle(c,p,r);h.set(p,v),(!v||v.length==0)&&(c[Ot]=BI,s.push(c))}),t.set(c,h)});let a=0;return e.forEach(l=>Ly(l,o[a++])),s}function jy(t,n){let e=new Map;if(t.forEach(a=>e.set(a,[])),n.length==0)return e;let i=1,r=new Set(n),o=new Map;function s(a){if(!a)return i;let l=o.get(a);if(l)return l;let c=a.parentNode;return e.has(c)?l=c:r.has(c)?l=i:l=s(c),o.set(a,l),l}return n.forEach(a=>{let l=s(a);l!==i&&e.get(l).push(a)}),e}function bt(t,n){t.classList?.add(n)}function ir(t,n){t.classList?.remove(n)}function zI(t,n,e){On(e).onDone(()=>t.processLeaveNode(n))}function WI(t){let n=[];return Xy(t,n),n}function Xy(t,n){for(let e=0;e<t.length;e++){let i=t[e];i instanceof Zr?Xy(i.players,n):n.push(i)}}function qI(t,n){let e=Object.keys(t),i=Object.keys(n);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){let o=e[r];if(!n.hasOwnProperty(o)||t[o]!==n[o])return!1}return!0}function $y(t,n,e){let i=e.get(t);if(!i)return!1;let r=n.get(t);return r?i.forEach(o=>r.add(o)):n.set(t,i),e.delete(t),!0}var rr=class{constructor(n,e,i,r){this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new Zd(n.body,e,i,r),this._timelineEngine=new Qd(n.body,e,i),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(n,e,i,r,o){let s=n+"-"+r,a=this._triggerCache[s];if(!a){let l=[],c=[],h=Yy(this._driver,o,l,c);if(l.length)throw qx(r,l);c.length&&void 0,a=NI(r,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,i,r){this._transitionEngine.insertNode(n,e,i,r)}onRemove(n,e,i){this._transitionEngine.removeNode(n,e,i)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,i,r){if(i.charAt(0)=="@"){let[o,s]=My(i),a=r;this._timelineEngine.command(o,e,s,a)}else this._transitionEngine.trigger(n,e,i,r)}listen(n,e,i,r,o){if(i.charAt(0)=="@"){let[s,a]=My(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(n,e,i,r,o)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}};function YI(t,n){let e=null,i=null;return Array.isArray(n)&&n.length?(e=Ld(n[0]),n.length>1&&(i=Ld(n[n.length-1]))):n instanceof Map&&(e=Ld(n)),e||i?new Xd(t,e,i):null}var Xd=class t{static{this.initialStylesByElement=new WeakMap}constructor(n,e,i){this._element=n,this._startStyles=e,this._endStyles=i,this._state=0;let r=t.initialStylesByElement.get(n);r||t.initialStylesByElement.set(n,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&qt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(qt(this._element,this._initialStyles),this._endStyles&&(qt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(li(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(li(this._element,this._endStyles),this._endStyles=null),qt(this._element,this._initialStyles),this._state=3)}};function Ld(t){let n=null;return t.forEach((e,i)=>{QI(i)&&(n=n||new Map,n.set(i,e))}),n}function QI(t){return t==="display"||t==="position"}var Ma=class{constructor(n,e,i,r){this.element=n,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){let e=[];return n.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(n,e,i){return n.animate(this._convertKeyframesToObject(e),i)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&n.set(r,this._finished?i:sf(this.element,r))}),this.currentSnapshot=n}triggerCallback(n){let e=n==="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},Ta=class{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,e){return!1}containsElement(n,e){return Hy(n,e)}getParentElement(n){return nf(n)}query(n,e,i){return Uy(n,e,i)}computeStyle(n,e,i){return sf(n,e)}animate(n,e,i,r,o,s=[]){let a=r==0?"both":"forwards",l={duration:i,delay:r,fill:a};o&&(l.easing=o);let c=new Map,h=s.filter(m=>m instanceof Ma);gI(i,r)&&h.forEach(m=>{m.currentSnapshot.forEach((C,S)=>c.set(S,C))});let p=fI(e).map(m=>new Map(m));p=mI(n,p,c);let v=YI(n,p);return new Ma(n,p,l,v)}};var Ca="@",Jy="@.disabled",Pa=class{constructor(n,e,i,r){this.namespaceId=n,this.delegate=e,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,i,r=!0){this.delegate.insertBefore(n,e,i),this.engine.onInsert(this.namespaceId,e,n,r)}removeChild(n,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,i,r){this.delegate.setAttribute(n,e,i,r)}removeAttribute(n,e,i){this.delegate.removeAttribute(n,e,i)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,i,r){this.delegate.setStyle(n,e,i,r)}removeStyle(n,e,i){this.delegate.removeStyle(n,e,i)}setProperty(n,e,i){e.charAt(0)==Ca&&e==Jy?this.disableAnimations(n,!!i):this.delegate.setProperty(n,e,i)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,i){return this.delegate.listen(n,e,i)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}},Jd=class extends Pa{constructor(n,e,i,r,o){super(e,i,r,o),this.factory=n,this.namespaceId=e}setProperty(n,e,i){e.charAt(0)==Ca?e.charAt(1)=="."&&e==Jy?(i=i===void 0?!0:!!i,this.disableAnimations(n,i)):this.engine.process(this.namespaceId,n,e.slice(1),i):this.delegate.setProperty(n,e,i)}listen(n,e,i){if(e.charAt(0)==Ca){let r=KI(n),o=e.slice(1),s="";return o.charAt(0)!=Ca&&([o,s]=ZI(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,i,a)})}return this.delegate.listen(n,e,i)}};function KI(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function ZI(t){let n=t.indexOf("."),e=t.substring(0,n),i=t.slice(n+1);return[e,i]}var Aa=class{constructor(n,e,i){this.delegate=n,this.engine=e,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(r,o)=>{let s=o?.parentNode(r);s&&o.removeChild(s,r)}}createRenderer(n,e){let i="",r=this.delegate.createRenderer(n,e);if(!n||!e?.data?.animation){let c=this._rendererCache,h=c.get(r);if(!h){let p=()=>c.delete(r);h=new Pa(i,r,this.engine,p),c.set(r,h)}return h}let o=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,n);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(o,s,n,c.name,c)};return e.data.animation.forEach(a),new Jd(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,e,i){if(n>=0&&n<this._microtaskId){this._zone.run(()=>e(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([e,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var JI=(()=>{class t extends rr{constructor(e,i,r){super(e,i,r,O(vr,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||t)(k(qe),k(ci),k(ui))}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac})}}return t})();function e1(){return new Sa}function t1(t,n,e){return new Aa(t,n,e)}var e0=[{provide:ui,useFactory:e1},{provide:rr,useClass:JI},{provide:Zn,useFactory:t1,deps:[Zs,rr,Te]}],n1=[{provide:ci,useFactory:()=>new Ta},{provide:Yc,useValue:"BrowserAnimations"},...e0],D2=[{provide:ci,useClass:rf},{provide:Yc,useValue:"NoopAnimations"},...e0];function t0(){return $s("NgEagerAnimations"),[...n1]}var n0=[];var i0={providers:[Ey(n0),t0()]};var N=function(t){return t.NONE="NONE",t.WARHEAD_FACTORY="WARHEAD_FACTORY",t.HYDROPONIC_FARM="HYDROPONIC_FARM",t}(N||{}),re=function(t){return t.LOYAL="LOYAL",t.REBEL="REBEL",t.NEUTRAL="NEUTRAL",t}(re||{}),X=function(t){return t.CONSTRUCTION="CONSTRUCTION",t.CULLING="CULLING",t.ENSLAVED_LABOUR="ENSLAVED_LABOUR",t.POPULATION_GROWTH="POPULATION_GROWTH",t}(X||{}),V=function(t){return t.PLAYER_ACTION="PLAYER_ACTION",t.POLITICAL="POLITICAL",t.REFRESH="REFRESH",t.GAME_WON="GAME_WON",t.GAME_LOST="GAME_LOST",t}(V||{});var di=[{id:"tutorial",name:"Heisenberg",description:"Simple 5-planet configuration for learning the game",topologyString:"5: 2->[3]1, 4->[5]1 | crystals: 1:3, 2:6, 3:6, 4:6,5:6 | collapse: 0 | dominion: 6",difficulty:"Tutorial",planetCount:5,starImage:"sun-yellow.png",starGlowColor:"rgba(251, 191, 36, 0.9)"},{id:"F",name:"Ad-invariant",description:"A 5-dimensional Lie algebra with an ad-invariant metric",topologyString:"5: 1->[2]3, 1->[3]4, 2->[3]5| crystals: 1:10, 2:10, 3:5 | collapse: 0",difficulty:"Easy",planetCount:5,starImage:"sun-blue.png",starGlowColor:"rgba(59, 130, 246, 0.9)"},{id:"notsohypo",name:"Not so hypo",description:"A 5-dimensional Lie algebra with no hypo structure",topologyString:"5: 1->[2]3, 1->[3]4, 1->[4]5, 2->[3]5| crystals: 1:10, 2:9, 3:6,4:3 | collapse: 0",difficulty:"Easy",planetCount:5,starImage:"sun-white.png",starGlowColor:"rgba(248, 250, 252, 0.9)"},{id:"trilagrangian",name:"Trilagrangian",description:"A 6-dimensional Lie algebra with a symplectic haf-flat structure",topologyString:"6: 1->[2]4, 1->[3]5, 2->[3]6| crystals: 1:3, 2:3, 3:3 | collapse: 14",difficulty:"Easy",planetCount:6,starImage:"sun-green.png",starGlowColor:"rgba(34, 197, 94, 0.9)"},{id:"G2",name:"G2",description:"The parabolic nilradical of G<sub>2</sub><sup>*</sup>",topologyString:"6: 1->[2]3, 1->[3]4, 1->[4]5, 2->[5]6, 3->[4]6| crystals: 1:8, 2:6,3:5,4:4,5:3, | collapse: 14",difficulty:"Medium",planetCount:6,starImage:"sun-orange.png",starGlowColor:"rgba(249, 115, 22, 0.9)"},{id:"filiform",name:"Filiform",description:"A filiform 7-dimensional Lie algebra",topologyString:"7: 1->[2]3, 1->[3]4, 1->[4]5, 1->[5]6, 1->[6]7|,3->[4]7,2->[5]7 |crystals: 1:6, 2:5,3:4,4:3,5:2,6:1",difficulty:"Medium",planetCount:7,starImage:"sun-purple.png",starGlowColor:"rgba(170, 36, 81, 0.9)"},{id:"killing",name:"Einstein",description:"An 8-dimensional Lie algebra with an Einstein metric",topologyString:"8: 3->[5]1, 4->[7]1, 6->[8]1, 3->[6]2, 4->[8]2, 5->[7]2, 5->[6]3, 7->[8]4 | collapse: 8 | dominion: 18",difficulty:"Hard",planetCount:8,starImage:"sun-red.png",starGlowColor:"rgba(239, 68, 68, 0.9)"},{id:"einstein",name:"Nice",description:"A 9-dimensional Lie algebra with an Einstein metric",topologyString:"9: 4->[7]1, 6->[9]1, 5->[9]2, 7->[8]2, 6->[8]3, 7->[9]3, 6->[7]4, 8->[9]5 | collapse: 9",difficulty:"Hard",planetCount:9,starImage:"sun-lime2.png",starGlowColor:"rgba(163, 230, 53, 0.9)"},{id:"lie",name:"The odd side of the moon",description:"A 9-dimensional Lie algebra with an Einstein metric",topologyString:"9: 4->[6]1, 5->[9]1, 7->[8]1, 4->[7]2, 5->[8]2, 6->[9]2, 7->[9]3, 6->[7]4, 8->[9]5 | collapse: 9",difficulty:"Hard",planetCount:9,starImage:"moon.png",starGlowColor:"rgba(24, 25, 25, 0.9)"},{id:"double-ring-8",name:"The 9-th dimension",description:"A 9-dimensional Lie algebra with an Einstein metric",topologyString:"9: 3->[6]1, 5->[9]1, 7->[8]1, 4->[7]2, 5->[8]2, 6->[9]2, 6->[7]3, 7->[9]4, 8->[9]5| collapse: 9",difficulty:"Hard",planetCount:9,starImage:"sun-teal.png",starGlowColor:"rgba(20, 184, 166, 0.9)"},{id:"chaos-9",name:"The root of all evil",description:"A 9-dimensional Lie algebra with an Einstein metric",topologyString:"9: 3->[6]1, 5->[9]1, 7->[8]1, 4->[7]2, 5->[8]2, 6->[9]2, 6->[8]3, 7->[9]4, 8->[9]5 | collapse: 9",difficulty:"Hard",planetCount:9,starImage:"sun-lime.png",starGlowColor:"rgba(163, 230, 53, 0.9)"},{id:"boh",name:"Rational",description:"A 9-dimensional Lie algebra with an Einstein metric",topologyString:" 9: 4->[6]1, 5->[8]1, 7->[9]1, 4->[7]2, 6->[9]2, 5->[9]3, 7->[8]3, 6->[7]4, 8->[9]5| collapse: 14",difficulty:"Expert",planetCount:9,starImage:"sun-amber.png",starGlowColor:"rgba(245, 158, 11, 0.9)"}],r0="tutorial";var lf=["Ad-invariant","Cauchy","Covariant","Diagonal","Einstein","Galois","G2","Harmful","Hypo","Half-flat","Iwasawa","Juggernaut","K\xE4hler","Killing","Lie","Mirage","Non-nice","Oblivion","Perturbation","Quotient","Riemann","Ricci","Sasaki","Solitary","Spinor","Tipitopo","Torsion","Umbra","Vanguard","Wasteland","Xenith","Yggdrasil","Zenith","Abyss","Brutus","Citadel","Dominion","Enigma","Frost","Genesis","Havoc","Inferno","Judgement"];function o0(t){if(t>lf.length)throw new Error(`Cannot generate ${t} unique names from pool of ${lf.length}`);let n=[...lf];for(let e=n.length-1;e>0;e--){let i=Math.floor(Math.random()*(e+1));[n[e],n[i]]=[n[i],n[e]]}return n.slice(0,t)}var h0=(()=>{class t{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(i){return new(i||t)(P(an),P(at))}}static{this.\u0275dir=Ze({type:t})}}return t})(),i1=(()=>{class t extends h0{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=xr(t)))(r||t)}})()}static{this.\u0275dir=Ze({type:t,features:[Wi]})}}return t})(),p0=new Y("");var r1={provide:p0,useExisting:Sr(()=>ka),multi:!0};function o1(){let t=ln()?ln().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var s1=new Y(""),ka=(()=>{class t extends h0{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!o1())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(i){return new(i||t)(P(an),P(at),P(s1,8))}}static{this.\u0275dir=Ze({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&T("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[bu([r1]),Wi]})}}return t})();var a1=new Y(""),l1=new Y("");function g0(t){return t!=null}function m0(t){return In(t)?Oe(t):t}function y0(t){let n={};return t.forEach(e=>{n=e!=null?w(w({},n),e):n}),Object.keys(n).length===0?null:n}function v0(t,n){return n.map(e=>e(t))}function c1(t){return!t.validate}function _0(t){return t.map(n=>c1(n)?n:e=>n.validate(e))}function u1(t){if(!t)return null;let n=t.filter(g0);return n.length==0?null:function(e){return y0(v0(e,n))}}function C0(t){return t!=null?u1(_0(t)):null}function d1(t){if(!t)return null;let n=t.filter(g0);return n.length==0?null:function(e){let i=v0(e,n).map(m0);return sl(i).pipe(U(y0))}}function b0(t){return t!=null?d1(_0(t)):null}function s0(t,n){return t===null?[n]:Array.isArray(t)?[...t,n]:[t,n]}function f1(t){return t._rawValidators}function h1(t){return t._rawAsyncValidators}function cf(t){return t?Array.isArray(t)?t:[t]:[]}function Na(t,n){return Array.isArray(t)?t.includes(n):t===n}function a0(t,n){let e=cf(n);return cf(t).forEach(r=>{Na(e,r)||e.push(r)}),e}function l0(t,n){return cf(n).filter(e=>!Na(t,e))}var Ra=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=C0(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=b0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return this.control?this.control.hasError(n,e):!1}getError(n,e){return this.control?this.control.getError(n,e):null}},uf=class extends Ra{get formDirective(){return null}get path(){return null}},so=class extends Ra{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},df=class{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},p1={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},nL=A(w({},p1),{"[class.ng-submitted]":"isSubmitted"}),w0=(()=>{class t extends df{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||t)(P(so,2))}}static{this.\u0275dir=Ze({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&xe("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Wi]})}}return t})();var ro="VALID",Oa="INVALID",or="PENDING",oo="DISABLED";function g1(t){return(Fa(t)?t.validators:t)||null}function m1(t){return Array.isArray(t)?C0(t):t||null}function y1(t,n){return(Fa(n)?n.asyncValidators:t)||null}function v1(t){return Array.isArray(t)?b0(t):t||null}function Fa(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var ff=class{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===ro}get invalid(){return this.status===Oa}get pending(){return this.status==or}get disabled(){return this.status===oo}get enabled(){return this.status!==oo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(a0(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(a0(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(l0(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(l0(n,this._rawAsyncValidators))}hasValidator(n){return Na(this._rawValidators,n)}hasAsyncValidator(n){return Na(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=or,n.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=oo,this.errors=null,this._forEachChild(i=>{i.disable(A(w({},n),{onlySelf:!0}))}),this._updateValue(),n.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(A(w({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=ro,this._forEachChild(i=>{i.enable(A(w({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(A(w({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ro||this.status===or)&&this._runAsyncValidator(n.emitEvent)),n.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?oo:ro}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=or,this._hasOwnPendingAsyncValidator=!0;let e=m0(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(e.emitEvent!==!1)}get(n){let e=n;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(n,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new ge,this.statusChanges=new ge}_calculateStatus(){return this._allControlsDisabled()?oo:this.errors?Oa:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(or)?or:this._anyControlsHaveStatus(Oa)?Oa:ro}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Fa(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let e=this._parent&&this._parent.dirty;return!n&&!!e&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=m1(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=v1(this._rawAsyncValidators)}};var S0=new Y("CallSetDisabledState",{providedIn:"root",factory:()=>hf}),hf="always";function _1(t,n){return[...n.path,t]}function C1(t,n,e=hf){w1(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||e==="always")&&n.valueAccessor.setDisabledState?.(t.disabled),S1(t,n),D1(t,n),E1(t,n),b1(t,n)}function c0(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function b1(t,n){if(n.valueAccessor.setDisabledState){let e=i=>{n.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}function w1(t,n){let e=f1(t);n.validator!==null?t.setValidators(s0(e,n.validator)):typeof e=="function"&&t.setValidators([e]);let i=h1(t);n.asyncValidator!==null?t.setAsyncValidators(s0(i,n.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();c0(n._rawValidators,r),c0(n._rawAsyncValidators,r)}function S1(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&E0(t,n)})}function E1(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&E0(t,n),t.updateOn!=="submit"&&t.markAsTouched()})}function E0(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function D1(t,n){let e=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}function x1(t,n){if(!t.hasOwnProperty("model"))return!1;let e=t.model;return e.isFirstChange()?!0:!Object.is(n,e.currentValue)}function I1(t){return Object.getPrototypeOf(t.constructor)===i1}function M1(t,n){if(!n)return null;Array.isArray(n);let e,i,r;return n.forEach(o=>{o.constructor===ka?e=o:I1(o)?i=o:r=o}),r||i||e||null}function u0(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function d0(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var T1=class extends ff{constructor(n=null,e,i){super(g1(e),y1(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Fa(e)&&(e.nonNullable||e.initialValueIsDefault)&&(d0(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){u0(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){u0(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){d0(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var P1={provide:so,useExisting:Sr(()=>pf)},f0=Promise.resolve(),pf=(()=>{class t extends so{constructor(e,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new T1,this._registered=!1,this.name="",this.update=new ge,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=M1(this,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),x1(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){C1(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){f0.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,r=i!==0&&Gs(i);f0.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?_1(e,this._parent):[e]}static{this.\u0275fac=function(i){return new(i||t)(P(uf,9),P(a1,10),P(l1,10),P(p0,10),P(_t,8),P(S0,8))}}static{this.\u0275dir=Ze({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[We.None,"disabled","isDisabled"],model:[We.None,"ngModel","model"],options:[We.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[bu([P1]),Wi,Bi]})}}return t})();var A1=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=bn({type:t})}static{this.\u0275inj=Cn({})}}return t})();var D0=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:S0,useValue:e.callSetDisabledState??hf}]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=bn({type:t})}static{this.\u0275inj=Cn({imports:[A1]})}}return t})();var gf={production:!0,appName:"Equilibrium",appVersion:"1.0.0",enableDebugMode:!1,enableConsoleLogs:!1,analytics:{enabled:!0,domain:"yourdomain.com"},storageKeys:{gameState:"equilibrium_game_state",settings:"equilibrium_settings"},maxUndoHistory:100,animationDuration:{refresh:2e3,structure:800,action:600},showDevTools:!1,bypassValidation:!1};var ht=(()=>{class t{constructor(){this.STORAGE_KEY=gf.storageKeys.gameState,this.MAX_HISTORY_SIZE=gf.maxUndoHistory,this.gameState$=new de(null),this.stateHistory=[],this.historyIndex=-1,this.state$=this.gameState$.asObservable(),this.planets$=this.state$.pipe(U(e=>e?.topology.planets||[])),this.stations$=this.state$.pipe(U(e=>e?.topology.spaceStations||[])),this.unrest$=this.state$.pipe(U(e=>e?.unrest||0)),this.warheads$=this.state$.pipe(U(e=>e?.warheads||0)),this.dominion$=this.state$.pipe(U(e=>e?.dominion||15)),this.phase$=this.state$.pipe(U(e=>e?.currentPhase||null)),this.turnNumber$=this.state$.pipe(U(e=>e?.turnNumber||0)),this.optionalRules$=this.state$.pipe(U(e=>e?.optionalRulesEnabled||!1)),this.canUndo$=this.state$.pipe(U(()=>this.canUndo())),this.canRedo$=this.state$.pipe(U(()=>this.canRedo()))}initialWarheads(e,i,r){let o=i,s=Math.max(0,r-e-2),a=Math.max(o-s,0),l=(i+(i-a+1))*a/2;return l>0?Math.max(l,20):0}initializeGame(e,i=!1,r,o){let s={topology:e,topologyId:r,topologyName:o,unrest:1,warheads:this.initialWarheads(e.collapse,e.spaceStations.length,e.dominion),dominion:e.dominion,currentPhase:V.PLAYER_ACTION,actionHistory:[],turnNumber:1,optionalRulesEnabled:i,maxWarheads:Math.max(e.spaceStations.length,2)};this.stateHistory=[s],this.historyIndex=0,this.gameState$.next(s)}updateState(e){this.stateHistory=this.stateHistory.slice(0,this.historyIndex+1),this.stateHistory.push(e),this.historyIndex++,this.stateHistory.length>this.MAX_HISTORY_SIZE&&(this.stateHistory.shift(),this.historyIndex--),this.gameState$.next(e)}getCurrentState(){return this.gameState$.value}undo(){if(!this.canUndo())return;let e=this.gameState$.value;if(!e)return;let i=e.turnNumber,r=this.historyIndex-1;for(;r>=0;){let o=this.stateHistory[r];if(o.currentPhase===V.PLAYER_ACTION&&o.turnNumber<i){this.historyIndex=r,this.gameState$.next(this.stateHistory[this.historyIndex]);return}r--}this.historyIndex>0&&(this.historyIndex=0,this.gameState$.next(this.stateHistory[0]))}redo(){if(!this.canRedo())return;let e=this.gameState$.value;if(!e)return;let i=e.turnNumber,r=this.historyIndex+1;for(;r<this.stateHistory.length;){let o=this.stateHistory[r];if(o.currentPhase===V.PLAYER_ACTION&&o.turnNumber>i){this.historyIndex=r,this.gameState$.next(this.stateHistory[this.historyIndex]);return}r++}this.historyIndex<this.stateHistory.length-1&&(this.historyIndex=this.stateHistory.length-1,this.gameState$.next(this.stateHistory[this.historyIndex]))}canUndo(){return this.historyIndex>0}canRedo(){return this.historyIndex<this.stateHistory.length-1}saveToLocalStorage(){let e=this.getCurrentState();if(e)try{let i=JSON.stringify({state:e,history:this.stateHistory,historyIndex:this.historyIndex});localStorage.setItem(this.STORAGE_KEY,i)}catch(i){console.error("Failed to save game state:",i)}}loadFromLocalStorage(){try{let e=localStorage.getItem(this.STORAGE_KEY);if(e){let i=JSON.parse(e);return this.stateHistory=i.history,this.historyIndex=i.historyIndex,this.gameState$.next(i.state),!0}}catch(e){console.error("Failed to load game state:",e)}return!1}clearSavedState(){localStorage.removeItem(this.STORAGE_KEY)}reset(){this.stateHistory=[],this.historyIndex=-1,this.gameState$.next(null)}getHistory(){return[...this.stateHistory]}getHistoryIndex(){return this.historyIndex}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var et=(()=>{class t{shouldExecutePoliticalPhase(e){return!0}calculateLoyaltyStatus(e,i){return e>i?re.LOYAL:e<i?re.REBEL:re.NEUTRAL}getAffectedPlanets(e,i){let r=[...e.connectedPlanetIds,e.orbitingPlanetId];return i.filter(o=>r.includes(o.id))}allAdjacentPlanetsHaveStructures(e,i){return this.getAffectedPlanets(e,i).every(o=>o.structure!==N.NONE)}countStructuresAroundStation(e,i,r){return this.getAffectedPlanets(e,i).filter(s=>s.structure===r).length}getPlanetsWithStructure(e,i,r){return this.getAffectedPlanets(e,i).filter(s=>s.structure===r)}executePoliticalPhase(e){let i=[];for(let r of e.topology.spaceStations){if(!this.allAdjacentPlanetsHaveStructures(r,e.topology.planets))continue;let o=this.calculateLoyaltyStatus(r.population,e.unrest);if(o===re.LOYAL){let s=this.countStructuresAroundStation(r,e.topology.planets,N.WARHEAD_FACTORY);if(s===1||s===3){let a=this.getPlanetsWithStructure(r,e.topology.planets,N.WARHEAD_FACTORY);i.push({stationId:r.id,loyaltyStatus:re.LOYAL,structureCount:s,affectedPlanetIds:a.map(l=>l.id),requiresPlayerChoice:!0,chosenPlanetId:void 0})}}else if(o===re.REBEL){let s=this.countStructuresAroundStation(r,e.topology.planets,N.HYDROPONIC_FARM);if(s===1||s===3){let a=this.getPlanetsWithStructure(r,e.topology.planets,N.HYDROPONIC_FARM);i.push({stationId:r.id,loyaltyStatus:re.REBEL,structureCount:s,affectedPlanetIds:a.map(l=>l.id),requiresPlayerChoice:!0,chosenPlanetId:void 0})}}}return i}applyPoliticalEvents(e,i){let r=w({},e);for(let o of i)o.chosenPlanetId&&(r=this.destroyStructure(r,o.chosenPlanetId));return r}destroyStructure(e,i){return A(w({},e),{topology:A(w({},e.topology),{planets:e.topology.planets.map(r=>r.id===i?A(w({},r),{structure:N.NONE,crystals:r.crystals+1}):r)})})}getEventsRequiringChoice(e){return e.filter(i=>i.requiresPlayerChoice)}setPlayerChoice(e,i){if(!e.requiresPlayerChoice)throw new Error("This event does not require player choice");if(!e.affectedPlanetIds.includes(i))throw new Error(`Planet ${i} is not affected by this event`);return A(w({},e),{chosenPlanetId:i})}executePoliticalPhaseWithChoices(e,i){return fo(this,null,function*(){let r=this.executePoliticalPhase(e),o=this.getEventsRequiringChoice(r),s=r;if(o.length>0){let a=yield i(o);s=r.map(l=>a.find(h=>h.stationId===l.stationId)||l)}return this.applyPoliticalEvents(e,s)})}getAdjacentStations(e,i){return i.topology.spaceStations.filter(r=>r.orbitingPlanetId===e||r.connectedPlanetIds.includes(e))}createHypotheticalState(e,i,r){return A(w({},e),{topology:A(w({},e.topology),{planets:e.topology.planets.map(o=>o.id===i?A(w({},o),{structure:r}):o)})})}wouldStructureBeCertainlyRemoved(e,i,r){let o=this.createHypotheticalState(e,i,r),s=this.getAdjacentStations(i,o);for(let a of s){if(!this.allAdjacentPlanetsHaveStructures(a,o.topology.planets))continue;let l=this.calculateLoyaltyStatus(a.population,o.unrest);if(l!==re.NEUTRAL){if(l===re.LOYAL&&r===N.WARHEAD_FACTORY){let c=this.countStructuresAroundStation(a,o.topology.planets,N.WARHEAD_FACTORY);if(c%2===1&&c===1)return{wouldBeRemoved:!0,reason:"This warhead factory would be immediately destroyed by loyal space station"}}if(l===re.REBEL&&r===N.HYDROPONIC_FARM){let c=this.countStructuresAroundStation(a,o.topology.planets,N.HYDROPONIC_FARM);if(c%2===1&&c===1)return{wouldBeRemoved:!0,reason:"This hydroponic farm would be immediately destroyed by rebel space station"}}}}return{wouldBeRemoved:!1,reason:""}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Nn=(()=>{class t{trackEvent(e){typeof window<"u"&&window.goatcounter&&window.goatcounter.count({path:e,title:e,event:!0})}trackTutorialStarted(){this.trackEvent("tutorial-started")}trackTutorialCompleted(){this.trackEvent("tutorial-completed")}trackNewGame(e,i){let r=e?`new-game-${e}`:"new-game";this.trackEvent(r)}trackVictory(e,i){let r=e?`victory-${e}`:"victory";this.trackEvent(r)}trackDefeat(e,i){let r=e?`defeat-${e}`:"defeat";this.trackEvent(r)}trackEinsteinLinkClicked(){this.trackEvent("einstein-link-clicked")}trackHowToPlayItemOpened(e){this.trackEvent(`how-to-play-${e}`)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var mf="equilibrium_tutorial",tt=(()=>{class t{constructor(e){this.analytics=e,this.tutorialState$=new de({enabled:!1,currentStep:0,totalSteps:21,completed:!1,skipped:!1}),this.highlightTargets$=new de([]),this.loadProgress()}get state$(){return this.tutorialState$.asObservable()}get highlights$(){return this.highlightTargets$.asObservable()}isActive(){return this.tutorialState$.value.enabled}shouldShowTutorial(){let e=this.tutorialState$.value;return!e.completed&&!e.skipped}startTutorial(){let e={enabled:!0,currentStep:0,totalSteps:21,completed:!1,skipped:!1};this.tutorialState$.next(e),this.updateHighlights(),this.saveProgress(),this.analytics.trackTutorialStarted()}getCurrentStep(){if(!this.isActive())return null;let e=this.tutorialState$.value.currentStep;return this.getTutorialSteps()[e]||null}advanceStep(){if(!this.isActive())return;let e=this.tutorialState$.value,i=e.currentStep+1;i>=e.totalSteps?this.completeTutorial():(this.tutorialState$.next(A(w({},e),{currentStep:i})),this.updateHighlights(),this.saveProgress())}goBackStep(){if(!this.isActive())return;let e=this.tutorialState$.value,i=e.currentStep-1;i<0||(this.tutorialState$.next(A(w({},e),{currentStep:i})),this.updateHighlights(),this.saveProgress())}canGoBack(){let e=this.tutorialState$.value;return e.enabled&&e.currentStep>0}validateAction(e){if(!this.isActive())return{isValid:!0};let i=this.getCurrentStep();return i?i.requiresContinueButton?{isValid:!1}:i.validateAction?i.validateAction(e)?{isValid:!0}:{isValid:!1}:{isValid:!0}:{isValid:!0}}notifyActionExecuted(e){if(!this.isActive())return;let i=this.getCurrentStep();if(!i||!i.validateAction)return;i.validateAction(e)&&this.advanceStep()}notifyPhaseChangeToAction(){if(!this.isActive())return;this.tutorialState$.value.currentStep===15&&this.advanceStep()}skipTutorial(){let e=A(w({},this.tutorialState$.value),{enabled:!1,skipped:!0});this.tutorialState$.next(e),this.highlightTargets$.next([]),this.saveProgress()}completeTutorial(){let e=A(w({},this.tutorialState$.value),{enabled:!1,completed:!0});this.tutorialState$.next(e),this.highlightTargets$.next([]),this.saveProgress(),this.analytics.trackTutorialCompleted()}resetTutorial(){localStorage.removeItem(mf),this.tutorialState$.next({enabled:!1,currentStep:0,totalSteps:21,completed:!1,skipped:!1}),this.highlightTargets$.next([])}updateHighlights(){let e=this.getCurrentStep();e?this.highlightTargets$.next(e.highlightTargets):this.highlightTargets$.next([])}saveProgress(){let e=this.tutorialState$.value;localStorage.setItem(mf,JSON.stringify(e))}loadProgress(){let e=localStorage.getItem(mf);if(e)try{let i=JSON.parse(e);this.tutorialState$.next(i),i.enabled&&this.updateHighlights()}catch(i){console.error("Failed to load tutorial progress:",i)}}getTutorialSteps(){return[{stepNumber:0,title:"Welcome to Equilibrium",instruction:`Welcome to Equilibrium!

You are the Machine - an AI controlling a dying solar system.
Your goal: Achieve Equilibrium by balancing crystal resources
across all planets while maintaining control over the human population.

This tutorial will guide you through the game mechanics.
Click "Begin Tutorial" to start.`,highlightTargets:[],requiresContinueButton:!0,continueButtonText:"Begin Tutorial"},{stepNumber:1,title:"Understanding the Solar System",instruction:`This is your solar system. It contains:
\u2022 Planets (glowing) - hold crystals and structures
\u2022 Space Stations (in circles) - hold human population
\u2022 Space Routes (lines) - connect stations to planets

Planet 1 has 3 crystals. Planets 2, 3, 4, and 5 each have 6 crystals.
Notice the two space stations orbiting Planet 1.

Let's learn about resources next.`,highlightTargets:["all-planets","all-stations"],requiresContinueButton:!0,continueButtonText:"Continue"},{stepNumber:2,title:"Your First Action - Enslaved Labour",instruction:`Each turn, you choose ONE action. Let's start with Enslaved Labour.

Enslaved Labour generates crystals on planets based on their mining value.

\u26A0\uFE0F This action increases Unrest by 1. High unrest can lead to rebellion.

Click the Enslaved Labour button.`,highlightTargets:["enslaved-labour-button","resource-tracks-unrest"],requiresContinueButton:!1,continueButtonText:"",validateAction:e=>e.type===X.ENSLAVED_LABOUR},{stepNumber:3,title:"Understanding Mining Values",instruction:`Good! Notice what happened:
\u2022 Planets 2, 3, 4, 5 each gained 3 crystal (mining value 3)
\u2022 Planet 1 gained 0 crystals (mining value 0)
\u2022 Unrest increased to 2

Now: Planet 1 has 3 crystals, the others have 9 crystals.

Mining values are indicated by the planet's appearance (see legend).

Click "Continue" when ready.`,highlightTargets:["all-planets","legend-mining-values","resource-tracks-unrest"],requiresContinueButton:!0,continueButtonText:"Continue"},{stepNumber:4,title:"Building Structures - Construction",instruction:`To achieve Equilibrium, you need to balance crystals across planets.
Structures help you manipulate resources:
\u2022 Warhead Factories: Generate warheads (for controlling rebellion)
\u2022 Hydroponic Farms: Enable population growth (which redistributes crystals)

Constring a structure on an empty planet costs 1 crystal.

Let's build a Hydroponic Farm on Planet 2.
Click Planet 2, then select "Hydroponic Farm".`,highlightTargets:["planet-2"],requiresContinueButton:!1,continueButtonText:"",validateAction:e=>{if(e.type!==X.CONSTRUCTION)return!1;let i=e.payload;return i?.planetId===2&&i?.structureType===N.HYDROPONIC_FARM}},{stepNumber:5,title:"Population Growth",instruction:`Great! Planet 2 now has a Hydroponic Farm.

Population Growth consumes crystals from connected planets to increase population on a space station. This action:
\u2022 Costs 1 crystal from EACH of the two planets connected to the station
\u2022 Adds 1 population to the space station
\u2022 Adds 1 crystal to the planet the space station orbits

The action requires at least one connected planet to have a Hydroponic Farm.

The highlighted space station connects to Planets 2 and 3; the green line indicates the food supply from Planet 2.

Click the highlighted station to perform Population Growth.`,highlightTargets:["station-1","planet-2","planet-3","planet-1"],requiresContinueButton:!1,continueButtonText:"",validateAction:e=>e.type!==X.POPULATION_GROWTH?!1:e.payload?.spaceStationId===1},{stepNumber:6,title:"Understanding Loyalty",instruction:`Excellent! Notice the crystal redistribution:
\u2022 Planet 1: 4 crystals (was 3)
\u2022 Planet 2: 7 crystals (was 8)
\u2022 Planet 3: 8 crystals (was 9)
\u2022 The station you clicked: 2 population

Space station loyalty is determined by comparing population to unrest:
\u2022 LOYAL: population > unrest
\u2022 NEUTRAL: population = unrest
\u2022 REBEL: population < unrest

Currently: Unrest = 1, so one station is REBEL (1 < 2) and one is NEUTRAL (2 = 2).

Click "Continue" to learn about Rebellion.`,highlightTargets:["all-stations","resource-tracks-unrest"],requiresContinueButton:!0,continueButtonText:"Continue"},{stepNumber:7,title:"Understanding Rebellion",instruction:`Warheads are crucial for controlling rebellion!

At the end of each turn (refresh phase):
\u2022 Each Warhead Factory generates 1 warhead
\u2022 1 warhead is spent per REBEL space station
\u2022 If you don't have enough warheads, you lose 1 dominion and all warheads

Click "Continue" to proceed.`,highlightTargets:["resource-tracks-warheads","resource-tracks-unrest"],requiresContinueButton:!0,continueButtonText:"Continue"},{stepNumber:8,title:"Preserving your Dominion - Part 1",instruction:`You lose the game if dominion falls to the level of collapse OR unrest reaches dominion.

        Unrest is becoming dangerously close to your dominion. Build Warhead Factories to suppress the rebellion.

Click Planet 3, then select "Warhead Factory".`,highlightTargets:["planet-3","resource-tracks-unrest"],requiresContinueButton:!1,continueButtonText:"",validateAction:e=>{if(e.type!==X.CONSTRUCTION)return!1;let i=e.payload;return i?.planetId===3&&i?.structureType===N.WARHEAD_FACTORY}},{stepNumber:9,title:"Preserving your Dominion - Part 2",instruction:`Good! Planet 3 now has a Warhead Factory.

        You are currently producing 1 warhead per turn, which is consumed to suppress the REBEL space station.

Click Planet 4, then select "Warhead Factory".`,highlightTargets:["planet-4","resource-tracks-warheads"],requiresContinueButton:!1,continueButtonText:"",validateAction:e=>{if(e.type!==X.CONSTRUCTION)return!1;let i=e.payload;return i?.planetId===4&&i?.structureType===N.WARHEAD_FACTORY}},{stepNumber:10,title:"Food Production",instruction:`Excellent! Now you have a net income of 1 warhead per turn.
        
        Let's add a Hydroponic Farm for population growth.

Click Planet 5, then select "Hydroponic Farm".`,highlightTargets:["planet-5"],requiresContinueButton:!1,continueButtonText:"",validateAction:e=>{if(e.type!==X.CONSTRUCTION)return!1;let i=e.payload;return i?.planetId===5&&i?.structureType===N.HYDROPONIC_FARM}},{stepNumber:11,title:"Balancing Crystals - Part 1",instruction:`Good! Now we need to work toward Equilibrium (equal crystals on all planets).

Grow the highlighted space station's population.
This will consume crystals from the connected planets and place 1 crystal on the planet it orbits.

Click the highlighted space station.`,highlightTargets:["station-2","planet-4","planet-5","planet-1"],requiresContinueButton:!1,continueButtonText:"",validateAction:e=>e.type!==X.POPULATION_GROWTH?!1:e.payload?.spaceStationId===2},{stepNumber:12,title:"Balancing Crystals - Part 2",instruction:`Great! Crystals are being redistributed.

Continue growing the other space station's population.
Click the highlighted space station.`,highlightTargets:["station-1","planet-2","planet-3","planet-1"],requiresContinueButton:!1,continueButtonText:"",validateAction:e=>e.type!==X.POPULATION_GROWTH?!1:e.payload?.spaceStationId===1},{stepNumber:13,title:"Balancing Crystals - Part 3",instruction:`We're getting closer to equal crystals!

Grow the highlighted space station's population one more time.
Click the highlighted space station.`,highlightTargets:["station-2","planet-4","planet-5","planet-1"],requiresContinueButton:!1,continueButtonText:"",validateAction:e=>e.type!==X.POPULATION_GROWTH?!1:e.payload?.spaceStationId===2},{stepNumber:14,title:"Triggering the Political Phase",instruction:`Almost there! There is only one thing left to do...

Click Planet 1, then select "Hydroponic Farm".`,highlightTargets:["planet-1"],requiresContinueButton:!1,continueButtonText:"",validateAction:e=>{if(e.type!==X.CONSTRUCTION)return!1;let i=e.payload;return i?.planetId===1&&i?.structureType===N.HYDROPONIC_FARM}},{stepNumber:15,title:"The Political Phase",instruction:`Notice what just happened! The Political Phase was triggered.

There are three phases to each turn: Action phase, Political Phase and Refresh Phase. Victory conditions are only checked at Refresh Phase, so the game is not over yet.

At Political Phase, each space station where ALL 3 adjacent planets (2 connected + 1 orbited) have structures is checked for compatibility.

For each such station:
\u2022 LOYAL stations are compatible with zero or two adjacent Warhead Factories
\u2022 REBEL stations are compatible zero or two adjacent Hydroponic Farms

If incompatible, you must dismantle one structure of the offending type. This recovers 1 crystal on the planet.

Select the structures to dismantle when prompted. The tutorial will continue automatically once the political phase is complete.`,highlightTargets:["all-stations","all-planets"],requiresContinueButton:!1,continueButtonText:""},{stepNumber:16,title:"Correcting the Strategy",instruction:`Building Hydroponic Farms was clearly a mistake; there is no need to increase population further.

Let's blow up the Hydroponic Farm on Planet 1 and replace it with a Warhead Factory.
This costs 2 warheads.

Click Planet 1, then select "Warhead Factory".`,highlightTargets:["planet-1"],requiresContinueButton:!1,continueButtonText:"",validateAction:e=>{if(e.type!==X.CONSTRUCTION)return!1;let i=e.payload;return i?.planetId===1&&i?.structureType===N.WARHEAD_FACTORY}},{stepNumber:17,title:"Rebuild Security - Part 1",instruction:`Good! Now rebuild the Warhead Factory on Planet 3.

Click Planet 3, then select "Warhead Factory".`,highlightTargets:["planet-3"],requiresContinueButton:!1,continueButtonText:"",validateAction:e=>{if(e.type!==X.CONSTRUCTION)return!1;let i=e.payload;return i?.planetId===3&&i?.structureType===N.WARHEAD_FACTORY}},{stepNumber:18,title:"Reduce Unrest",instruction:`Excellent! Now let's put our warheads to use and reduce unrest.

This is achieved by bombing the space stations. This action:
\u2022 Costs 1 warhead per space station
\u2022 Removes 1 population from every space station
\u2022 Decreases unrest by 1

Click the "Exterminate" button.`,highlightTargets:["culling-button","resource-tracks-warheads","resource-tracks-unrest"],requiresContinueButton:!1,continueButtonText:"",validateAction:e=>e.type===X.CULLING},{stepNumber:19,title:"Rebuild Security - Part 2",instruction:`Good! Unrest has been reduced to 2.

Now rebuild the final Warhead Factory on Planet 4.

Click Planet 4, then select "Warhead Factory".`,highlightTargets:["planet-4"],requiresContinueButton:!1,continueButtonText:"",validateAction:e=>{if(e.type!==X.CONSTRUCTION)return!1;let i=e.payload;return i?.planetId===4&&i?.structureType===N.WARHEAD_FACTORY}},{stepNumber:20,title:"Victory - Equilibrium Achieved!",instruction:`All planets now have equal crystals. You also have at least one LOYAL station.

These are the conditions to win the game. 

Use the New Game button to choose a solar system and start a new game.

Click "Finish Tutorial" to exit.`,highlightTargets:["all-planets"],requiresContinueButton:!0,continueButtonText:"Finish Tutorial"}]}static{this.\u0275fac=function(i){return new(i||t)(k(Nn))}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ao=(()=>{class t{constructor(e,i){this.politicalPhaseService=e,this.tutorialService=i}validateTutorialAction(e){return this.tutorialService.isActive()?this.tutorialService.validateAction(e).isValid?null:{isValid:!1}:null}validateConstruction(e,i,r){let o=this.validateTutorialAction({type:X.CONSTRUCTION,timestamp:Date.now(),payload:{planetId:i,structureType:r}});if(o)return o;let s=e.topology.planets.find(l=>l.id===i);if(!s)return{isValid:!1,reason:`Invalid planet ID: ${i}`};if(r===N.NONE)return{isValid:!1,reason:"Cannot construct NONE structure"};if(s.structure!==N.NONE){if(e.warheads<2)return{isValid:!1,reason:`Insufficient warheads to replace structure (need 2, have ${e.warheads})`}}else if(s.crystals<1)return{isValid:!1,reason:"Cannot construct: planet has no crystals"};let a=this.politicalPhaseService.wouldStructureBeCertainlyRemoved(e,i,r);return a.wouldBeRemoved?{isValid:!1,reason:a.reason}:{isValid:!0}}validateCulling(e){let i=this.validateTutorialAction({type:X.CULLING,timestamp:Date.now()});if(i)return i;if(e.unrest<1)return{isValid:!1,reason:"Cannot cull: unrest cannot be reduced below zero"};if(e.topology.spaceStations.some(s=>s.population<=1))return{isValid:!1,reason:"Cannot cull: would reduce a space station to zero population"};let o=e.topology.spaceStations.length;return e.warheads<o?{isValid:!1,reason:`Insufficient warheads (need ${o})`}:{isValid:!0}}validateEnslavedLabour(e){let i=this.validateTutorialAction({type:X.ENSLAVED_LABOUR,timestamp:Date.now()});return i||{isValid:!0}}validatePopulationGrowth(e,i){let r=this.validateTutorialAction({type:X.POPULATION_GROWTH,timestamp:Date.now(),payload:{spaceStationId:i}});if(r)return r;let o=e.topology.spaceStations.find(p=>p.id===i);if(!o)return{isValid:!1,reason:`Invalid space station ID: ${i}`};let[s,a]=o.connectedPlanetIds,l=e.topology.planets.find(p=>p.id===s),c=e.topology.planets.find(p=>p.id===a);return!l||!c?{isValid:!1,reason:"Connected planets not found"}:l.crystals<1?{isValid:!1,reason:"One connected planet has insufficient crystals"}:c.crystals<1?{isValid:!1,reason:"One connected planet has insufficient crystals"}:l.structure===N.HYDROPONIC_FARM||c.structure===N.HYDROPONIC_FARM?{isValid:!0}:{isValid:!1,reason:"Neither connected planet has a Hydroponic farm"}}validateAnyPopulationGrowth(e){if(e.optionalRulesEnabled&&this.countStructures(e,N.HYDROPONIC_FARM)<3)return{isValid:!1,reason:"Optional rule: Population Growth requires at least 3 Hydroponic farms"};for(let i of e.topology.spaceStations)if(this.validatePopulationGrowth(e,i.id).isValid)return{isValid:!0};return{isValid:!1,reason:"No space station has sufficient crystals on both connected planets"}}countStructures(e,i){return e.topology.planets.filter(r=>r.structure===i).length}getValidActions(e){let i=[];return this.validateConstruction(e,1,N.WARHEAD_FACTORY).isValid&&i.push(X.CONSTRUCTION),this.validateCulling(e).isValid&&i.push(X.CULLING),this.validateEnslavedLabour(e).isValid&&i.push(X.ENSLAVED_LABOUR),this.validateAnyPopulationGrowth(e).isValid&&i.push(X.POPULATION_GROWTH),i}static{this.\u0275fac=function(i){return new(i||t)(k(et),k(tt))}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Va=(()=>{class t{constructor(e){this.politicalPhase=e}checkVictory(e){return this.getVictoryDetails(e).isVictory}checkLoss(e){return e.unrest>=e.dominion||e.dominion<=e.topology.collapse}getVictoryDetails(e){let i=this.allPlanetsHaveSameCrystals(e.topology.planets),r=this.hasAtLeastOneLoyalStation(e.topology.spaceStations,e.unrest),s={isVictory:i&&r,sameCrystals:i,hasLoyalStation:r,turnNumber:e.turnNumber,allHaveStructures:this.allPlanetsHaveStructures(e.topology.planets),notAllNeutral:this.notAllStationsNeutral(e.topology.spaceStations,e.unrest)};return i&&e.topology.planets.length>0&&(s.crystalCount=e.topology.planets[0].crystals),s}allPlanetsHaveSameCrystals(e){if(e.length===0)return!0;let i=e[0].crystals;return e.every(r=>r.crystals===i)}allPlanetsHaveStructures(e){return e.every(i=>i.structure===N.WARHEAD_FACTORY||i.structure===N.HYDROPONIC_FARM)}notAllStationsNeutral(e,i){return e.length===0?!0:!e.every(o=>this.politicalPhase.calculateLoyaltyStatus(o.population,i)===re.NEUTRAL)}hasAtLeastOneLoyalStation(e,i){return e.length===0?!1:e.some(r=>this.politicalPhase.calculateLoyaltyStatus(r.population,i)===re.LOYAL)}getStatusMessage(e){if(e.isVictory)return`Equilibrium achieved in ${e.turnNumber} turns!`;let i=[];return e.sameCrystals||i.push("All planets must have the same number of crystals"),e.hasLoyalStation||i.push("At least one space station must be loyal"),i.join(". ")}getConditionStatus(e){return{sameCrystals:this.allPlanetsHaveSameCrystals(e.topology.planets),hasLoyalStation:this.hasAtLeastOneLoyalStation(e.topology.spaceStations,e.unrest)}}static{this.\u0275fac=function(i){return new(i||t)(k(et))}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var lo=(()=>{class t{constructor(e,i,r){this.validator=e,this.winCondition=i,this.politicalPhase=r}executeConstruction(e,i,r){let o=this.validator.validateConstruction(e,i,r);if(!o.isValid)throw new Error(`Invalid construction: ${o.reason}`);let s=e.topology.planets.find(v=>v.id===i),a=s&&s.structure!==N.NONE,l=a?2:0,c=a?0:1,h={type:X.CONSTRUCTION,timestamp:Date.now(),payload:{planetId:i,structureType:r}};return A(w({},e),{topology:A(w({},e.topology),{planets:e.topology.planets.map(v=>v.id===i?A(w({},v),{structure:r,crystals:v.crystals-c}):v)}),warheads:e.warheads-l,actionHistory:[...e.actionHistory,h],currentPhase:V.POLITICAL})}executeCulling(e){let i=this.validator.validateCulling(e);if(!i.isValid)throw new Error(`Invalid culling: ${i.reason}`);let r={type:X.CULLING,timestamp:Date.now()},o=e.topology.spaceStations.length;return A(w({},e),{topology:A(w({},e.topology),{spaceStations:e.topology.spaceStations.map(a=>A(w({},a),{population:a.population-1}))}),unrest:Math.max(0,e.unrest-1),warheads:e.warheads-o,actionHistory:[...e.actionHistory,r],currentPhase:V.POLITICAL})}executeEnslavedLabour(e){let i=this.validator.validateEnslavedLabour(e);if(!i.isValid)throw new Error(`Invalid enslaved labour: ${i.reason}`);let r={type:X.ENSLAVED_LABOUR,timestamp:Date.now()},o=e.topology.planets.map(a=>{let l=a.miningValue;return A(w({},a),{crystals:a.crystals+l})});return A(w({},e),{topology:A(w({},e.topology),{planets:o}),unrest:e.unrest+1,actionHistory:[...e.actionHistory,r],currentPhase:V.POLITICAL})}executePopulationGrowth(e,i){let r=this.validator.validatePopulationGrowth(e,i);if(!r.isValid)throw new Error(`Invalid population growth: ${r.reason}`);let o=e.topology.spaceStations.find(m=>m.id===i);if(!o)throw new Error(`Invalid population growth: Station ${i} not found`);let s={type:X.POPULATION_GROWTH,timestamp:Date.now(),payload:{spaceStationId:i}},[a,l]=o.connectedPlanetIds,c=o.orbitingPlanetId,h=e.topology.planets.map(m=>m.id===a||m.id===l?A(w({},m),{crystals:m.crystals-1}):m.id===c?A(w({},m),{crystals:m.crystals+1}):m),p=e.topology.spaceStations.map(m=>m.id===i?A(w({},m),{population:m.population+1}):m);return A(w({},e),{topology:A(w({},e.topology),{planets:h,spaceStations:p}),actionHistory:[...e.actionHistory,s],currentPhase:V.POLITICAL})}executeRefreshPhase(e){let i=e.topology.planets.filter(a=>a.structure===N.WARHEAD_FACTORY).length,r=e.warheads+i,o=e.topology.spaceStations.filter(a=>a.population<e.unrest).length,s=e.dominion;return o>r?(s=e.dominion-1,r=0):(r-=o,r>e.warheads&&(r=Math.min(r,e.maxWarheads))),A(w({},e),{warheads:r,dominion:s,currentPhase:V.REFRESH})}transitionPhase(e,i){return A(w({},e),{currentPhase:i,turnNumber:i===V.PLAYER_ACTION?e.turnNumber+1:e.turnNumber})}executeAction(e,i,r){switch(i){case X.CONSTRUCTION:if(!r||!r.planetId||!r.structureType)throw new Error("Construction requires planetId and structureType");return this.executeConstruction(e,r.planetId,r.structureType);case X.CULLING:return this.executeCulling(e);case X.ENSLAVED_LABOUR:return this.executeEnslavedLabour(e);case X.POPULATION_GROWTH:if(!r||!r.spaceStationId)throw new Error("Population growth requires spaceStationId");return this.executePopulationGrowth(e,r.spaceStationId);default:throw new Error(`Unknown action type: ${i}`)}}startRefreshPhase(e){let i=this.executeRefreshPhase(e);return i=this.transitionPhase(i,V.REFRESH),i}finalizeRefreshPhase(e){let i=e;if(this.winCondition.checkLoss(i)){i=this.transitionPhase(i,V.GAME_LOST);let r=`Unrest (${i.unrest}) has reached or exceeded Dominion (${i.dominion})`;return{state:i,isGameOver:!0,isVictory:!1,message:`Game Over! ${r}`}}else if(this.winCondition.checkVictory(i)){i=this.transitionPhase(i,V.GAME_WON);let r=this.winCondition.getVictoryDetails(i);return{state:i,isGameOver:!0,isVictory:!0,message:`Equilibrium achieved in ${r.turnNumber} turns!`}}else return i=this.transitionPhase(i,V.PLAYER_ACTION),{state:i,isGameOver:!1,isVictory:!1}}completeTurn(e){let i=this.startRefreshPhase(e);return this.finalizeRefreshPhase(i)}static{this.\u0275fac=function(i){return new(i||t)(k(ao),k(Va),k(et))}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ja=(()=>{class t{constructor(){this.uiState=new de({pendingEvents:[],currentEventIndex:0,isWaitingForChoice:!1}),this.uiState$=this.uiState.asObservable()}getCurrentState(){return this.uiState.value}setPendingEvents(e){let i=e.some(r=>r.requiresPlayerChoice&&!r.chosenPlanetId);this.uiState.next({pendingEvents:e,currentEventIndex:0,isWaitingForChoice:i})}clearPendingEvents(){this.uiState.next({pendingEvents:[],currentEventIndex:0,isWaitingForChoice:!1})}getCurrentEvent(){let e=this.uiState.value;if(e.pendingEvents.length===0)return null;for(let i=0;i<e.pendingEvents.length;i++){let r=e.pendingEvents[i];if(r.requiresPlayerChoice&&!r.chosenPlanetId)return i!==e.currentEventIndex&&this.uiState.next(A(w({},e),{currentEventIndex:i})),r}return null}setPlayerChoice(e,i){let r=this.uiState.value,o=this.getCurrentEvent();if(!o)return!1;let s=i(o,e),a=[...r.pendingEvents];return a[r.currentEventIndex]=s,this.uiState.next(A(w({},r),{pendingEvents:a,isWaitingForChoice:this.hasRemainingChoices(a)})),!0}hasRemainingChoices(e){return(e||this.uiState.value.pendingEvents).some(r=>r.requiresPlayerChoice&&!r.chosenPlanetId)}allChoicesMade(){return!this.hasRemainingChoices()}findPlanetById(e,i){return i.find(r=>r.id===e)}findStationById(e,i){return i.find(r=>r.id===e)}calculateCrystalChangesFromEvents(){let e=this.uiState.value,i=new Map;return e.pendingEvents.forEach(r=>{r.chosenPlanetId&&i.set(r.chosenPlanetId,1)}),i}getPendingEvents(){return this.uiState.value.pendingEvents}isWaitingForChoice(){return this.uiState.value.isWaitingForChoice}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var N1=1500,_f=(()=>{class t{constructor(e,i,r,o,s){this.gameState=e,this.gameLogic=i,this.politicalPhase=r,this.politicalUI=o,this.tutorial=s,this.refreshPhaseTimeout=null}executeAction(e){let i=this.gameState.getCurrentState();if(!i)return{waitingForChoices:!1};i=e(i);let r=this.gameLogic.transitionPhase(i,V.POLITICAL);if(this.politicalPhase.shouldExecutePoliticalPhase(r)){let o=this.politicalPhase.executePoliticalPhase(r);if(this.politicalPhase.getEventsRequiringChoice(o).length>0)return this.politicalUI.setPendingEvents(o),this.gameState.updateState(r),{waitingForChoices:!0};r=this.politicalPhase.applyPoliticalEvents(r,o)}return this.completeTurnWithRefreshDelay(r),{waitingForChoices:!1}}handlePoliticalChoice(e){let i=this.gameState.getCurrentState();if(!i)return;let r=this.politicalPhase.executePoliticalPhase(i);this.politicalPhase.getEventsRequiringChoice(r).length>0?this.politicalUI.setPendingEvents(r):this.completePoliticalPhaseAfterChoices(i)}completePoliticalPhaseAfterChoices(e){this.politicalUI.clearPendingEvents(),this.completeTurnWithRefreshDelay(e)}completeTurnWithRefreshDelay(e){this.refreshPhaseTimeout!==null&&clearTimeout(this.refreshPhaseTimeout);let i=this.gameLogic.startRefreshPhase(e);this.gameState.updateState(i),this.refreshPhaseTimeout=window.setTimeout(()=>{let r=this.gameLogic.finalizeRefreshPhase(i);this.gameState.updateState(r.state),this.refreshPhaseTimeout=null,r.state.currentPhase===V.PLAYER_ACTION&&this.tutorial.notifyPhaseChangeToAction()},N1)}cleanup(){this.refreshPhaseTimeout!==null&&(clearTimeout(this.refreshPhaseTimeout),this.refreshPhaseTimeout=null)}static{this.\u0275fac=function(i){return new(i||t)(k(ht),k(lo),k(et),k(ja),k(tt))}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Cf=(()=>{class t{constructor(){this.notifications$=new de([]),this.nextId=1,this.notifications=this.notifications$.asObservable()}showError(e,i=3e3){this.addNotification({message:e,type:"error",duration:i})}showWarning(e,i=3e3){this.addNotification({message:e,type:"warning",duration:i})}showInfo(e,i=2e3){this.addNotification({message:e,type:"info",duration:i})}removeNotification(e){this.notifications$.next(this.notifications$.value.filter(i=>i.id!==e))}addNotification(e){let i=this.nextId++,r=A(w({},e),{id:i});this.notifications$.next([...this.notifications$.value,r]),setTimeout(()=>this.removeNotification(i),e.duration)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var bf={centerX:450,centerY:380,planetRadius:200,stationOffset:57.5,planetSize:40},P0=(()=>{class t{constructor(e){this.politicalPhase=e}calculatePositions(e,i,r,o=bf){let s=this.calculatePlanetPositions(e,o),a=this.calculateStationPositions(i,s,r,o);return{planets:s,stations:a}}calculatePlanetPositions(e,i){let r=e.length;return e.map((o,s)=>{let a=s/r*2*Math.PI-Math.PI/2;return A(w({},o),{x:i.centerX+Math.cos(a)*(i.planetRadius+o.miningValue*10),y:i.centerY+Math.sin(a)*(i.planetRadius+o.miningValue*10)})})}calculateStationPositions(e,i,r,o){let s=this.groupStationsByPlanet(e);return e.map(a=>{let l=i.find(p=>p.id===a.orbitingPlanetId);if(!l)return A(w({},a),{x:0,y:0,loyalty:re.NEUTRAL});let c=this.calculateStationPosition(a,l,s.get(a.orbitingPlanetId)||[],o),h=this.politicalPhase.calculateLoyaltyStatus(a.population,r);return A(w(w({},a),c),{loyalty:h})})}groupStationsByPlanet(e){let i=new Map;return e.forEach(r=>{let o=i.get(r.orbitingPlanetId)||[];o.push(r),i.set(r.orbitingPlanetId,o)}),i}calculateStationPosition(e,i,r,o){let s=r.findIndex(h=>h.id===e.id),a=r.length,l=Math.atan2(-i.y+o.centerY,-i.x+o.centerX),c;if(a===1)c=l;else{let h=Math.PI/a;c=l+(s-(a+1)/4)*h}return{x:i.x+Math.cos(c)*o.stationOffset,y:i.y+Math.sin(c)*o.stationOffset}}getStationConnectionsPath(e,i){let[r,o]=e.connectedPlanetIds,s=i.find(l=>l.id===r),a=i.find(l=>l.id===o);return!s||!a?"":`M ${e.x} ${e.y} L ${s.x} ${s.y} M ${e.x} ${e.y} L ${a.x} ${a.y}`}getOrbitLinePath(e,i){let r=i.find(o=>o.id===e.orbitingPlanetId);return r?`M ${e.x} ${e.y} L ${r.x} ${r.y}`:""}getLoyaltyColor(e){switch(e){case re.LOYAL:return"#10b981";case re.REBEL:return"#ef4444";case re.NEUTRAL:return"#64748b";default:return"#fff"}}getLoyaltyGradientId(e){switch(e){case re.LOYAL:return"url(#stationLoyalGradient)";case re.REBEL:return"url(#stationRebelGradient)";case re.NEUTRAL:return"url(#stationNeutralGradient)";default:return"url(#stationNeutralGradient)"}}static{this.\u0275fac=function(i){return new(i||t)(k(et))}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var k1=["app-planet-renderer",""];function F1(t,n){if(t&1&&(M(),y(0,"circle",8)),t&2){let e=_();D("cx",e.planet.x)("cy",e.planet.y+40)}}function L1(t,n){if(t&1&&(M(),u(0,"text",9),d(1),f()),t&2){let e=_();D("x",e.planet.x)("y",e.planet.y+45),g(),ce(" ",e.planet.id," ")}}function V1(t,n){if(t&1){let e=le();M(),u(0,"image",10),T("click",function(r){F(e);let o=_();return L(o.onPlanetClick(r))}),f()}if(t&2){let e=_();Ue("cursor",e.canConstruct?"pointer":"default"),D("x",e.planet.x-12)("y",e.planet.y+11)}}function j1(t,n){if(t&1){let e=le();M(),u(0,"image",11),T("click",function(r){F(e);let o=_();return L(o.onPlanetClick(r))}),f()}if(t&2){let e=_();Ue("cursor",e.canConstruct?"pointer":"default"),D("x",e.planet.x-12)("y",e.planet.y+11)}}function $1(t,n){if(t&1&&(M(),u(0,"g",12),y(1,"circle",13),u(2,"text",14),d(3),f()()),t&2){let e=_();g(),D("cx",e.planet.x+32)("cy",e.planet.y-32)("fill",e.getPreviewFillColor()),g(),D("x",e.planet.x+32)("y",e.planet.y-28),g(),ce(" ",e.previewChange," ")}}var A0=(()=>{class t{constructor(){this.canConstruct=!1,this.isAffected=!1,this.previewChange="",this.showPreview=!1,this.tutorialMode=!1,this.planetClick=new ge,this.StructureType=N}getPlanetImage(e){return e==null||e>7?"assets/planet.png":`assets/planet${e}.png`}onPlanetClick(e){this.planetClick.emit({planetId:this.planet.id,event:e})}getPreviewFillColor(){return this.previewChange.startsWith("+")?"#10b981":this.previewChange.startsWith("-")?"#ef4444":"#94a3b8"}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=fe({type:t,selectors:[["","app-planet-renderer",""]],inputs:{planet:"planet",canConstruct:"canConstruct",isAffected:"isAffected",previewChange:"previewChange",showPreview:"showPreview",tutorialMode:"tutorialMode"},outputs:{planetClick:"planetClick"},standalone:!0,features:[he],attrs:k1,decls:9,vars:17,consts:[["width","80","height","80","aria-hidden","true",1,"planet-image",3,"click"],["r","14","fill","rgba(251, 191, 36, 0.9)","stroke","rgba(15, 23, 42, 0.8)","stroke-width","2","class","planet-number-badge",4,"ngIf"],["text-anchor","middle","class","planet-number","fill","#0f172a","font-weight","bold","font-size","14",4,"ngIf"],["text-anchor","middle",1,"crystal-count"],["width","24","height","24","rx","3","fill","rgba(100, 116, 139, 0.3)","stroke","rgba(100, 116, 139, 0.6)","stroke-width","1",1,"structure-slot",3,"click"],["width","24","height","24","href","assets/warheadfactory.png","class","structure-icon-planet",3,"cursor","click",4,"ngIf"],["width","24","height","24","href","assets/hydroponicfarm.png","class","structure-icon-planet",3,"cursor","click",4,"ngIf"],["class","preview-indicator",4,"ngIf"],["r","14","fill","rgba(251, 191, 36, 0.9)","stroke","rgba(15, 23, 42, 0.8)","stroke-width","2",1,"planet-number-badge"],["text-anchor","middle","fill","#0f172a","font-weight","bold","font-size","14",1,"planet-number"],["width","24","height","24","href","assets/warheadfactory.png",1,"structure-icon-planet",3,"click"],["width","24","height","24","href","assets/hydroponicfarm.png",1,"structure-icon-planet",3,"click"],[1,"preview-indicator"],["r","12",1,"preview-badge"],["text-anchor","middle",1,"preview-text"]],template:function(i,r){i&1&&(M(),u(0,"image",0),T("click",function(s){return r.onPlanetClick(s)}),f(),I(1,F1,1,2,"circle",1)(2,L1,2,3,"text",2),u(3,"text",3),d(4),f(),u(5,"rect",4),T("click",function(s){return r.onPlanetClick(s)}),f(),I(6,V1,1,4,"image",5)(7,j1,1,4,"image",6)(8,$1,4,6,"g",7)),i&2&&(Ue("cursor",r.canConstruct?"pointer":"default"),D("x",r.planet.x-40)("y",r.planet.y-40)("href",r.getPlanetImage(r.planet.miningValue)),g(),b("ngIf",r.tutorialMode),g(),b("ngIf",r.tutorialMode),g(),D("x",r.planet.x)("y",r.planet.y-25),g(),ce(" \u{1F48E}",r.planet.crystals," "),g(),Ue("cursor",r.canConstruct?"pointer":"default"),D("x",r.planet.x-12)("y",r.planet.y+11),g(),b("ngIf",r.planet.structure===r.StructureType.WARHEAD_FACTORY),g(),b("ngIf",r.planet.structure===r.StructureType.HYDROPONIC_FARM),g(),b("ngIf",r.showPreview))},dependencies:[ve,Se],styles:[`.planet{transition:transform .2s ease}.planet.affected{filter:brightness(1.2)}.planet:hover{filter:brightness(1.1)}.planet-image{filter:drop-shadow(2px 2px 4px rgba(0,0,0,.5));transition:filter .2s ease}.crystal-count{font-size:16px;font-weight:700;fill:#fbbf24;text-shadow:1px 1px 2px rgba(0,0,0,.8);pointer-events:none}.structure-slot{transition:all .2s ease}.structure-icon-planet{filter:drop-shadow(1px 1px 2px rgba(0,0,0,.6));transition:filter .2s ease}.preview-indicator{animation:pulse 1s ease-in-out infinite}.preview-badge{filter:drop-shadow(0 0 4px currentColor)}.preview-text{font-size:12px;font-weight:700;fill:#fff;pointer-events:none}@keyframes pulse{0%,to{opacity:1}50%{opacity:.7}}
`],encapsulation:2})}}return t})();var B1=["app-station-renderer",""];function H1(t,n){if(t&1&&(M(),y(0,"circle",6)),t&2){let e=_();D("cx",e.station.x)("cy",e.station.y)}}function U1(t,n){if(t&1&&(M(),y(0,"circle",7)),t&2){let e=_();D("cx",e.station.x)("cy",e.station.y)}}function G1(t,n){if(t&1&&(M(),u(0,"g",8),y(1,"circle",9),u(2,"text",10),d(3," +1 "),f()()),t&2){let e=_();g(),D("cx",e.station.x+18)("cy",e.station.y-18),g(),D("x",e.station.x+18)("y",e.station.y-14)}}var O0=(()=>{class t{constructor(){this.canGrow=!1,this.isHovered=!1,this.showPreview=!1,this.showPoliticalWarning=!1,this.tutorialHighlight=!1,this.stationClick=new ge,this.LoyaltyStatus=re}getStationImage(){switch(this.station.loyalty){case re.LOYAL:case"LOYAL":return"assets/loyalstation.png";case re.REBEL:case"REBEL":return"assets/rebelstation.png";default:return"assets/neutralstation.png"}}getLoyaltyLabel(){switch(this.station.loyalty){case re.LOYAL:case"LOYAL":return"loyal";case re.REBEL:case"REBEL":return"rebel";default:return"neutral"}}handleClick(){this.canGrow&&this.stationClick.emit(this.station)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=fe({type:t,selectors:[["","app-station-renderer",""]],inputs:{station:"station",canGrow:"canGrow",isHovered:"isHovered",showPreview:"showPreview",showPoliticalWarning:"showPoliticalWarning",tutorialHighlight:"tutorialHighlight"},outputs:{stationClick:"stationClick"},standalone:!0,features:[he],attrs:B1,decls:7,vars:19,consts:[["r","20","fill","none","stroke","#fbbf24","stroke-width","2","class","political-warning-ring",4,"ngIf"],["r","25","fill","none","stroke","#fbbf24","stroke-width","3","class","tutorial-highlight-ring",4,"ngIf"],["width","30","height","30","aria-hidden","true",1,"station-image",3,"click"],["r","8","fill","rgba(30, 41, 59, 0.85)","stroke","rgba(251, 191, 36, 0.6)","stroke-width",".5",1,"population-background",3,"click"],["text-anchor","middle","fill","#ffffff","font-weight","bold","font-size","12",1,"population-count",2,"pointer-events","none"],["class","preview-indicator","style","pointer-events: none",4,"ngIf"],["r","20","fill","none","stroke","#fbbf24","stroke-width","2",1,"political-warning-ring"],["r","25","fill","none","stroke","#fbbf24","stroke-width","3",1,"tutorial-highlight-ring"],[1,"preview-indicator",2,"pointer-events","none"],["r","10","fill","#10b981",1,"preview-badge"],["text-anchor","middle",1,"preview-text-small"]],template:function(i,r){i&1&&(I(0,H1,1,2,"circle",0)(1,U1,1,2,"circle",1),M(),u(2,"image",2),T("click",function(){return r.handleClick()}),f(),u(3,"circle",3),T("click",function(){return r.handleClick()}),f(),u(4,"text",4),d(5),f(),I(6,G1,4,4,"g",5)),i&2&&(b("ngIf",r.showPoliticalWarning),g(),b("ngIf",r.tutorialHighlight),g(),Ue("cursor",r.canGrow?"pointer":"default")("pointer-events","all"),D("x",r.station.x-15)("y",r.station.y-15)("href",r.getStationImage()),g(),Ue("cursor",r.canGrow?"pointer":"default")("pointer-events","all"),D("cx",r.station.x)("cy",r.station.y+3),g(),D("x",r.station.x)("y",r.station.y+7),g(),ce(" \u{1F464}",r.station.population," "),g(),b("ngIf",r.showPreview))},dependencies:[ve,Se],styles:[`.station{transition:transform .2s ease}.station.clickable{cursor:pointer}.station.clickable:hover{filter:brightness(1.2)}.political-warning-ring{animation:pulse-ring 2s ease-in-out infinite}.tutorial-highlight-ring{animation:tutorial-pulse-ring 2s ease-in-out infinite;filter:drop-shadow(0 0 8px rgba(251,191,36,.8))}.station-image{filter:drop-shadow(1px 1px 3px rgba(0,0,0,.6));transition:filter .2s ease}.population-background{transition:all .2s ease}.population-count{pointer-events:none;text-shadow:1px 1px 2px rgba(0,0,0,.8)}.preview-indicator{animation:pulse 1s ease-in-out infinite}.preview-badge{filter:drop-shadow(0 0 4px currentColor)}.preview-text-small{font-size:10px;font-weight:700;fill:#fff;pointer-events:none}.validation-tooltip{pointer-events:none;animation:fadeIn .2s ease-in}.validation-text{pointer-events:none}@keyframes pulse{0%,to{opacity:1}50%{opacity:.7}}@keyframes pulse-ring{0%,to{opacity:.6;transform:scale(1)}50%{opacity:1;transform:scale(1.1)}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes tutorial-pulse-ring{0%,to{opacity:1;stroke-width:3}50%{opacity:.6;stroke-width:4}}
`],encapsulation:2})}}return t})();var $a=(()=>{class t{constructor(e,i,r){this.el=e,this.renderer=i,this.tutorialService=r,this.destroy$=new we,this.isHighlighted=!1}ngOnInit(){this.tutorialService.highlights$.pipe(De(this.destroy$)).subscribe(e=>{let i=this.shouldHighlight(e);i&&!this.isHighlighted?this.addHighlight():!i&&this.isHighlighted&&this.removeHighlight()})}ngOnDestroy(){this.removeHighlight(),this.destroy$.next(),this.destroy$.complete()}shouldHighlight(e){return e.length===0?!1:!!(e.includes(this.targetId)||e.includes("all-planets")&&this.targetId.startsWith("planet-")||e.includes("all-stations")&&this.targetId.startsWith("station-"))}addHighlight(){this.isHighlighted=!0;let e=this.el.nativeElement;this.renderer.addClass(e,"tutorial-highlight"),this.renderer.setStyle(e,"filter","drop-shadow(0 0 8px rgba(251, 191, 36, 1)) drop-shadow(0 0 16px rgba(251, 191, 36, 0.8)) drop-shadow(0 0 24px rgba(251, 191, 36, 0.6))"),this.renderer.setStyle(e,"animation","tutorial-pulse 2s infinite"),this.renderer.setStyle(e,"pointer-events","auto"),this.renderer.setStyle(e,"z-index","9998")}removeHighlight(){this.isHighlighted=!1;let e=this.el.nativeElement;this.renderer.removeClass(e,"tutorial-highlight"),this.renderer.removeStyle(e,"filter"),this.renderer.removeStyle(e,"animation"),this.renderer.removeStyle(e,"z-index")}static{this.\u0275fac=function(i){return new(i||t)(P(at),P(an),P(tt))}}static{this.\u0275dir=Ze({type:t,selectors:[["","appTutorialHighlight",""]],inputs:{targetId:[We.None,"appTutorialHighlight","targetId"]},standalone:!0})}}return t})();var z1=["app-resource-tracks",""],W1=(t,n)=>({"warhead-current-value":t,"warhead-current-value-critical":n});function q1(t,n){if(t&1&&(M(),u(0,"tspan",14),d(1),f()),t&2){let e=_();g(),ce("+",e.warheadDelta,"")}}function Y1(t,n){t&1&&(M(),u(0,"tspan"),d(1,"0"),f())}function Q1(t,n){if(t&1&&(M(),u(0,"tspan",15),d(1),f()),t&2){let e=_();g(),Pe(e.warheadDelta)}}function K1(t,n){if(t&1&&(M(),u(0,"text",20),d(1),f()),t&2){let e=_().$implicit;D("x",10+e*20),g(),ce(" ",e," ")}}function Z1(t,n){if(t&1&&(M(),u(0,"text",20),d(1),f()),t&2){let e=_().$implicit,i=_();D("x",10+e*20),g(),ce(" ",i.dominion," ")}}function X1(t,n){if(t&1&&(M(),y(0,"image",21)),t&2){let e=_().$implicit;D("x",e*20)("y",40)}}function J1(t,n){if(t&1&&(M(),u(0,"g",16),y(1,"circle",17),I(2,K1,2,2,"text",18)(3,Z1,2,2,"text",18)(4,X1,1,2,"image",19),f()),t&2){let e=n.$implicit,i=_();g(),xe("current-unrest",e<=i.unrest),D("cx",10+e*20)("fill",e<=i.unrest?"#ef4444":"rgba(200, 16, 239, 0.3)")("stroke",e<=i.unrest?"#fbbf24":"#64748b")("stroke-width",e<=i.unrest?"2":"1"),g(),b("ngIf",e===i.unrest),g(),b("ngIf",e===i.getPositionOfDominionToken()),g(),b("ngIf",e===i.collapse)}}function eM(t,n){if(t&1&&(M(),u(0,"g"),y(1,"circle",22),f()),t&2){let e=_();g(),D("cx",10+e.collapse*20)}}var N0=(()=>{class t{constructor(){this.unrest=0,this.dominion=20,this.collapse=3,this.warheads=0,this.maxWarheads=15,this.warheadDelta=0}getUnrestTrackPositions(){let e=[];for(let i=0;i<=this.dominion;i++)e.push(i);return e}getPositionOfDominionToken(){return Math.min(this.dominion,20)}isWarheadCritical(){return this.warheads+this.warheadDelta<0}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=fe({type:t,selectors:[["g","app-resource-tracks",""]],inputs:{unrest:"unrest",dominion:"dominion",collapse:"collapse",warheads:"warheads",maxWarheads:"maxWarheads",warheadDelta:"warheadDelta"},standalone:!0,features:[he],attrs:z1,decls:21,vars:12,consts:[["appTutorialHighlight","resource-tracks-warheads","transform","translate(20, 20)",1,"unrest-track"],["x","0","y","-10","width","48","href","assets/warhead.png"],["x","60","y","0",1,"unrest-title"],["x","60","y","40","text-anchor","left",3,"ngClass"],[1,"warhead-maximum-value"],[1,"warhead-delta"],["fill","#10f010",4,"ngIf"],[4,"ngIf"],["fill","#f01010",4,"ngIf"],["appTutorialHighlight","resource-tracks-unrest","transform","translate(470, 20)",1,"unrest-track"],["x","-35","y","-10","width","32","href","assets/unrest.png"],["y","0","width","32","href","assets/dominion.png"],["x","0","y","0",1,"unrest-title"],["class","unrest-marker",4,"ngFor","ngForOf"],["fill","#10f010"],["fill","#f01010"],[1,"unrest-marker"],["cy","30","r","6"],["y","55","text-anchor","middle","class","unrest-current-value",4,"ngIf"],["width","24","href","assets/collapse.png",4,"ngIf"],["y","55","text-anchor","middle",1,"unrest-current-value"],["width","24","href","assets/collapse.png"],["cy","30","r","9","fill","none","stroke","#dc2626","stroke-width","3","opacity","0.8"]],template:function(i,r){i&1&&(M(),u(0,"g",0),y(1,"image",1),u(2,"text",2),d(3,"Warheads"),f(),u(4,"text",3),d(5),u(6,"tspan",4),d(7),f(),u(8,"tspan",5),d(9," ("),I(10,q1,2,1,"tspan",6)(11,Y1,2,0,"tspan",7)(12,Q1,2,1,"tspan",8),d(13,") "),f()()(),u(14,"g",9),y(15,"image",10)(16,"image",11),u(17,"text",12),d(18,"Unrest/Dominion"),f(),I(19,J1,5,9,"g",13)(20,eM,2,1,"g",7),f()),i&2&&(g(4),b("ngClass",Hs(9,W1,!r.isWarheadCritical(),r.isWarheadCritical())),g(),ce(" ",r.warheads,""),g(2),ce("/",r.maxWarheads,""),g(3),b("ngIf",r.warheadDelta>0),g(),b("ngIf",r.warheadDelta===0),g(),b("ngIf",r.warheadDelta<0),g(4),D("x",20*r.getUnrestTrackPositions().length),g(3),b("ngForOf",r.getUnrestTrackPositions()),g(),b("ngIf",r.collapse>=0&&r.collapse<=15))},dependencies:[ve,Ys,Ut,Se,$a],styles:[`.unrest-track .unrest-title{font-size:16px;font-weight:700;fill:#fbbf24;text-shadow:1px 1px 2px rgba(0,0,0,.8)}.unrest-track .unrest-marker circle{transition:all .3s ease}.unrest-track .unrest-marker circle.current-unrest{filter:drop-shadow(0 0 4px #fbbf24)}.unrest-track .unrest-current-value{font-size:14px;font-weight:700;fill:#fbbf24;text-shadow:1px 1px 2px rgba(0,0,0,.8)}.warhead-current-value{font-size:20px;font-weight:700;fill:#10b981;text-shadow:1px 1px 2px rgba(0,0,0,.8)}.warhead-current-value-critical{font-size:20px;font-weight:700;fill:#ef4444;text-shadow:1px 1px 2px rgba(0,0,0,.8);animation:blink 1s ease-in-out infinite}.warhead-maximum-value{font-size:14px;fill:#94a3b8}.warhead-delta{font-size:14px;font-weight:400}@keyframes blink{0%,to{opacity:1}50%{opacity:.5}}
`],encapsulation:2,changeDetection:0})}}return t})();var tM=["app-construction-selector",""],nM=(t,n)=>({bgX:t,bgY:n});function iM(t,n){if(t&1&&(M(),u(0,"g"),y(1,"line",5)(2,"line",5),f()),t&2){let e=_(2).ngIf;g(),D("x1",e.bgX+8)("y1",e.bgY+7)("x2",e.bgX+42)("y2",e.bgY+40),g(),D("x1",e.bgX+42)("y1",e.bgY+7)("x2",e.bgX+8)("y2",e.bgY+40)}}function rM(t,n){if(t&1){let e=le();M(),u(0,"g",2),T("click",function(){F(e);let r=_(3);return L(r.onSelectStructure(r.StructureType.WARHEAD_FACTORY))}),y(1,"rect",3)(2,"image",4),I(3,iM,3,8,"g",0),f()}if(t&2){let e=_().ngIf,i=_(2);xe("structure-option",i.canBuildFactory)("structure-option-blocked",!i.canBuildFactory),g(),D("x",e.bgX+3)("y",e.bgY+2)("fill",i.canBuildFactory?"rgba(139, 92, 246, 0.2)":"rgba(100, 116, 139, 0.2)")("stroke",i.canBuildFactory?"#a78bfa":"#ef4444"),g(),D("x",e.bgX+5)("y",e.bgY+4)("opacity",i.canBuildFactory?"1":"0.4"),g(),b("ngIf",!i.canBuildFactory)}}function oM(t,n){if(t&1&&(M(),u(0,"g"),y(1,"line",5)(2,"line",5),f()),t&2){let e=_(2).ngIf;g(),D("x1",e.bgX+58)("y1",e.bgY+7)("x2",e.bgX+92)("y2",e.bgY+40),g(),D("x1",e.bgX+92)("y1",e.bgY+7)("x2",e.bgX+58)("y2",e.bgY+40)}}function sM(t,n){if(t&1){let e=le();M(),u(0,"g",2),T("click",function(){F(e);let r=_(3);return L(r.onSelectStructure(r.StructureType.HYDROPONIC_FARM))}),y(1,"rect",3)(2,"image",6),I(3,oM,3,8,"g",0),f()}if(t&2){let e=_().ngIf,i=_(2);xe("structure-option",i.canBuildFarm)("structure-option-blocked",!i.canBuildFarm),g(),D("x",e.bgX+53)("y",e.bgY+2)("fill",i.canBuildFarm?"rgba(139, 92, 246, 0.2)":"rgba(100, 116, 139, 0.2)")("stroke",i.canBuildFarm?"#a78bfa":"#ef4444"),g(),D("x",e.bgX+55)("y",e.bgY+4)("opacity",i.canBuildFarm?"1":"0.4"),g(),b("ngIf",!i.canBuildFarm)}}function aM(t,n){if(t&1&&(Ce(0),I(1,rM,4,12,"g",1)(2,sM,4,12,"g",1),be()),t&2){let e=_(2);g(),b("ngIf",e.planet.structure!==e.StructureType.WARHEAD_FACTORY),g(),b("ngIf",e.planet.structure!==e.StructureType.HYDROPONIC_FARM)}}function lM(t,n){if(t&1&&(Ce(0),I(1,aM,3,2,"ng-container",0),be()),t&2){let e=_();g(),b("ngIf",Hs(1,nM,e.getBackgroundX(),e.getBackgroundY()))}}var R0=(()=>{class t{constructor(){this.selectedPlanetId=null,this.canBuildFactory=!1,this.canBuildFarm=!1,this.structureSelected=new ge,this.StructureType=N}isVisible(){return this.selectedPlanetId===this.planet.id}onSelectStructure(e){(e===N.WARHEAD_FACTORY?this.canBuildFactory:this.canBuildFarm)&&this.structureSelected.emit({planetId:this.planet.id,structureType:e})}getBackgroundX(){return this.planet.x+45}getBackgroundY(){return this.planet.y-25}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=fe({type:t,selectors:[["","app-construction-selector",""]],inputs:{planet:"planet",selectedPlanetId:"selectedPlanetId",canBuildFactory:"canBuildFactory",canBuildFarm:"canBuildFarm"},outputs:{structureSelected:"structureSelected"},standalone:!0,features:[he],attrs:tM,decls:1,vars:1,consts:[[4,"ngIf"],[3,"structure-option","structure-option-blocked","click",4,"ngIf"],[3,"click"],["width","44","height","43","stroke-width","1","rx","3",1,"structure-option-rect"],["width","40","height","40","href","assets/warheadfactory.png",1,"structure-option-icon"],["stroke","#ef4444","stroke-width","2"],["width","40","height","40","href","assets/hydroponicfarm.png",1,"structure-option-icon"]],template:function(i,r){i&1&&I(0,lM,2,4,"ng-container",0),i&2&&b("ngIf",r.isVisible())},dependencies:[ve,Se],styles:[`.structure-selector{pointer-events:all}.structure-option{cursor:pointer;transition:opacity .2s ease}.structure-option:hover .structure-option-rect{fill-opacity:.4}.structure-option:active .structure-option-rect{fill-opacity:.6}.structure-option-blocked{cursor:not-allowed}.structure-option-rect{transition:fill-opacity .2s ease}.structure-option-icon{pointer-events:none}
`],encapsulation:2,changeDetection:0})}}return t})();var cM=["app-political-event-overlay",""];function uM(t,n){if(t&1&&(Ce(0),M(),y(1,"circle",2),be()),t&2){let e=n.ngIf;g(),D("cx",e.x)("cy",e.y)}}function dM(t,n){if(t&1){let e=le();M(),Ce(0),u(1,"circle",3),T("click",function(){F(e);let r=_().$implicit,o=_(2);return L(o.onPlanetClick(r))}),f(),y(2,"circle",4),be()}if(t&2){let e=n.ngIf;g(),D("cx",e.x)("cy",e.y),g(),D("cx",e.x)("cy",e.y)}}function fM(t,n){if(t&1&&(M(),u(0,"g"),I(1,dM,3,4,"ng-container",0),f()),t&2){let e=n.$implicit,i=_(2);g(),b("ngIf",i.getPlanetById(e))}}function hM(t,n){if(t&1&&(Ce(0),I(1,uM,2,2,"ng-container",0)(2,fM,2,1,"g",1),be()),t&2){let e=_();g(),b("ngIf",e.getStationById(e.politicalEvent.stationId)),g(),b("ngForOf",e.politicalEvent.affectedPlanetIds)}}var k0=(()=>{class t{constructor(){this.politicalEvent=null,this.choiceMade=new ge}isVisible(){return this.politicalEvent!==null}getStationById(e){return this.stations.find(i=>i.id===e)}getPlanetById(e){return this.planets.find(i=>i.id===e)}onPlanetClick(e){this.choiceMade.emit(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=fe({type:t,selectors:[["","app-political-event-overlay",""]],inputs:{politicalEvent:"politicalEvent",stations:"stations",planets:"planets"},outputs:{choiceMade:"choiceMade"},standalone:!0,features:[he],attrs:cM,decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["r","25","fill","none","stroke","#ef4444","stroke-width","3",1,"political-station-highlight"],["r","50","fill","rgba(251, 191, 36, 0.1)","stroke","none",1,"political-choice-clickable",3,"click"],["r","50","fill","none","stroke","#fbbf24","stroke-width","3",1,"political-choice-highlight"]],template:function(i,r){i&1&&I(0,hM,3,2,"ng-container",0),i&2&&b("ngIf",r.isVisible()&&r.politicalEvent)},dependencies:[ve,Ut,Se],styles:[`.political-station-highlight{animation:pulse-red 1.5s ease-in-out infinite}.political-choice-highlight{animation:pulse-yellow 1.5s ease-in-out infinite}.political-choice-clickable{cursor:pointer;transition:fill-opacity .2s ease}.political-choice-clickable:hover{fill-opacity:.3}.political-choice-clickable:active{fill-opacity:.5}@keyframes pulse-red{0%,to{opacity:1}50%{opacity:.6}}@keyframes pulse-yellow{0%,to{opacity:1}50%{opacity:.5}}
`],encapsulation:2,changeDetection:0})}}return t})();var V0=(()=>{class t{constructor(){this.destroy$=new we,this.refreshAnimationState=new de({isActive:!1,dominionChange:0}),this.structureAnimationState=new de({isActive:!1,planetId:null,type:"construction"}),this.actionAnimationState=new de({isActive:!1,crystalChanges:new Map,populationChanges:new Map,warheadChange:0,unrestChange:0}),this.refreshAnimation$=this.refreshAnimationState.asObservable(),this.structureAnimation$=this.structureAnimationState.asObservable(),this.actionAnimation$=this.actionAnimationState.asObservable()}triggerRefreshAnimation(e=0,i=1500){this.refreshAnimationState.next({isActive:!0,dominionChange:e}),Di(i).pipe(De(this.destroy$)).subscribe(()=>{this.refreshAnimationState.next({isActive:!1,dominionChange:0})})}triggerConstructionAnimation(e,i=1500){this.structureAnimationState.next({isActive:!0,planetId:e,type:"construction"}),Di(i).pipe(De(this.destroy$)).subscribe(()=>{this.structureAnimationState.next({isActive:!1,planetId:null,type:"construction"})})}triggerReplacementAnimation(e,i=1500){this.structureAnimationState.next({isActive:!0,planetId:e,type:"replacement"}),Di(i).pipe(De(this.destroy$)).subscribe(()=>{this.structureAnimationState.next({isActive:!1,planetId:null,type:"replacement"})})}triggerActionAnimation(e={},i=1500){this.actionAnimationState.next({isActive:!0,crystalChanges:new Map(e.crystalChanges||[]),populationChanges:new Map(e.populationChanges||[]),warheadChange:e.warheadChange||0,unrestChange:e.unrestChange||0}),Di(i).pipe(De(this.destroy$)).subscribe(()=>{this.actionAnimationState.next({isActive:!1,crystalChanges:new Map,populationChanges:new Map,warheadChange:0,unrestChange:0})})}getCurrentState(){return{refresh:this.refreshAnimationState.value,structure:this.structureAnimationState.value,action:this.actionAnimationState.value}}isAnyAnimationActive(){let e=this.getCurrentState();return e.refresh.isActive||e.structure.isActive||e.action.isActive}cancelAll(){this.refreshAnimationState.next({isActive:!1,dominionChange:0}),this.structureAnimationState.next({isActive:!1,planetId:null,type:"construction"}),this.actionAnimationState.next({isActive:!1,crystalChanges:new Map,populationChanges:new Map,warheadChange:0,unrestChange:0})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.cancelAll()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var j0=(()=>{class t{getPlanetCrystalChange(e,i){return i?i.connectedPlanetIds.includes(e)?"-1":i.orbitingPlanetId===e?"+1":"":""}getStationPopulationChange(e,i,r){return i&&r?"+1":""}isPlanetAffected(e,i){return i?i.connectedPlanetIds.includes(e)||i.orbitingPlanetId===e:!1}getPlanetPreview(e,i){return{change:this.getPlanetCrystalChange(e,i),isAffected:this.isPlanetAffected(e,i)}}getAffectedPlanetIds(e){return e?[...e.connectedPlanetIds,e.orbitingPlanetId]:[]}getCrystalChangesMap(e){let i=new Map;return e&&(e.connectedPlanetIds.forEach(r=>{i.set(r,-1)}),i.set(e.orbitingPlanetId,1)),i}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function mM(t,n){if(t&1&&(M(),y(0,"path",88)),t&2){let e=n.$implicit,i=_().$implicit,r=_();D("d",e.path)("stroke",r.getConnectionStrokeColor(e.planet,r.hoveredStationId===i.id))("stroke-width",r.hoveredStationId===i.id?"3":"2")("stroke-dasharray",r.getConnectionStrokeDashArray(e.planet))}}function yM(t,n){if(t&1&&(M(),Ce(0),I(1,mM,1,4,"path",87),be()),t&2){let e=n.$implicit,i=_();g(),b("ngForOf",i.getStationConnections(e))}}function vM(t,n){if(t&1&&(M(),y(0,"path",89)),t&2){let e=n.$implicit,i=_();D("d",i.getOrbitLine(e))("stroke",i.hoveredStationId===e.id?"#fbbf24":void 0)("stroke-width",i.hoveredStationId===e.id?"3":"1.5")}}function _M(t,n){if(t&1){let e=le();M(),Ce(0),u(1,"g",90),T("mouseenter",function(){let r=F(e).$implicit,o=_();return L(o.onPlanetHover(r.id))})("mouseleave",function(){F(e);let r=_();return L(r.onPlanetHover(null))})("touchstart",function(){F(e);let r=_();return L(r.onPlanetTouch())})("touchend",function(){F(e);let r=_();return L(r.onPlanetTouch())})("planetClick",function(r){F(e);let o=_();return L(o.toggleStructureSelector(r.planetId,r.event))}),f(),be()}if(t&2){let e=n.$implicit,i=_();g(),xe("affected",i.isPlanetAffected(e.id)),b("appTutorialHighlight","planet-"+e.id)("planet",e)("canConstruct",i.canConstruct())("isAffected",i.isPlanetAffected(e.id))("previewChange",i.getPreviewChange(e.id))("showPreview",!!(i.hoveredStationId&&i.isPlanetAffected(e.id)))("tutorialMode",i.tutorialMode)}}function CM(t,n){if(t&1){let e=le();M(),Ce(0),u(1,"g",91),T("mouseenter",function(){let r=F(e).$implicit,o=_();return L(o.onStationHover(r.id))})("mouseleave",function(){F(e);let r=_();return L(r.onStationHover(null))})("touchstart",function(){F(e);let r=_();return L(r.onStationTouch())})("touchend",function(){F(e);let r=_();return L(r.onStationTouch())})("click",function(){let r=F(e).$implicit,o=_();return L(o.onStationClick(r))})("stationClick",function(r){F(e);let o=_();return L(o.onStationClick(r))}),f(),be()}if(t&2){let e=n.$implicit,i=_();g(),xe("clickable",i.canGrowPopulation(e)),b("appTutorialHighlight","station-"+e.id)("station",e)("canGrow",i.canGrowPopulation(e))("isHovered",i.hoveredStationId===e.id)("showPreview",i.hoveredStationId===e.id&&i.canGrowPopulation(e))("showPoliticalWarning",i.shouldShowPoliticalWarning(e))("tutorialHighlight",i.isStationHighlighted(e.id))}}function bM(t,n){if(t&1&&(M(),u(0,"g",95),y(1,"circle",96),u(2,"text",97),d(3," +1 "),f()()),t&2){let e=_().$implicit;g(),D("cx",e.x+35)("cy",e.y-10),g(),D("x",e.x+35)("y",e.y-6)}}function wM(t,n){if(t&1&&(M(),u(0,"g"),I(1,bM,4,4,"g",94),f()),t&2){let e=n.$implicit,i=_(2);g(),b("ngIf",e.structure===i.StructureType.WARHEAD_FACTORY)}}function SM(t,n){if(t&1&&(M(),u(0,"g",99),y(1,"circle",100),u(2,"text",97),d(3," -1 "),f()()),t&2){let e=_().$implicit;g(),D("cx",e.x+25)("cy",e.y-25),g(),D("x",e.x+25)("y",e.y-21)}}function EM(t,n){if(t&1&&(M(),u(0,"g"),I(1,SM,4,4,"g",98),f()),t&2){let e=n.$implicit,i=_(2);g(),b("ngIf",i.isRebelStation(e))}}function DM(t,n){if(t&1&&(M(),u(0,"g")(1,"g",101),y(2,"circle",102),u(3,"text",103),d(4),f()()()),t&2){let e=_(2);g(),b("ngClass",e.refreshAnimation.dominionChange<0?"dominion-loss":"dominion-gain"),g(3),ce(" ",e.refreshAnimation.dominionChange<0?e.refreshAnimation.dominionChange:"+"+e.refreshAnimation.dominionChange," ")}}function xM(t,n){if(t&1&&(M(),u(0,"g",92),I(1,wM,2,1,"g",37)(2,EM,2,1,"g",43)(3,DM,5,2,"g",93),f()),t&2){let e=_();g(),b("ngForOf",e.planets)("ngForTrackBy",e.trackByPlanetId),g(),b("ngForOf",e.stations),g(),b("ngIf",e.refreshAnimation.dominionChange!==0)}}function IM(t,n){if(t&1&&(M(),u(0,"g",106),y(1,"circle",100),u(2,"text",97),d(3," -2 "),f()()),t&2){let e=_().$implicit;g(),D("cx",e.x+35)("cy",e.y-10),g(),D("x",e.x+35)("y",e.y-6)}}function MM(t,n){if(t&1&&(M(),u(0,"g"),I(1,IM,4,4,"g",105),f()),t&2){let e=n.$implicit,i=_(2);g(),b("ngIf",e.id===i.structureAnimation.planetId)}}function TM(t,n){if(t&1&&(M(),u(0,"g",104),I(1,MM,2,1,"g",37),f()),t&2){let e=_();g(),b("ngForOf",e.planets)("ngForTrackBy",e.trackByPlanetId)}}function PM(t,n){if(t&1&&(M(),u(0,"g",109),y(1,"circle",110),u(2,"text",97),d(3," -1 "),f()()),t&2){let e=_().$implicit;g(),D("cx",e.x-35)("cy",e.y-10),g(),D("x",e.x-35)("y",e.y-6)}}function AM(t,n){if(t&1&&(M(),u(0,"g"),I(1,PM,4,4,"g",108),f()),t&2){let e=n.$implicit,i=_(2);g(),b("ngIf",e.id===i.structureAnimation.planetId)}}function OM(t,n){if(t&1&&(M(),u(0,"g",107),I(1,AM,2,1,"g",37),f()),t&2){let e=_();g(),b("ngForOf",e.planets)("ngForTrackBy",e.trackByPlanetId)}}function NM(t,n){if(t&1&&(M(),Ce(0),u(1,"g",101),y(2,"circle",112),u(3,"text",97),d(4),f()(),be()),t&2){let e=n.ngIf,i=_().$implicit;g(),b("ngClass",e>0?"crystal-gain":"crystal-cost"),g(),D("cx",i.x-35)("cy",i.y-10)("fill",e>0?"#10b981":"#f59e0b"),g(),D("x",i.x-35)("y",i.y-6),g(),ce(" ",e>0?"+"+e:e," ")}}function RM(t,n){if(t&1&&(M(),u(0,"g"),I(1,NM,5,7,"ng-container",93),f()),t&2){let e=n.$implicit,i=_(2);g(),b("ngIf",i.actionAnimation.crystalChanges.get(e.id))}}function kM(t,n){if(t&1&&(M(),Ce(0),u(1,"g",101),y(2,"circle",112),u(3,"text",97),d(4),f()(),be()),t&2){let e=n.ngIf,i=_().$implicit;g(),b("ngClass",e>0?"population-gain":"population-loss"),g(),D("cx",i.x+25)("cy",i.y-25)("fill",e>0?"#10b981":"#ef4444"),g(),D("x",i.x+25)("y",i.y-21),g(),ce(" ",e>0?"+"+e:e," ")}}function FM(t,n){if(t&1&&(M(),u(0,"g"),I(1,kM,5,7,"ng-container",93),f()),t&2){let e=n.$implicit,i=_(2);g(),b("ngIf",i.actionAnimation.populationChanges.get(e.id))}}function LM(t,n){if(t&1&&(M(),u(0,"g")(1,"g",101),y(2,"circle",113),u(3,"text",114),d(4),f()()()),t&2){let e=_(2);g(),b("ngClass",e.actionAnimation.warheadChange>0?"warhead-gain":"warhead-loss"),g(),D("fill",e.actionAnimation.warheadChange>0?"#10b981":"#ef4444"),g(2),ce(" ",e.actionAnimation.warheadChange>0?"+"+e.actionAnimation.warheadChange:e.actionAnimation.warheadChange," ")}}function VM(t,n){if(t&1&&(M(),u(0,"g")(1,"g",101),y(2,"circle",115),u(3,"text",116),d(4),f()()()),t&2){let e=_(2);g(),b("ngClass",e.actionAnimation.unrestChange>0?"unrest-gain":"unrest-loss"),g(),D("fill",e.actionAnimation.unrestChange>0?"#ef4444":"#10b981"),g(2),ce(" ",e.actionAnimation.unrestChange>0?"+"+e.actionAnimation.unrestChange:e.actionAnimation.unrestChange," ")}}function jM(t,n){if(t&1&&(M(),u(0,"g",111),I(1,RM,2,1,"g",37)(2,FM,2,1,"g",43)(3,LM,5,3,"g",93)(4,VM,5,3,"g",93),f()),t&2){let e=_();g(),b("ngForOf",e.planets)("ngForTrackBy",e.trackByPlanetId),g(),b("ngForOf",e.stations),g(),b("ngIf",e.actionAnimation.warheadChange!==0),g(),b("ngIf",e.actionAnimation.unrestChange!==0)}}function $M(t,n){if(t&1){let e=le();M(),u(0,"g",117),T("structureSelected",function(r){F(e);let o=_();return L(o.onStructureSelected(r))}),f()}if(t&2){let e=n.$implicit,i=_();b("planet",e)("selectedPlanetId",i.selectedPlanetForConstruction)("canBuildFactory",i.canBuildStructureType(e,i.StructureType.WARHEAD_FACTORY))("canBuildFarm",i.canBuildStructureType(e,i.StructureType.HYDROPONIC_FARM))}}function BM(t,n){t&1&&(M(),Ce(0),y(1,"rect",119),u(2,"text",120),d(3,"Remove 1 population from"),f(),u(4,"text",121),d(5,"each space station"),f(),u(6,"text",122),d(7,"Reduces Unrest by 1"),f(),u(8,"text",123),d(9,"Costs 1 warhead per space station"),f(),be())}function HM(t,n){if(t&1&&(M(),Ce(0),y(1,"rect",124),u(2,"text",125),d(3,"Cannot Exterminate"),f(),u(4,"text",126),d(5),f(),be()),t&2){let e=n.ngIf;g(5),Pe(e)}}function UM(t,n){if(t&1&&(M(),u(0,"g",118),I(1,BM,10,0,"ng-container",93)(2,HM,6,1,"ng-container",93),f()),t&2){let e=_();g(),b("ngIf",e.canExecuteCulling()),g(),b("ngIf",!e.canExecuteCulling()&&e.getCullingValidationReason())}}function GM(t,n){t&1&&(M(),u(0,"g",118),y(1,"rect",127),u(2,"text",128),d(3,"Each planet gains crystals"),f(),u(4,"text",129),d(5,"equal to mining value"),f(),u(6,"text",130),d(7,"Increases Unrest by 1"),f()())}function zM(t,n){if(t&1&&(M(),Ce(0),y(1,"rect",131),u(2,"text",132),d(3," Cannot Grow Population "),f(),u(4,"text",133),d(5),f(),be()),t&2){let e=n.ngIf,i=_().$implicit;g(),D("x",i.x-120)("y",i.y-64),g(),D("x",i.x)("y",i.y-40),g(2),D("x",i.x)("y",i.y-22),g(),ce(" ",e," ")}}function WM(t,n){if(t&1&&(M(),Ce(0),I(1,zM,6,7,"ng-container",93),be()),t&2){let e=n.$implicit,i=_(2);g(),b("ngIf",e.id===i.hoveredStationId&&!i.canGrowPopulation(e)&&i.getGrowthValidationReason(e))}}function qM(t,n){if(t&1&&(M(),u(0,"g",118),I(1,WM,2,1,"ng-container",43),f()),t&2){let e=_();g(),b("ngForOf",e.stations)}}function YM(t,n){if(t&1&&(M(),Ce(0),y(1,"rect",134),u(2,"text",133),d(3," Insufficient crystals to build "),f(),u(4,"text",133),d(5," a structure "),f(),be()),t&2){let e=_().$implicit;g(),D("x",e.x-105)("y",e.y-70),g(),D("x",e.x)("y",e.y-51),g(2),D("x",e.x)("y",e.y-37)}}function QM(t,n){if(t&1&&(M(),Ce(0),y(1,"rect",134),u(2,"text",133),d(3," Insufficient warheads to "),f(),u(4,"text",133),d(5," destroy structure "),f(),be()),t&2){let e=_().$implicit;g(),D("x",e.x-105)("y",e.y-70),g(),D("x",e.x)("y",e.y-51),g(2),D("x",e.x)("y",e.y-37)}}function KM(t,n){if(t&1&&(M(),u(0,"text",138),d(1),f()),t&2){let e=n.$implicit,i=n.index,r=_(3).$implicit;D("x",r.x)("y",r.y-58+i*14),g(),ce(" ",e," ")}}function ZM(t,n){if(t&1&&(M(),Ce(0),y(1,"rect",135),u(2,"text",136),d(3," Cannot Build Structure "),f(),I(4,KM,2,3,"text",137),be()),t&2){let e=n.ngIf,i=_(2).$implicit;g(),D("x",i.x-140)("y",i.y-95)("height",40+e.length*14),g(),D("x",i.x)("y",i.y-73),g(2),b("ngForOf",e)}}function XM(t,n){if(t&1&&(M(),Ce(0),I(1,ZM,5,6,"ng-container",93),be()),t&2){let e=n.ngIf,i=_(3);g(),b("ngIf",i.wrapText(e,50))}}function JM(t,n){if(t&1&&(M(),Ce(0),I(1,YM,6,6,"ng-container",93)(2,QM,6,6,"ng-container",93)(3,XM,2,1,"ng-container",93),be()),t&2){let e=n.$implicit,i=_(2);g(),b("ngIf",e.id===i.hoveredPlanetId&&i.shouldShowInsufficientCrystalsTooltip(e)),g(),b("ngIf",e.id===i.hoveredPlanetId&&i.shouldShowInsufficientWarheadsTooltip(e)),g(),b("ngIf",e.id===i.hoveredPlanetId&&i.shouldShowGeneralConstructionBlockedTooltip(e)&&i.getConstructionBlockedReason(e))}}function eT(t,n){if(t&1&&(M(),u(0,"g",118),I(1,JM,4,3,"ng-container",43),f()),t&2){let e=_();g(),b("ngForOf",e.planets)}}var $0=(()=>{class t{constructor(e,i,r,o,s,a,l,c,h,p,v){this.gameState=e,this.coordinator=i,this.politicalPhaseService=r,this.actionValidator=o,this.gameLogic=s,this.layoutService=a,this.animationService=l,this.previewService=c,this.politicalUIService=h,this.tutorialService=p,this.cdr=v,this.destroy$=new we,this.isTouchDevice=!1,this.planets=[],this.stations=[],this.StructureType=N,this.selectedPlanetForConstruction=null,this.hoveredStationId=null,this.hoveredPlanetId=null,this.hoveredActionButton=null,this.currentUnrest=0,this.currentWarheads=0,this.currentDominion=15,this.currentCollapse=0,this.maxWarheads=0,this.stationCount=0,this.starImage="sun.png",this.starGlowColor="rgba(251, 191, 36, 0.9)",this.tutorialMode=!1,this.tutorialHighlights=[],this.refreshAnimation={isActive:!1,dominionChange:0},this.structureAnimation={isActive:!1,planetId:null,type:"construction"},this.actionAnimation={isActive:!1,crystalChanges:new Map,populationChanges:new Map,warheadChange:0,unrestChange:0},this.layoutConfig=bf}ngOnInit(){this.isTouchDevice="ontouchstart"in window||navigator.maxTouchPoints>0,this.tutorialService.state$.pipe(De(this.destroy$)).subscribe(e=>{this.tutorialMode=e.enabled,this.cdr.markForCheck()}),this.tutorialService.highlights$.pipe(De(this.destroy$)).subscribe(e=>{this.tutorialHighlights=e,this.cdr.markForCheck()}),this.animationService.refreshAnimation$.pipe(De(this.destroy$)).subscribe(e=>{this.refreshAnimation=e,this.cdr.markForCheck()}),this.animationService.structureAnimation$.pipe(De(this.destroy$)).subscribe(e=>{this.structureAnimation=e,this.cdr.markForCheck()}),this.animationService.actionAnimation$.pipe(De(this.destroy$)).subscribe(e=>{this.actionAnimation=e,this.cdr.markForCheck()}),this.gameState.state$.pipe(De(this.destroy$)).subscribe(e=>{if(e){if(this.currentUnrest=e.unrest,this.currentWarheads=e.warheads,this.currentDominion=e.dominion,this.currentCollapse=e.topology.collapse,this.maxWarheads=e.maxWarheads,this.starImage=e.topology.starImage,this.starGlowColor=e.topology.starGlowColor,this.updatePositions(e.topology.planets,e.topology.spaceStations,e.unrest),e.currentPhase===V.PLAYER_ACTION&&this.clearHoverState(),e.currentPhase===V.POLITICAL&&!this.politicalUIService.isWaitingForChoice()&&this.politicalPhaseService.shouldExecutePoliticalPhase(e)){let i=this.politicalPhaseService.executePoliticalPhase(e);this.politicalPhaseService.getEventsRequiringChoice(i).length>0&&this.politicalUIService.setPendingEvents(i)}e.currentPhase===V.REFRESH&&!this.refreshAnimation.isActive&&this.triggerRefreshAnimation()}})}ngOnDestroy(){this.coordinator.cleanup(),this.destroy$.next(),this.destroy$.complete(),this.animationService.cancelAll()}triggerRefreshAnimation(){let e=this.gameState.getCurrentState(),i=0;if(e){let r=e.topology.planets.filter(a=>a.structure===N.WARHEAD_FACTORY).length,o=Math.min(15,e.warheads+r);e.topology.spaceStations.filter(a=>a.population<e.unrest).length>o&&(i=-1)}this.animationService.triggerRefreshAnimation(i)}triggerReplacementAnimation(e){this.animationService.triggerReplacementAnimation(e)}triggerConstructionAnimation(e){this.animationService.triggerConstructionAnimation(e)}triggerActionAnimation(e=new Map,i=new Map,r=0,o=0){this.animationService.triggerActionAnimation({crystalChanges:e,populationChanges:i,warheadChange:r,unrestChange:o})}updatePositions(e,i,r){this.stationCount=i.length;let o=this.layoutService.calculatePositions(e,i,r,this.layoutConfig);this.planets=o.planets,this.stations=o.stations,this.cdr.markForCheck()}getLoyaltyColor(e){return this.layoutService.getLoyaltyColor(e)}getOrbitLine(e){return this.layoutService.getOrbitLinePath(e,this.planets)}trackByPlanetId(e,i){return i.id}trackByStationId(e,i){return i.id}onStationClick(e){let i=this.gameState.getCurrentState();if(!i||i.currentPhase!==V.PLAYER_ACTION||!this.actionValidator.validatePopulationGrowth(i,e.id).isValid)return;let o=new Map,s=new Map;e.connectedPlanetIds.forEach(a=>{o.set(a,-1)}),o.set(e.orbitingPlanetId,1),s.set(e.id,1),this.triggerActionAnimation(o,s,0),this.clearHoverState(),this.coordinator.executeAction(a=>this.gameLogic.executePopulationGrowth(a,e.id)),this.tutorialService.notifyActionExecuted({type:X.POPULATION_GROWTH,timestamp:Date.now(),payload:{spaceStationId:e.id}})}canGrowPopulation(e){let i=this.gameState.getCurrentState();return!i||i.currentPhase!==V.PLAYER_ACTION?!1:this.actionValidator.validatePopulationGrowth(i,e.id).isValid}getGrowthValidationReason(e){let i=this.gameState.getCurrentState();if(!i||i.currentPhase!==V.PLAYER_ACTION)return;let r=this.actionValidator.validatePopulationGrowth(i,e.id);return r.isValid?void 0:r.reason}toggleStructureSelector(e,i){let r=this.gameState.getCurrentState();if(!r)return;if(i.stopPropagation(),r.currentPhase===V.POLITICAL){let s=this.getCurrentPoliticalEvent();if(s&&s.affectedPlanetIds.includes(e)){this.onPoliticalChoice(e);return}}if(r.currentPhase!==V.PLAYER_ACTION)return;let o=this.planets.find(s=>s.id===e);o&&!this.canOpenConstructionPopup(o)||(this.selectedPlanetForConstruction===e?this.selectedPlanetForConstruction=null:this.selectedPlanetForConstruction=e)}constructStructure(e,i){let r=this.gameState.getCurrentState();if(!r||r.currentPhase!==V.PLAYER_ACTION)return;let o=r.topology.planets.find(l=>l.id===e),s=o&&o.structure!==N.NONE;this.actionValidator.validateConstruction(r,e,i).isValid&&(s?this.triggerReplacementAnimation(e):this.triggerConstructionAnimation(e),this.selectedPlanetForConstruction=null,this.clearHoverState(),this.coordinator.executeAction(l=>this.gameLogic.executeConstruction(l,e,i)),this.tutorialService.notifyActionExecuted({type:X.CONSTRUCTION,timestamp:Date.now(),payload:{planetId:e,structureType:i}}))}onStructureSelected(e){this.constructStructure(e.planetId,e.structureType)}canConstruct(){let e=this.gameState.getCurrentState();return e!==null&&e.currentPhase===V.PLAYER_ACTION}closeStructureSelector(){this.selectedPlanetForConstruction=null}onStationHover(e){this.isTouchDevice||(this.hoveredStationId=e,this.cdr.detectChanges())}onStationTouch(){this.isTouchDevice=!0,this.hoveredStationId=null,this.cdr.markForCheck()}clearHoverState(){this.hoveredStationId=null,this.hoveredPlanetId=null,this.hoveredActionButton=null,this.cdr.markForCheck()}getPreviewChange(e){let i=this.getHoveredStationIfCanGrow();return this.previewService.getPlanetCrystalChange(e,i)}getPopulationPreview(e){let i=this.hoveredStationId===e.id,r=this.canGrowPopulation(e);return this.previewService.getStationPopulationChange(e,i,r)}isPlanetAffected(e){let i=this.getHoveredStationIfCanGrow();return this.previewService.isPlanetAffected(e,i)}getHoveredStationIfCanGrow(){if(!this.hoveredStationId)return null;let e=this.stations.find(i=>i.id===this.hoveredStationId);return!e||!this.canGrowPopulation(e)?null:e}executeCulling(){let e=this.gameState.getCurrentState();if(!e||e.currentPhase!==V.PLAYER_ACTION||!this.actionValidator.validateCulling(e).isValid)return;let r=new Map;e.topology.spaceStations.forEach(s=>{r.set(s.id,-1)});let o=e.topology.spaceStations.length;this.triggerActionAnimation(new Map,r,-o,-1),this.clearHoverState(),this.coordinator.executeAction(s=>this.gameLogic.executeCulling(s)),this.tutorialService.notifyActionExecuted({type:X.CULLING,timestamp:Date.now()})}executeEnslavedLabour(){let e=this.gameState.getCurrentState();if(!e||e.currentPhase!==V.PLAYER_ACTION)return;let i=new Map;e.topology.planets.forEach(r=>{r.miningValue>0&&i.set(r.id,r.miningValue)}),this.triggerActionAnimation(i,new Map,0,1),this.clearHoverState(),this.coordinator.executeAction(r=>this.gameLogic.executeEnslavedLabour(r)),this.tutorialService.notifyActionExecuted({type:X.ENSLAVED_LABOUR,timestamp:Date.now()})}canExecuteCulling(){let e=this.gameState.getCurrentState();return!e||e.currentPhase!==V.PLAYER_ACTION?!1:this.actionValidator.validateCulling(e).isValid}getCullingValidationReason(){let e=this.gameState.getCurrentState();if(!e||e.currentPhase!==V.PLAYER_ACTION)return null;let i=this.actionValidator.validateCulling(e);if(i.isValid||!i.reason)return null;let r=i.reason;return r.startsWith("Cannot cull: ")&&(r=r.substring(13)),r.charAt(0).toUpperCase()+r.slice(1)}canExecuteEnslavedLabour(){let e=this.gameState.getCurrentState();return!e||e.currentPhase!==V.PLAYER_ACTION?!1:this.actionValidator.validateEnslavedLabour(e).isValid}onActionButtonHover(e){this.isTouchDevice||(this.hoveredActionButton=e)}onActionButtonTouch(){this.isTouchDevice=!0,this.hoveredActionButton=null}onPlanetHover(e){this.isTouchDevice||(this.hoveredPlanetId=e,this.cdr.detectChanges())}onPlanetTouch(){this.isTouchDevice=!0,this.hoveredPlanetId=null,this.cdr.markForCheck()}shouldShowInsufficientCrystalsTooltip(e){let i=this.gameState.getCurrentState();return!i||i.currentPhase!==V.PLAYER_ACTION?!1:e.structure===N.NONE&&e.crystals===0}shouldShowInsufficientWarheadsTooltip(e){let i=this.gameState.getCurrentState();return!i||i.currentPhase!==V.PLAYER_ACTION?!1:e.structure!==N.NONE&&this.currentWarheads<2}shouldShowGeneralConstructionBlockedTooltip(e){let i=this.gameState.getCurrentState();return!i||i.currentPhase!==V.PLAYER_ACTION||this.shouldShowInsufficientCrystalsTooltip(e)||this.shouldShowInsufficientWarheadsTooltip(e)?!1:!this.canOpenConstructionPopup(e)&&!!this.getConstructionBlockedReason(e)}canOpenConstructionPopup(e){let i=this.gameState.getCurrentState();if(!i||i.currentPhase!==V.PLAYER_ACTION)return!1;let r=this.actionValidator.validateConstruction(i,e.id,N.WARHEAD_FACTORY).isValid,o=this.actionValidator.validateConstruction(i,e.id,N.HYDROPONIC_FARM).isValid;return e.structure===N.NONE?r||o:e.structure===N.WARHEAD_FACTORY?o:e.structure===N.HYDROPONIC_FARM?r:!1}getConstructionBlockedReason(e){let i=this.gameState.getCurrentState();if(!i)return"";let r=this.actionValidator.validateConstruction(i,e.id,N.WARHEAD_FACTORY),o=this.actionValidator.validateConstruction(i,e.id,N.HYDROPONIC_FARM);if(e.structure!==N.NONE){if(e.structure===N.WARHEAD_FACTORY&&!o.isValid&&r.isValid)return o.reason||"Cannot replace: alternative structure would be destroyed";if(e.structure===N.HYDROPONIC_FARM&&!r.isValid&&o.isValid)return r.reason||"Cannot replace: alternative structure would be destroyed"}return!r.isValid&&!o.isValid?r.reason||o.reason||"":r.isValid?o.isValid?"":o.reason||"":r.reason||""}canBuildStructureType(e,i){let r=this.gameState.getCurrentState();return!r||r.currentPhase!==V.PLAYER_ACTION?!1:this.actionValidator.validateConstruction(r,e.id,i).isValid}getStructureBlockedReason(e,i){let r=this.gameState.getCurrentState();if(!r)return"";let o=this.actionValidator.validateConstruction(r,e.id,i);return o.isValid?"":o.reason||""}getLastUnrestTrackPosition(){return Math.min(20,this.currentDominion)}getUnrestTrackPositions(){return Array.from({length:this.getLastUnrestTrackPosition()+1},(e,i)=>i)}getPositionOfDominionToken(){return Math.min(this.getLastUnrestTrackPosition(),this.currentDominion)}getWarheadsTrackPositions(){return Array.from({length:21},(e,i)=>i)}getCurrentPoliticalEvent(){return this.politicalUIService.getCurrentEvent()}onPoliticalChoice(e){if(!this.politicalUIService.getCurrentEvent()||!this.politicalUIService.setPlayerChoice(e,(a,l)=>this.politicalPhaseService.setPlayerChoice(a,l)))return;let o=this.gameState.getCurrentState();if(!o)return;let s=new Map;s.set(e,1),this.triggerActionAnimation(s,new Map,0),o=this.politicalPhaseService.destroyStructure(o,e),this.gameState.updateState(o),this.coordinator.handlePoliticalChoice(e)}getPlanetImage(e){return e==null||e>7?"assets/planet.png":`assets/planet${e}.png`}shouldShowPoliticalWarning(e){let i=this.gameState.getCurrentState();return!i||i.currentPhase===V.POLITICAL?!1:this.wouldTriggerPoliticalAction(e)}wouldTriggerPoliticalAction(e){let i=this.gameState.getCurrentState();if(!i)return!1;let r=[...e.connectedPlanetIds,e.orbitingPlanetId],o=i.topology.planets.filter(a=>r.includes(a.id));if(!o.every(a=>a.structure!==N.NONE))return!1;if(e.loyalty===re.LOYAL){let a=o.filter(l=>l.structure===N.WARHEAD_FACTORY).length;return a===1||a===3}else if(e.loyalty===re.REBEL){let a=o.filter(l=>l.structure===N.HYDROPONIC_FARM).length;return a===1||a===3}return!1}isRebelStation(e){return e.loyalty===re.REBEL}getWarheadDelta(){let e=this.stations.filter(r=>r.loyalty===re.REBEL).length;return this.planets.filter(r=>r.structure===N.WARHEAD_FACTORY).length-e}wrapText(e,i){if(!e)return[];let r=e.split(" "),o=[],s="";for(let a of r){let l=s?`${s} ${a}`:a;l.length<=i?s=l:(s&&o.push(s),s=a)}return s&&o.push(s),o}getStationConnections(e){return e.connectedPlanetIds.map(i=>{let r=this.planets.find(s=>s.id===i),o=r?`M ${e.x} ${e.y} L ${r.x} ${r.y}`:"";return{planetId:i,path:o,planet:r}})}getConnectionStrokeDashArray(e){return e&&e.crystals>=1?"":"4,4"}getConnectionStrokeColor(e,i){return e&&e.structure===N.HYDROPONIC_FARM?"#10b981":i?"#fbbf24":"#94a3b8"}isStationHighlighted(e){return this.tutorialMode?this.tutorialHighlights.includes(`station-${e}`)||this.tutorialHighlights.includes("all-stations"):!1}static{this.\u0275fac=function(i){return new(i||t)(P(ht),P(_f),P(et),P(ao),P(lo),P(P0),P(V0),P(j0),P(ja),P(tt),P(_t))}}static{this.\u0275cmp=fe({type:t,selectors:[["app-solar-system-viz"]],standalone:!0,features:[he],decls:115,vars:37,consts:[["viewBox","0 0 950 800","xmlns","http://www.w3.org/2000/svg","preserveAspectRatio","xMidYMid meet","role","application","aria-label","Solar system game board",1,"solar-system",3,"click"],["id","planetGradient","cx","35%","cy","35%"],["offset","0%",2,"stop-color","#a78bfa","stop-opacity","1"],["offset","50%",2,"stop-color","#8b5cf6","stop-opacity","1"],["offset","100%",2,"stop-color","#6d28d9","stop-opacity","1"],["id","planetGlow","cx","50%","cy","50%"],["offset","60%",2,"stop-color","#8b5cf6","stop-opacity","0"],["offset","100%",2,"stop-color","#8b5cf6","stop-opacity","0.3"],["id","affectedGlow","cx","50%","cy","50%"],["offset","50%",2,"stop-color","#fbbf24","stop-opacity","0"],["offset","100%",2,"stop-color","#fbbf24","stop-opacity","0.4"],["id","stationLoyalGradient","cx","35%","cy","35%"],["offset","0%",2,"stop-color","#34d399","stop-opacity","1"],["offset","50%",2,"stop-color","#10b981","stop-opacity","1"],["offset","100%",2,"stop-color","#059669","stop-opacity","1"],["id","stationNeutralGradient","cx","35%","cy","35%"],["offset","0%",2,"stop-color","#94a3b8","stop-opacity","1"],["offset","50%",2,"stop-color","#64748b","stop-opacity","1"],["offset","100%",2,"stop-color","#475569","stop-opacity","1"],["id","stationRebelGradient","cx","35%","cy","35%"],["offset","0%",2,"stop-color","#f87171","stop-opacity","1"],["offset","50%",2,"stop-color","#ef4444","stop-opacity","1"],["offset","100%",2,"stop-color","#dc2626","stop-opacity","1"],["id","stationShadow"],["in","SourceAlpha","stdDeviation","1.5"],["dx","1","dy","1","result","offsetblur"],["type","linear","slope","0.4"],["in","SourceGraphic"],["id","planetShadow"],["in","SourceAlpha","stdDeviation","2"],["dx","2","dy","2","result","offsetblur"],["type","linear","slope","0.5"],["id","planetTexture","patternUnits","userSpaceOnUse","width","10","height","10"],["cx","2","cy","2","r","1","fill","rgba(0,0,0,0.1)"],["cx","7","cy","7","r","1.5","fill","rgba(0,0,0,0.08)"],["cx","5","cy","9","r","0.8","fill","rgba(0,0,0,0.05)"],[1,"connections"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"orbits"],["class","orbit-line","fill","none",4,"ngFor","ngForOf","ngForTrackBy"],["width","100","height","100",1,"sun"],[1,"planets"],[1,"stations"],[4,"ngFor","ngForOf"],["class","refresh-animations",4,"ngIf"],["class","replacement-animation",4,"ngIf"],["class","construction-animation",4,"ngIf"],["class","action-animation",4,"ngIf"],["app-construction-selector","",3,"planet","selectedPlanetId","canBuildFactory","canBuildFarm","structureSelected",4,"ngFor","ngForOf","ngForTrackBy"],["app-resource-tracks","","appTutorialHighlight","resource-tracks",3,"unrest","dominion","collapse","warheads","maxWarheads","warheadDelta"],["appTutorialHighlight","legend-mining-values","transform","translate(0, 550)",1,"legend"],["x","0","y","0",1,"legend-title"],["x","2","y","12","width","18","height","18","href","assets/planet0.png"],["x","25","y","25",1,"legend-text"],["x","50","y","12","width","18","height","18","href","assets/planet1.png"],["x","73","y","25",1,"legend-text"],["x","98","y","12","width","18","height","18","href","assets/planet2.png"],["x","121","y","25",1,"legend-text"],["x","146","y","12","width","18","height","18","href","assets/planet3.png"],["x","169","y","25",1,"legend-text"],["x","2","y","37","width","18","height","18","href","assets/planet4.png"],["x","25","y","50",1,"legend-text"],["x","50","y","37","width","18","height","18","href","assets/planet5.png"],["x","73","y","50",1,"legend-text"],["x","98","y","37","width","18","height","18","href","assets/planet6.png"],["x","121","y","50",1,"legend-text"],["x","146","y","37","width","18","height","18","href","assets/planet7.png"],["x","169","y","50",1,"legend-text"],["x","0","y","75",1,"legend-title"],["x","2","y","87","width","18","height","18","href","assets/loyalstation.png"],["x","25","y","100",1,"legend-text"],["x","2","y","107","width","18","height","18","href","assets/neutralstation.png"],["x","25","y","120",1,"legend-text"],["x","2","y","127","width","18","height","18","href","assets/rebelstation.png"],["x","25","y","140",1,"legend-text"],["x","0","y","165",1,"legend-title"],["x","5","y","170","width","18","height","18","href","assets/warheadfactory.png"],["x","28","y","185",1,"legend-text"],["x","5","y","190","width","18","height","18","href","assets/hydroponicfarm.png"],["x","28","y","205",1,"legend-text"],["transform","translate(40, 50)",1,"action-buttons"],["appTutorialHighlight","culling-button",1,"action-button",3,"mouseenter","mouseleave","touchstart","touchend","click"],["x","250","y","615","width","150","height","70","href","assets/exterminate.png","preserveAspectRatio","xMidYMid meet"],["appTutorialHighlight","enslaved-labour-button",1,"action-button",3,"mouseenter","mouseleave","touchstart","touchend","click"],["x","400","y","615","width","150","height","70","href","assets/enslavedlabour.png","preserveAspectRatio","xMidYMid meet"],["class","tooltip",4,"ngIf"],["app-political-event-overlay","",3,"choiceMade","politicalEvent","stations","planets"],["class","connection-line","fill","none",4,"ngFor","ngForOf"],["fill","none",1,"connection-line"],["fill","none",1,"orbit-line"],["app-planet-renderer","",1,"planet",3,"mouseenter","mouseleave","touchstart","touchend","planetClick","appTutorialHighlight","planet","canConstruct","isAffected","previewChange","showPreview","tutorialMode"],["app-station-renderer","",1,"station",2,"pointer-events","all",3,"mouseenter","mouseleave","touchstart","touchend","click","stationClick","appTutorialHighlight","station","canGrow","isHovered","showPreview","showPoliticalWarning","tutorialHighlight"],[1,"refresh-animations"],[4,"ngIf"],["class","refresh-indicator warhead-gain",4,"ngIf"],[1,"refresh-indicator","warhead-gain"],["r","12","fill","#10b981",1,"refresh-badge"],["text-anchor","middle","fill","white","font-weight","bold","font-size","12",1,"refresh-text"],["class","refresh-indicator warhead-loss",4,"ngIf"],[1,"refresh-indicator","warhead-loss"],["r","12","fill","#ef4444",1,"refresh-badge"],[1,"refresh-indicator",3,"ngClass"],["cx","392","cy","50","r","14","fill","rgba(200, 16, 239, 0.3)",1,"refresh-badge"],["x","392","y","55","text-anchor","middle","fill","white","font-weight","bold","font-size","13",1,"refresh-text"],[1,"replacement-animation"],["class","refresh-indicator warhead-cost",4,"ngIf"],[1,"refresh-indicator","warhead-cost"],[1,"construction-animation"],["class","refresh-indicator crystal-cost",4,"ngIf"],[1,"refresh-indicator","crystal-cost"],["r","12","fill","#f59e0b",1,"refresh-badge"],[1,"action-animation"],["r","12",1,"refresh-badge"],["cx","200","cy","40","r","14",1,"refresh-badge"],["x","200","y","45","text-anchor","middle","fill","white","font-weight","bold","font-size","13",1,"refresh-text"],["cx","425","cy","50","r","14",1,"refresh-badge"],["x","425","y","55","text-anchor","middle","fill","white","font-weight","bold","font-size","13",1,"refresh-text"],["app-construction-selector","",3,"structureSelected","planet","selectedPlanetId","canBuildFactory","canBuildFarm"],[1,"tooltip"],["x","20","y","440","width","240","height","84","rx","6","fill","#1e293b","stroke","#fbbf24","stroke-width","2","opacity","0.95"],["x","140","y","464","text-anchor","middle",1,"tooltip-text"],["x","140","y","480","text-anchor","middle",1,"tooltip-text"],["x","140","y","499","text-anchor","middle",1,"tooltip-text-small"],["x","140","y","514","text-anchor","middle",1,"tooltip-text-small"],["x","20","y","440","width","280","height","52","rx","6","fill","#1e293b","stroke","#ef4444","stroke-width","2","opacity","0.95"],["x","160","y","464","text-anchor","middle","fill","#fbbf24",1,"tooltip-text"],["x","160","y","480","text-anchor","middle","fill","#ffffff",1,"tooltip-text-small"],["x","150","y","450","width","240","height","68","rx","6","fill","#1e293b","stroke","#fbbf24","stroke-width","2","opacity","0.95"],["x","270","y","474","text-anchor","middle",1,"tooltip-text"],["x","270","y","490","text-anchor","middle",1,"tooltip-text"],["x","270","y","509","text-anchor","middle",1,"tooltip-text-small"],["width","240","height","56","rx","6","fill","#1e293b","stroke","#ef4444","stroke-width","2","opacity","0.95"],["text-anchor","middle","fill","#fbbf24","font-weight","bold","font-size","12",1,"tooltip-text"],["text-anchor","middle","fill","#ffffff","font-size","11",1,"tooltip-text-small"],["width","210","height","44","rx","6","fill","#1e293b","stroke","#ef4444","stroke-width","2","opacity","0.95"],["width","280","rx","6","fill","#1e293b","stroke","#ef4444","stroke-width","2","opacity","0.95"],["text-anchor","middle","fill","#fbbf24","font-weight","bold","font-size","12",1,"tooltip-text-small"],["text-anchor","middle","class","tooltip-text-small","fill","#ffffff","font-size","10",4,"ngFor","ngForOf"],["text-anchor","middle","fill","#ffffff","font-size","10",1,"tooltip-text-small"]],template:function(i,r){i&1&&(M(),u(0,"svg",0),T("click",function(){return r.closeStructureSelector()}),u(1,"defs")(2,"radialGradient",1),y(3,"stop",2)(4,"stop",3)(5,"stop",4),f(),u(6,"radialGradient",5),y(7,"stop",6)(8,"stop",7),f(),u(9,"radialGradient",8),y(10,"stop",9)(11,"stop",10),f(),u(12,"radialGradient",11),y(13,"stop",12)(14,"stop",13)(15,"stop",14),f(),u(16,"radialGradient",15),y(17,"stop",16)(18,"stop",17)(19,"stop",18),f(),u(20,"radialGradient",19),y(21,"stop",20)(22,"stop",21)(23,"stop",22),f(),u(24,"filter",23),y(25,"feGaussianBlur",24)(26,"feOffset",25),u(27,"feComponentTransfer"),y(28,"feFuncA",26),f(),u(29,"feMerge"),y(30,"feMergeNode")(31,"feMergeNode",27),f()(),u(32,"filter",28),y(33,"feGaussianBlur",29)(34,"feOffset",30),u(35,"feComponentTransfer"),y(36,"feFuncA",31),f(),u(37,"feMerge"),y(38,"feMergeNode")(39,"feMergeNode",27),f()(),u(40,"pattern",32),y(41,"circle",33)(42,"circle",34)(43,"circle",35),f()(),u(44,"g",36),I(45,yM,2,1,"ng-container",37),f(),u(46,"g",38),I(47,vM,1,3,"path",39),f(),y(48,"image",40),u(49,"g",41),I(50,_M,2,9,"ng-container",37),f(),u(51,"g",42),I(52,CM,2,9,"ng-container",43),f(),I(53,xM,4,4,"g",44)(54,TM,2,2,"g",45)(55,OM,2,2,"g",46)(56,jM,5,5,"g",47)(57,$M,1,4,"g",48),y(58,"g",49),u(59,"g",50)(60,"text",51),d(61,"Mining values"),f(),y(62,"image",52),u(63,"text",53),d(64,"0"),f(),y(65,"image",54),u(66,"text",55),d(67,"1"),f(),y(68,"image",56),u(69,"text",57),d(70,"2"),f(),y(71,"image",58),u(72,"text",59),d(73,"3"),f(),y(74,"image",60),u(75,"text",61),d(76,"4"),f(),y(77,"image",62),u(78,"text",63),d(79,"5"),f(),y(80,"image",64),u(81,"text",65),d(82,"6"),f(),y(83,"image",66),u(84,"text",67),d(85,"7"),f(),u(86,"text",68),d(87,"Space stations"),f(),y(88,"image",69),u(89,"text",70),d(90,"Loyal"),f(),y(91,"image",71),u(92,"text",72),d(93,"Neutral"),f(),y(94,"image",73),u(95,"text",74),d(96,"Rebel"),f(),u(97,"text",75),d(98,"Structures"),f(),y(99,"image",76),u(100,"text",77),d(101,"Warhead Factory"),f(),y(102,"image",78),u(103,"text",79),d(104,"Hydroponic Farm"),f()(),u(105,"g",80)(106,"g",81),T("mouseenter",function(){return r.onActionButtonHover("culling")})("mouseleave",function(){return r.onActionButtonHover(null)})("touchstart",function(){return r.onActionButtonTouch()})("touchend",function(){return r.onActionButtonTouch()})("click",function(){return r.executeCulling()}),y(107,"image",82),f(),u(108,"g",83),T("mouseenter",function(){return r.onActionButtonHover("enslaved")})("mouseleave",function(){return r.onActionButtonHover(null)})("touchstart",function(){return r.onActionButtonTouch()})("touchend",function(){return r.onActionButtonTouch()})("click",function(){return r.executeEnslavedLabour()}),y(109,"image",84),f()(),I(110,UM,3,2,"g",85)(111,GM,8,0,"g",85)(112,qM,2,1,"g",85)(113,eT,2,1,"g",85),u(114,"g",86),T("choiceMade",function(s){return r.onPoliticalChoice(s)}),f()()),i&2&&(g(45),b("ngForOf",r.stations)("ngForTrackBy",r.trackByStationId),g(2),b("ngForOf",r.stations)("ngForTrackBy",r.trackByStationId),g(),Ue("filter","drop-shadow(0 0 15px "+r.starGlowColor+")"),D("x",r.layoutConfig.centerX-50)("y",r.layoutConfig.centerY-50)("href","assets/"+r.starImage),g(2),b("ngForOf",r.planets)("ngForTrackBy",r.trackByPlanetId),g(2),b("ngForOf",r.stations),g(),b("ngIf",r.refreshAnimation.isActive),g(),b("ngIf",r.structureAnimation.isActive&&r.structureAnimation.type==="replacement"&&r.structureAnimation.planetId),g(),b("ngIf",r.structureAnimation.isActive&&r.structureAnimation.type==="construction"&&r.structureAnimation.planetId),g(),b("ngIf",r.actionAnimation.isActive),g(),b("ngForOf",r.planets)("ngForTrackBy",r.trackByPlanetId),g(),b("unrest",r.currentUnrest)("dominion",r.currentDominion)("collapse",r.currentCollapse)("warheads",r.currentWarheads)("maxWarheads",r.maxWarheads)("warheadDelta",r.getWarheadDelta()),g(49),Ue("cursor",r.canExecuteCulling()?"pointer":"not-allowed"),D("opacity",r.canExecuteCulling()?"1":"0.4"),g(2),Ue("cursor",r.canExecuteEnslavedLabour()?"pointer":"not-allowed"),D("opacity",r.canExecuteEnslavedLabour()?"1":"0.4"),g(),b("ngIf",r.hoveredActionButton==="culling"),g(),b("ngIf",r.hoveredActionButton==="enslaved"),g(),b("ngIf",r.hoveredStationId),g(),b("ngIf",r.hoveredPlanetId),g(),b("politicalEvent",r.getCurrentPoliticalEvent())("stations",r.stations)("planets",r.planets))},dependencies:[ve,Ys,Ut,Se,A0,O0,N0,R0,k0,$a],styles:[".solar-system[_ngcontent-%COMP%]{width:100%;height:100%;background:radial-gradient(circle at center,#1e293b,#0f172a);border-radius:8px;box-shadow:0 4px 6px #0000004d;display:block;object-fit:contain;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.solar-system[_ngcontent-%COMP%]   .sun[_ngcontent-%COMP%]{cursor:default}.solar-system[_ngcontent-%COMP%]   .planet[_ngcontent-%COMP%]{transition:all .3s ease}.solar-system[_ngcontent-%COMP%]   .planet[_ngcontent-%COMP%]   .planet-body[_ngcontent-%COMP%]{transition:all .2s ease;stroke:#6d28d980;stroke-width:2}.solar-system[_ngcontent-%COMP%]   .planet[_ngcontent-%COMP%]   .planet-glow[_ngcontent-%COMP%]{transition:all .3s ease}.solar-system[_ngcontent-%COMP%]   .planet[_ngcontent-%COMP%]   .planet-texture[_ngcontent-%COMP%]{transition:opacity .3s ease}.solar-system[_ngcontent-%COMP%]   .planet[_ngcontent-%COMP%]   .planet-highlight[_ngcontent-%COMP%]{transition:all .3s ease}.solar-system[_ngcontent-%COMP%]   .planet[_ngcontent-%COMP%]:hover   .planet-body[_ngcontent-%COMP%]{filter:url(#planetShadow) brightness(1.1)}.solar-system[_ngcontent-%COMP%]   .planet.affected[_ngcontent-%COMP%]   .planet-glow[_ngcontent-%COMP%]{fill:url(#affectedGlow);animation:_ngcontent-%COMP%_pulseGlow 1s ease-in-out infinite}.solar-system[_ngcontent-%COMP%]   .planet.affected[_ngcontent-%COMP%]   .planet-body[_ngcontent-%COMP%]{stroke:#fbbf24;stroke-width:3;filter:url(#planetShadow) drop-shadow(0 0 8px rgba(251,191,36,.6))}@keyframes _ngcontent-%COMP%_pulseGlow{0%,to{opacity:.8}50%{opacity:1}}@keyframes _ngcontent-%COMP%_pulseWarning{0%,to{opacity:.6;stroke-width:2}50%{opacity:1;stroke-width:3}}.solar-system[_ngcontent-%COMP%]   .political-warning-ring[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulseWarning 1.5s ease-in-out infinite}.solar-system[_ngcontent-%COMP%]   .political-station-highlight[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulseStation 1s ease-in-out infinite;pointer-events:none}.solar-system[_ngcontent-%COMP%]   .political-choice-clickable[_ngcontent-%COMP%]{pointer-events:auto!important;cursor:pointer}.solar-system[_ngcontent-%COMP%]   .political-choice-highlight[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulseChoice 1s ease-in-out infinite;pointer-events:none}@keyframes _ngcontent-%COMP%_pulseStation{0%,to{opacity:.8;stroke-width:3}50%{opacity:1;stroke-width:4}}@keyframes _ngcontent-%COMP%_pulseChoice{0%,to{opacity:.7;stroke-width:3}50%{opacity:1;stroke-width:4}}.solar-system[_ngcontent-%COMP%]   .planet-label[_ngcontent-%COMP%]{font-size:12px;font-weight:700;fill:#fef3c7;pointer-events:none;text-shadow:0 2px 4px rgba(0,0,0,.9)}.solar-system[_ngcontent-%COMP%]   .crystal-count[_ngcontent-%COMP%]{font-size:14px;font-weight:700;fill:#fef3c7;pointer-events:none;text-shadow:0 2px 4px rgba(0,0,0,.9)}.solar-system[_ngcontent-%COMP%]   .structure-slot[_ngcontent-%COMP%]{pointer-events:auto;transition:all .2s ease;cursor:pointer}.solar-system[_ngcontent-%COMP%]   .structure-icon-planet[_ngcontent-%COMP%]{font-size:18px;pointer-events:auto;filter:drop-shadow(0 2px 4px rgba(0,0,0,.9));cursor:pointer}.solar-system[_ngcontent-%COMP%]   .structure-symbol[_ngcontent-%COMP%]{font-size:24px;pointer-events:none;filter:drop-shadow(0 1px 2px rgba(0,0,0,.8))}.solar-system[_ngcontent-%COMP%]   .structure-selector[_ngcontent-%COMP%]{filter:drop-shadow(0 4px 8px rgba(0,0,0,.5));animation:_ngcontent-%COMP%_fadeIn .2s ease}.solar-system[_ngcontent-%COMP%]   .structure-selector[_ngcontent-%COMP%]   .structure-option[_ngcontent-%COMP%]{cursor:pointer;transition:all .2s ease}.solar-system[_ngcontent-%COMP%]   .structure-selector[_ngcontent-%COMP%]   .structure-option[_ngcontent-%COMP%]   .structure-option-rect[_ngcontent-%COMP%]{transition:all .2s ease}.solar-system[_ngcontent-%COMP%]   .structure-selector[_ngcontent-%COMP%]   .structure-option[_ngcontent-%COMP%]:hover   .structure-option-rect[_ngcontent-%COMP%]{fill:#8b5cf666;stroke:#fbbf24;stroke-width:2}.solar-system[_ngcontent-%COMP%]   .structure-selector[_ngcontent-%COMP%]   .structure-option-icon[_ngcontent-%COMP%]{font-size:18px;pointer-events:none;filter:drop-shadow(0 1px 2px rgba(0,0,0,.8))}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}.solar-system[_ngcontent-%COMP%]   .station[_ngcontent-%COMP%]{transition:all .3s ease}.solar-system[_ngcontent-%COMP%]   .station[_ngcontent-%COMP%]   .station-body[_ngcontent-%COMP%]{cursor:default;transition:all .2s ease;stroke:#0000004d;stroke-width:1.5}.solar-system[_ngcontent-%COMP%]   .station[_ngcontent-%COMP%]   .station-ring[_ngcontent-%COMP%], .solar-system[_ngcontent-%COMP%]   .station[_ngcontent-%COMP%]   .station-highlight[_ngcontent-%COMP%], .solar-system[_ngcontent-%COMP%]   .station[_ngcontent-%COMP%]   .station-antenna[_ngcontent-%COMP%]{transition:all .3s ease}.solar-system[_ngcontent-%COMP%]   .station[_ngcontent-%COMP%]   .station-light[_ngcontent-%COMP%]{transition:all .3s ease;animation:_ngcontent-%COMP%_blinkLight 2s ease-in-out infinite}.solar-system[_ngcontent-%COMP%]   .station[_ngcontent-%COMP%]:hover   .station-body[_ngcontent-%COMP%]{filter:url(#stationShadow) brightness(1.15)}.solar-system[_ngcontent-%COMP%]   .station.clickable[_ngcontent-%COMP%]   .station-body[_ngcontent-%COMP%]{cursor:pointer;stroke:#fbbf24;stroke-width:2.5;filter:url(#stationShadow) drop-shadow(0 0 6px rgba(251,191,36,.6))}.solar-system[_ngcontent-%COMP%]   .station.clickable[_ngcontent-%COMP%]   .station-light[_ngcontent-%COMP%]{fill:#fbbf24;animation:_ngcontent-%COMP%_blinkLightFast .8s ease-in-out infinite}@keyframes _ngcontent-%COMP%_blinkLight{0%,to{opacity:.4}50%{opacity:1}}@keyframes _ngcontent-%COMP%_blinkLightFast{0%,to{opacity:.6}50%{opacity:1}}.solar-system[_ngcontent-%COMP%]   .station-label[_ngcontent-%COMP%]{font-size:12px;font-weight:700;fill:#fde68a;pointer-events:none;text-shadow:0 1px 2px rgba(0,0,0,.8)}.solar-system[_ngcontent-%COMP%]   .population-count[_ngcontent-%COMP%]{font-size:12px;font-weight:700;fill:#fff;pointer-events:none;text-shadow:0 0 3px rgba(0,0,0,.8)}.solar-system[_ngcontent-%COMP%]   .connection-line[_ngcontent-%COMP%]{opacity:.4;transition:opacity .2s ease}.solar-system[_ngcontent-%COMP%]   .connection-line[_ngcontent-%COMP%]:hover{opacity:.8}.solar-system[_ngcontent-%COMP%]   .orbit-line[_ngcontent-%COMP%]{opacity:.25;stroke:#64748b}.solar-system[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-title[_ngcontent-%COMP%]{font-size:13px;font-weight:700;fill:#fbbf24;text-shadow:0 1px 2px rgba(0,0,0,.8)}.solar-system[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .legend-text[_ngcontent-%COMP%]{font-size:11px;fill:#e2e8f0;text-shadow:0 1px 2px rgba(0,0,0,.8)}.solar-system[_ngcontent-%COMP%]   .preview-indicator[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_popIn .3s ease;pointer-events:none}.solar-system[_ngcontent-%COMP%]   .preview-indicator[_ngcontent-%COMP%]   .preview-badge[_ngcontent-%COMP%]{stroke:#fff;stroke-width:2;filter:drop-shadow(0 2px 4px rgba(0,0,0,.5))}.solar-system[_ngcontent-%COMP%]   .preview-indicator[_ngcontent-%COMP%]   .preview-text[_ngcontent-%COMP%]{font-size:11px;font-weight:700;fill:#fff;text-shadow:0 1px 2px rgba(0,0,0,.8)}.solar-system[_ngcontent-%COMP%]   .preview-indicator[_ngcontent-%COMP%]   .preview-text-small[_ngcontent-%COMP%]{font-size:10px;font-weight:700;fill:#fff;text-shadow:0 1px 2px rgba(0,0,0,.8)}@keyframes _ngcontent-%COMP%_popIn{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.solar-system[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%], .solar-system[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   .action-button-rect[_ngcontent-%COMP%]{transition:all .2s ease}.solar-system[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]:hover   .action-button-rect[_ngcontent-%COMP%]{filter:brightness(1.2)}.solar-system[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-button-text[_ngcontent-%COMP%]{font-size:14px;font-weight:700;pointer-events:none;text-shadow:0 1px 2px rgba(0,0,0,.8)}.solar-system[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]{pointer-events:none;animation:_ngcontent-%COMP%_fadeIn .2s ease}.solar-system[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%]{filter:drop-shadow(0 4px 8px rgba(0,0,0,.4))}.solar-system[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]   .tooltip-text[_ngcontent-%COMP%]{font-size:12px;font-weight:600;fill:#fef3c7;text-shadow:0 1px 3px rgba(0,0,0,.9)}.solar-system[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]   .tooltip-text-small[_ngcontent-%COMP%]{font-size:10px;font-weight:600;fill:#cbd5e1;text-shadow:0 1px 3px rgba(0,0,0,.9)}.solar-system[_ngcontent-%COMP%]   .unrest-track[_ngcontent-%COMP%]   .unrest-title[_ngcontent-%COMP%]{font-size:14px;font-weight:700;fill:#fbbf24;text-shadow:0 1px 2px rgba(0,0,0,.8)}.solar-system[_ngcontent-%COMP%]   .unrest-track[_ngcontent-%COMP%]   .unrest-marker[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{transition:all .3s ease}.solar-system[_ngcontent-%COMP%]   .unrest-track[_ngcontent-%COMP%]   .unrest-marker[_ngcontent-%COMP%]   circle.current-unrest[_ngcontent-%COMP%]{filter:drop-shadow(0 0 4px rgba(251,191,36,.8))}.solar-system[_ngcontent-%COMP%]   .unrest-track[_ngcontent-%COMP%]   .unrest-marker-text[_ngcontent-%COMP%]{font-size:10px;font-weight:700;fill:#94a3b8;text-shadow:0 1px 2px rgba(0,0,0,.8);pointer-events:none}.solar-system[_ngcontent-%COMP%]   .unrest-track[_ngcontent-%COMP%]   .unrest-current-value[_ngcontent-%COMP%]{font-size:12px;font-weight:700;fill:#fef3c7;text-shadow:0 1px 2px rgba(0,0,0,.8);pointer-events:none}.solar-system[_ngcontent-%COMP%]   .unrest-track[_ngcontent-%COMP%]   .warhead-current-value[_ngcontent-%COMP%]{font-size:35px;font-weight:700;fill:#fef3c7;text-shadow:0 1px 2px rgba(0,0,0,.8);pointer-events:none}.solar-system[_ngcontent-%COMP%]   .unrest-track[_ngcontent-%COMP%]   .warhead-current-value-critical[_ngcontent-%COMP%]{font-size:35px;font-weight:700;fill:#e90800;text-shadow:0 1px 2px rgba(0,0,0,.8);pointer-events:none}.solar-system[_ngcontent-%COMP%]   .unrest-track[_ngcontent-%COMP%]   .warhead-maximum-value[_ngcontent-%COMP%], .solar-system[_ngcontent-%COMP%]   .unrest-track[_ngcontent-%COMP%]   .warhead-delta[_ngcontent-%COMP%]{font-size:20px;font-weight:400;fill:#fef3c7;text-shadow:0 1px 2px rgba(0,0,0,.8);pointer-events:none}.solar-system[_ngcontent-%COMP%]   .refresh-animations[_ngcontent-%COMP%]{pointer-events:none}.solar-system[_ngcontent-%COMP%]   .refresh-animations[_ngcontent-%COMP%]   .refresh-indicator[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_refreshFadeOut 1s ease-out forwards}.solar-system[_ngcontent-%COMP%]   .refresh-animations[_ngcontent-%COMP%]   .refresh-indicator[_ngcontent-%COMP%]   .refresh-badge[_ngcontent-%COMP%]{stroke:#fff;stroke-width:2;filter:drop-shadow(0 2px 4px rgba(0,0,0,.5))}.solar-system[_ngcontent-%COMP%]   .refresh-animations[_ngcontent-%COMP%]   .refresh-indicator[_ngcontent-%COMP%]   .refresh-text[_ngcontent-%COMP%]{text-shadow:0 1px 2px rgba(0,0,0,.8)}.solar-system[_ngcontent-%COMP%]   .replacement-animation[_ngcontent-%COMP%]{pointer-events:none}.solar-system[_ngcontent-%COMP%]   .replacement-animation[_ngcontent-%COMP%]   .refresh-indicator[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_actionFadeOut 1.5s ease-out forwards}.solar-system[_ngcontent-%COMP%]   .replacement-animation[_ngcontent-%COMP%]   .refresh-indicator[_ngcontent-%COMP%]   .refresh-badge[_ngcontent-%COMP%]{stroke:#fff;stroke-width:2;filter:drop-shadow(0 2px 4px rgba(0,0,0,.5))}.solar-system[_ngcontent-%COMP%]   .replacement-animation[_ngcontent-%COMP%]   .refresh-indicator[_ngcontent-%COMP%]   .refresh-text[_ngcontent-%COMP%]{text-shadow:0 1px 2px rgba(0,0,0,.8)}.solar-system[_ngcontent-%COMP%]   .construction-animation[_ngcontent-%COMP%]{pointer-events:none}.solar-system[_ngcontent-%COMP%]   .construction-animation[_ngcontent-%COMP%]   .refresh-indicator[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_actionFadeOut 1.5s ease-out forwards}.solar-system[_ngcontent-%COMP%]   .construction-animation[_ngcontent-%COMP%]   .refresh-indicator[_ngcontent-%COMP%]   .refresh-badge[_ngcontent-%COMP%]{stroke:#fff;stroke-width:2;filter:drop-shadow(0 2px 4px rgba(0,0,0,.5))}.solar-system[_ngcontent-%COMP%]   .construction-animation[_ngcontent-%COMP%]   .refresh-indicator[_ngcontent-%COMP%]   .refresh-text[_ngcontent-%COMP%]{text-shadow:0 1px 2px rgba(0,0,0,.8)}.solar-system[_ngcontent-%COMP%]   .action-animation[_ngcontent-%COMP%]{pointer-events:none}.solar-system[_ngcontent-%COMP%]   .action-animation[_ngcontent-%COMP%]   .refresh-indicator[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_actionFadeOut 1.5s ease-out forwards}.solar-system[_ngcontent-%COMP%]   .action-animation[_ngcontent-%COMP%]   .refresh-indicator[_ngcontent-%COMP%]   .refresh-badge[_ngcontent-%COMP%]{stroke:#fff;stroke-width:2;filter:drop-shadow(0 2px 4px rgba(0,0,0,.5))}.solar-system[_ngcontent-%COMP%]   .action-animation[_ngcontent-%COMP%]   .refresh-indicator[_ngcontent-%COMP%]   .refresh-text[_ngcontent-%COMP%]{text-shadow:0 1px 2px rgba(0,0,0,.8)}@keyframes _ngcontent-%COMP%_refreshFadeOut{0%{opacity:1;transform:translateY(0)}60%{opacity:1;transform:translateY(-5px)}to{opacity:0;transform:translateY(-15px)}}@keyframes _ngcontent-%COMP%_actionFadeOut{0%{opacity:1;transform:translateY(0)}70%{opacity:1;transform:translateY(-5px)}to{opacity:0;transform:translateY(-15px)}}.solar-system[_ngcontent-%COMP%]   .dominion-loss[_ngcontent-%COMP%], .solar-system[_ngcontent-%COMP%]   .dominion-gain[_ngcontent-%COMP%], .solar-system[_ngcontent-%COMP%]   .unrest-loss[_ngcontent-%COMP%], .solar-system[_ngcontent-%COMP%]   .unrest-gain[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_actionFadeOut 1.5s ease-out forwards!important}"],changeDetection:0})}}return t})();var tT=20,sr=(()=>{class t{parse(e,i="sun.png",r="rgba(251, 191, 36, 0.9)"){let o=this.parseTopologyString(e),s=this.buildTopology(o,i,r),a=this.validateTopology(s);if(!a.isValid)throw new Error(`Invalid topology: ${a.errors.join(", ")}`);return s}parseTopologyString(e){let r=e.trim().split("|").map(m=>m.trim()),o=r[0],s=o.indexOf(":");if(s===-1)throw new Error('Invalid format: missing ":" separator');let a=parseInt(o.substring(0,s).trim(),10);if(isNaN(a)||a<1)throw new Error("Invalid planet count");let l=o.substring(s+1).trim(),c=this.parseConnections(l),h,p,v;for(let m=1;m<r.length;m++){let C=r[m];C.toLowerCase().startsWith("crystals:")?h=this.parseCrystalOverrides(C):C.toLowerCase().startsWith("collapse:")?p=this.parseCollapse(C):C.toLowerCase().startsWith("dominion:")&&(v=this.parseDominion(C))}return{planetCount:a,connections:c,crystalOverrides:h,collapse:p,dominion:v}}parseConnections(e){let i=e.split(",").map(s=>s.trim()).filter(s=>s.length>0),r=[],o=/(\d+)->\[(\d+)\](\d+)/;for(let s=0;s<i.length;s++){let a=i[s].match(o);if(!a)throw new Error(`Invalid connection spec: ${i[s]}`);let l=parseInt(a[1],10),c=parseInt(a[2],10),h=parseInt(a[3],10);r.push({stationId:s+1,connectedPlanetIds:[l,c],orbitingPlanetId:h})}return r}parseCrystalOverrides(e){let i=new Map,o=e.replace(/^crystals:\s*/i,"").trim().split(",").map(s=>s.trim()).filter(s=>s.length>0);for(let s of o){let a=s.split(":").map(h=>h.trim());if(a.length!==2)throw new Error(`Invalid crystal spec: ${s}`);let l=parseInt(a[0],10),c=parseInt(a[1],10);if(isNaN(l)||isNaN(c)||c<0)throw new Error(`Invalid crystal spec: ${s}`);i.set(l,c)}return i}parseCollapse(e){let i=e.replace(/^collapse:\s*/i,"").trim(),r=parseInt(i,10);if(isNaN(r)||r<0)throw new Error(`Invalid collapse value: ${i}`);return r}parseDominion(e){let i=e.replace(/^dominion:\s*/i,"").trim(),r=parseInt(i,10);if(isNaN(r)||r<0)throw new Error(`Invalid dominion value: ${e}`);return r}buildTopology(e,i,r){let o=o0(e.planetCount),s=[];for(let l=1;l<=e.planetCount;l++)s.push({id:l,name:o[l-1],crystals:0,structure:N.NONE,orbitingStationIds:[],miningValue:0});let a=[];for(let l of e.connections){let c={id:l.stationId,population:1,orbitingPlanetId:l.orbitingPlanetId,connectedPlanetIds:l.connectedPlanetIds};a.push(c);let h=s.find(p=>p.id===l.orbitingPlanetId);h&&h.orbitingStationIds.push(l.stationId)}return this.initializeCrystals(s,a.length,e.crystalOverrides),this.calculateMiningValues(s,a),{planetCount:e.planetCount,planets:s,spaceStations:a,collapse:e.collapse??0,dominion:e.dominion??tT,starImage:i,starGlowColor:r}}calculateMiningValues(e,i){let r=new Map;for(let a of e){let l=0;for(let c of i)c.connectedPlanetIds.includes(a.id)&&l++;r.set(a.id,l)}let o=new Map;for(let a of e){let l=r.get(a.id)||0,c=a.orbitingStationIds.length,h=l-c;o.set(a.id,h)}let s=Math.min(...Array.from(o.values()));for(let a of e){let l=o.get(a.id)||0;a.miningValue=l-s}}initializeCrystals(e,i,r){for(let o of e)r&&r.has(o.id)?o.crystals=r.get(o.id):o.crystals=0}validateTopology(e){let i=[],r=e.planets.filter(s=>s.orbitingStationIds.length===0);r.length>0&&r.length<e.planetCount;let o=e.spaceStations.map(s=>s.id).sort((s,a)=>s-a);for(let s=0;s<o.length;s++)if(o[s]!==s+1){i.push("Station IDs must be sequential starting from 1");break}for(let s of e.spaceStations){let[a,l]=s.connectedPlanetIds;(a<1||a>e.planetCount)&&i.push(`Station ${s.id} connected to invalid planet ${a}`),(l<1||l>e.planetCount)&&i.push(`Station ${s.id} connected to invalid planet ${l}`),(s.orbitingPlanetId<1||s.orbitingPlanetId>e.planetCount)&&i.push(`Station ${s.id} orbits invalid planet ${s.orbitingPlanetId}`),(a===s.orbitingPlanetId||l===s.orbitingPlanetId)&&i.push(`Station ${s.id} cannot connect to its orbiting planet ${s.orbitingPlanetId}`)}return{isValid:i.length===0,errors:i}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=x({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var nT=["customSection"],iT=()=>["all","Tutorial","Easy","Medium","Hard","Expert"];function rT(t,n){if(t&1){let e=le();u(0,"button",13),T("click",function(){let r=F(e).$implicit,o=_();return L(o.selectedFilter=r)}),d(1),f()}if(t&2){let e=n.$implicit,i=_();xe("active",i.selectedFilter===e),g(),ce(" ",e==="all"?"All":e," ")}}function oT(t,n){if(t&1){let e=le();u(0,"div",14),T("click",function(){let r=F(e).$implicit,o=_();return L(o.selectPreset(r))}),u(1,"div",15),y(2,"img",16),f(),u(3,"div",17)(4,"h3"),d(5),f(),u(6,"span",18),d(7),f()(),y(8,"p",19),u(9,"div",20)(10,"span",21),d(11),f()()()}if(t&2){let e=n.$implicit,i=_();D("data-difficulty",e.difficulty),g(2),b("src","assets/"+e.starImage,_g)("alt",e.name+" star"),g(3),Pe(e.name),g(),Ue("background",i.getDifficultyColor(e.difficulty)),g(),ce(" ",e.difficulty," "),g(),b("innerHTML",e.description,zi),g(3),ce("\u{1FA90} ",e.planetCount," planets")}}function sT(t,n){if(t&1&&(u(0,"div",28),d(1),f()),t&2){let e=_(2);g(),ce(" \u26A0\uFE0F ",e.customTopologyError," ")}}function aT(t,n){if(t&1){let e=le();u(0,"div",22)(1,"p",23),d(2," Format: "),u(3,"code"),d(4,"N: connected_planet1->[connected_planet2]orbit_planet, ... | crystals: planet1:crystals, ... | collapse:value | dominion:value"),f()(),u(5,"p",24),d(6," Example: "),u(7,"code"),d(8,"3: 2->[3]1, 3->[1]2, 1->[2]3 | crystals: 1:2"),f()(),u(9,"textarea",25),Cu("ngModelChange",function(r){F(e);let o=_();return hm(o.customTopologyString,r)||(o.customTopologyString=r),L(r)}),d(10,"        "),f(),I(11,sT,2,1,"div",26),u(12,"button",27),T("click",function(){F(e);let r=_();return L(r.validateAndStartCustom())}),d(13," Start Custom Game \u2192 "),f()()}if(t&2){let e=_();g(9),_u("ngModel",e.customTopologyString),g(2),b("ngIf",e.customTopologyError),g(),b("disabled",!e.customTopologyString.trim())}}var B0=(()=>{class t{constructor(e){this.topologyParser=e,this.topologySelected=new ge,this.closed=new ge,this.presets=di,this.selectedFilter="all",this.customTopologyString="",this.customTopologyError="",this.showCustomInput=!1}get filteredPresets(){return this.selectedFilter==="all"?this.presets:this.presets.filter(e=>e.difficulty===this.selectedFilter)}selectPreset(e){this.topologySelected.emit(e)}toggleCustomInput(){this.showCustomInput=!this.showCustomInput,this.showCustomInput&&(this.customTopologyString="",this.customTopologyError="",setTimeout(()=>{this.customSection.nativeElement.scrollIntoView({behavior:"smooth",block:"nearest"})},100))}validateAndStartCustom(){try{let e=this.topologyParser.parse(this.customTopologyString);if(e.planets.length<3){this.customTopologyError="Topology must have at least 3 planets";return}this.customTopologyError="";let i={id:"custom",name:"Custom",description:"Custom topology",topologyString:this.customTopologyString,difficulty:"Medium",planetCount:e.planets.length,starImage:"sun.png",starGlowColor:"rgba(251, 191, 36, 0.9)"};this.topologySelected.emit(i)}catch(e){this.customTopologyError=e instanceof Error?e.message:"Invalid topology format"}}close(){this.closed.emit()}selectRandomPreset(){let e=this.filteredPresets.filter(i=>i.id!=="tutorial");if(e.length>0){let i=Math.floor(Math.random()*e.length);this.selectPreset(e[i])}}getDifficultyColor(e){switch(e){case"Tutorial":return"linear-gradient(135deg, #10b981 0%, #059669 100%)";case"Easy":return"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)";case"Medium":return"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)";case"Hard":return"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)";case"Expert":return"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)";default:return"linear-gradient(135deg, #64748b 0%, #475569 100%)"}}static{this.\u0275fac=function(i){return new(i||t)(P(sr))}}static{this.\u0275cmp=fe({type:t,selectors:[["app-topology-selection-dialog"]],viewQuery:function(i,r){if(i&1&&dm(nT,5),i&2){let o;gu(o=mu())&&(r.customSection=o.first)}},outputs:{topologySelected:"topologySelected",closed:"closed"},standalone:!0,features:[he],decls:18,vars:5,consts:[["customSection",""],[1,"dialog-overlay",3,"click"],[1,"dialog-container",3,"click"],[1,"dialog-header"],[1,"close-btn",3,"click"],[1,"filter-bar"],["class","filter-btn",3,"active","click",4,"ngFor","ngForOf"],[1,"random-btn",3,"click"],[1,"presets-grid"],["class","preset-card",3,"click",4,"ngFor","ngForOf"],[1,"custom-section"],[1,"custom-toggle-btn",3,"click"],["class","custom-input-area",4,"ngIf"],[1,"filter-btn",3,"click"],[1,"preset-card",3,"click"],[1,"preset-icon"],[1,"star-image",3,"src","alt"],[1,"preset-header"],[1,"difficulty-badge"],[1,"preset-description",3,"innerHTML"],[1,"preset-info"],[1,"planet-count"],[1,"custom-input-area"],[1,"custom-help"],[1,"custom-example"],["placeholder","Enter custom topology string...","rows","3",1,"custom-input",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],[1,"start-custom-btn",3,"click","disabled"],[1,"error-message"]],template:function(i,r){if(i&1){let o=le();u(0,"div",1),T("click",function(){return F(o),L(r.close())}),u(1,"div",2),T("click",function(a){return F(o),L(a.stopPropagation())}),u(2,"div",3)(3,"h2"),d(4,"\u{1F30C} Select Game Topology"),f(),u(5,"button",4),T("click",function(){return F(o),L(r.close())}),d(6,"\u2715"),f()(),u(7,"div",5),I(8,rT,2,3,"button",6),u(9,"button",7),T("click",function(){return F(o),L(r.selectRandomPreset())}),d(10," \u{1F3B2} Random "),f()(),u(11,"div",8),I(12,oT,12,9,"div",9),f(),u(13,"div",10,0)(15,"button",11),T("click",function(){return F(o),L(r.toggleCustomInput())}),d(16),f(),I(17,aT,14,3,"div",12),f()()()}i&2&&(g(8),b("ngForOf",gm(4,iT)),g(4),b("ngForOf",r.filteredPresets),g(4),ce(" ",r.showCustomInput?"\u25BC":"\u25B6"," Custom Topology "),g(),b("ngIf",r.showCustomInput))},dependencies:[ve,Ut,Se,D0,ka,w0,pf],styles:['.dialog-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000d9;display:flex;align-items:center;justify-content:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .2s ease;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.dialog-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e293b,#0f172a);border:2px solid rgba(139,92,246,.4);border-radius:16px;width:90%;max-width:900px;max-height:85vh;overflow-y:auto;box-shadow:0 20px 60px #0009;animation:_ngcontent-%COMP%_slideIn .3s ease}.dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:24px 30px;border-bottom:2px solid rgba(139,92,246,.3);position:sticky;top:0;background:linear-gradient(135deg,#1e293b,#0f172a);z-index:10}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#fbbf24;font-size:24px;font-weight:700;text-shadow:0 2px 4px rgba(0,0,0,.5)}.dialog-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:#1e293b99;border:2px solid rgba(255,255,255,.2);color:#e2e8f0;font-size:20px;width:36px;height:36px;border-radius:50%;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 4px #0000004d}.dialog-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#ef444433;border-color:#ef4444;color:#ef4444;transform:rotate(90deg);box-shadow:0 4px 8px #ef444466}.filter-bar[_ngcontent-%COMP%]{display:flex;gap:10px;padding:20px 30px;flex-wrap:wrap;border-bottom:1px solid rgba(139,92,246,.2)}.filter-bar[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{padding:8px 16px;background:#1e293b99;border:2px solid rgba(139,92,246,.3);border-radius:6px;color:#cbd5e1;font-size:13px;font-weight:600;cursor:pointer;transition:all .2s ease;box-shadow:0 2px 4px #0000004d}.filter-bar[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]:hover{background:#8b5cf633;border-color:#8b5cf680;color:#fbbf24;transform:translateY(-1px);box-shadow:0 4px 8px #8b5cf64d}.filter-bar[_ngcontent-%COMP%]   .filter-btn.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#7c3aed);border-color:#8b5cf6;color:#fff;box-shadow:0 2px 8px #8b5cf680;transform:translateY(-1px)}.filter-bar[_ngcontent-%COMP%]   .random-btn[_ngcontent-%COMP%]{padding:8px 16px;background:linear-gradient(135deg,#10b981,#059669);border:2px solid #10b981;border-radius:6px;color:#fff;font-size:13px;font-weight:600;cursor:pointer;transition:all .2s ease;margin-left:auto;box-shadow:0 2px 4px #10b9814d}.filter-bar[_ngcontent-%COMP%]   .random-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#059669,#047857);transform:translateY(-1px);box-shadow:0 4px 12px #10b98180}.presets-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px;padding:30px}.preset-card[_ngcontent-%COMP%]{background:#1e293b99;border:2px solid rgba(139,92,246,.3);border-radius:12px;padding:20px;cursor:pointer;transition:all .3s ease;position:relative;overflow:hidden;display:flex;flex-direction:column;height:100%}.preset-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#8b5cf6,#fbbf24);opacity:0;transition:opacity .3s ease}.preset-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);border-color:#fbbf2499;box-shadow:0 8px 24px #8b5cf64d;background:#1e293bcc}.preset-card[_ngcontent-%COMP%]:hover:before{opacity:1}.preset-card[_ngcontent-%COMP%]   .preset-icon[_ngcontent-%COMP%]{font-size:48px;text-align:center;margin-bottom:12px;filter:drop-shadow(0 2px 4px rgba(0,0,0,.5))}.preset-card[_ngcontent-%COMP%]   .preset-icon[_ngcontent-%COMP%]   .star-image[_ngcontent-%COMP%]{width:64px;height:64px;object-fit:contain}.preset-card[_ngcontent-%COMP%]   .preset-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;gap:10px}.preset-card[_ngcontent-%COMP%]   .preset-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#fbbf24;font-size:18px;font-weight:700}.preset-card[_ngcontent-%COMP%]   .preset-header[_ngcontent-%COMP%]   .difficulty-badge[_ngcontent-%COMP%]{padding:5px 12px;border-radius:6px;font-size:10px;font-weight:700;color:#fff;text-transform:uppercase;letter-spacing:.8px;white-space:nowrap;border:1px solid rgba(255,255,255,.2);box-shadow:0 2px 4px #0006,inset 0 1px #fff3;text-shadow:0 1px 2px rgba(0,0,0,.5);position:relative;overflow:hidden}.preset-card[_ngcontent-%COMP%]   .preset-header[_ngcontent-%COMP%]   .difficulty-badge[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:50%;background:linear-gradient(180deg,rgba(255,255,255,.15) 0%,transparent 100%);pointer-events:none}.preset-card[_ngcontent-%COMP%]   .preset-description[_ngcontent-%COMP%]{color:#cbd5e1;font-size:13px;line-height:1.5;margin:0 0 12px;flex-grow:1}.preset-card[_ngcontent-%COMP%]   .preset-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-top:12px;border-top:1px solid rgba(139,92,246,.2);margin-top:auto}.preset-card[_ngcontent-%COMP%]   .preset-info[_ngcontent-%COMP%]   .planet-count[_ngcontent-%COMP%]{color:#a78bfa;font-size:13px;font-weight:600}.custom-section[_ngcontent-%COMP%]{padding:20px 30px 30px;border-top:2px solid rgba(139,92,246,.3)}.custom-section[_ngcontent-%COMP%]   .custom-toggle-btn[_ngcontent-%COMP%]{width:100%;padding:12px 20px;background:#1e293b99;border:2px solid rgba(139,92,246,.3);border-radius:6px;color:#fbbf24;font-size:15px;font-weight:600;cursor:pointer;transition:all .2s ease;text-align:left;box-shadow:0 2px 4px #0000004d}.custom-section[_ngcontent-%COMP%]   .custom-toggle-btn[_ngcontent-%COMP%]:hover{background:#8b5cf633;border-color:#8b5cf680;transform:translateY(-1px);box-shadow:0 4px 8px #8b5cf64d}.custom-section[_ngcontent-%COMP%]   .custom-input-area[_ngcontent-%COMP%]{margin-top:20px;padding:20px;background:#0f172a99;border:2px solid rgba(139,92,246,.2);border-radius:8px}.custom-section[_ngcontent-%COMP%]   .custom-input-area[_ngcontent-%COMP%]   .custom-help[_ngcontent-%COMP%], .custom-section[_ngcontent-%COMP%]   .custom-input-area[_ngcontent-%COMP%]   .custom-example[_ngcontent-%COMP%]{color:#cbd5e1;font-size:13px;margin:0 0 10px}.custom-section[_ngcontent-%COMP%]   .custom-input-area[_ngcontent-%COMP%]   .custom-help[_ngcontent-%COMP%]   code[_ngcontent-%COMP%], .custom-section[_ngcontent-%COMP%]   .custom-input-area[_ngcontent-%COMP%]   .custom-example[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#0006;padding:2px 8px;border-radius:4px;color:#fbbf24;font-family:Courier New,monospace;font-size:12px}.custom-section[_ngcontent-%COMP%]   .custom-input-area[_ngcontent-%COMP%]   .custom-input[_ngcontent-%COMP%]{width:100%;padding:12px;background:#1e293bcc;border:2px solid rgba(139,92,246,.3);border-radius:6px;color:#fef3c7;font-size:13px;font-family:Courier New,monospace;resize:vertical;margin-top:10px}.custom-section[_ngcontent-%COMP%]   .custom-input-area[_ngcontent-%COMP%]   .custom-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#a78bfa;box-shadow:0 0 0 3px #a78bfa33}.custom-section[_ngcontent-%COMP%]   .custom-input-area[_ngcontent-%COMP%]   .custom-input[_ngcontent-%COMP%]::placeholder{color:#64748b}.custom-section[_ngcontent-%COMP%]   .custom-input-area[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#ef4444;font-size:13px;margin-top:10px;padding:10px;background:#ef44441a;border:1px solid rgba(239,68,68,.3);border-radius:6px}.custom-section[_ngcontent-%COMP%]   .custom-input-area[_ngcontent-%COMP%]   .start-custom-btn[_ngcontent-%COMP%]{width:100%;padding:12px;margin-top:15px;background:linear-gradient(135deg,#8b5cf6,#7c3aed);border:none;border-radius:6px;color:#fff;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s ease;box-shadow:0 2px 4px #8b5cf64d}.custom-section[_ngcontent-%COMP%]   .custom-input-area[_ngcontent-%COMP%]   .start-custom-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#7c3aed,#6d28d9);transform:translateY(-1px);box-shadow:0 4px 12px #8b5cf680}.custom-section[_ngcontent-%COMP%]   .custom-input-area[_ngcontent-%COMP%]   .start-custom-btn[_ngcontent-%COMP%]:disabled{background:#64748b4d;cursor:not-allowed;opacity:.5;box-shadow:none}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.dialog-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.dialog-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0f172a80}.dialog-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#8b5cf680;border-radius:4px}.dialog-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#8b5cf6b3}']})}}return t})();function lT(t,n){t&1&&(u(0,"div",12)(1,"h3"),d(2,"Goal of the game"),f(),d(3," The goal of the game is to reach Equilibrium. "),u(4,"p")(5,"strong"),d(6,"You win the game if"),f(),d(7," (all must hold):"),f(),u(8,"ul")(9,"li"),d(10,"All planets have the same number of crystals \u{1F48E}."),f(),u(11,"li"),d(12,"There is at least one loyal space station "),y(13,"img",13),d(14,"."),f()(),u(15,"p")(16,"strong"),d(17,"You lose the game if"),f(),d(18," (any must hold):"),f(),u(19,"ul")(20,"li"),d(21,"Unrest "),y(22,"img",14),d(23," reaches the Dominion "),y(24,"img",15),d(25," level."),f(),u(26,"li"),d(27,"Dominion "),y(28,"img",15),d(29," reaches the Collapse level."),y(30,"img",16),f()()())}function cT(t,n){t&1&&(u(0,"div",12)(1,"h3"),d(2,"Action phase"),f(),d(3," At each turn, choose one of the following: "),u(4,"ul")(5,"li")(6,"strong"),d(7,"Construction:"),f(),y(8,"p"),u(9,"ul")(10,"li"),d(11,"Spend "),u(12,"strong"),d(13,"1 crystal \u{1F48E}"),f(),d(14," to build a "),y(15,"img",17),d(16," Warhead Factory or "),y(17,"img",18),d(18," Hydroponic Farm on a planet that does not contain either structure."),f(),u(19,"li",19),d(20," OR "),f(),u(21,"li"),d(22," Spend "),u(23,"strong"),d(24,"2 warheads "),y(25,"img",20),f(),d(26," to replace a structure on a planet with a different one."),f()()(),u(27,"li")(28,"strong"),d(29,"Grow population:"),f(),u(30,"p"),d(31,"Select a space station."),f(),u(32,"ul")(33,"li"),d(34,"Each of the two planets connected to it loses "),u(35,"strong"),d(36,"1 crystal \u{1F48E}"),f(),d(37,"."),f(),u(38,"li"),d(39," The planet which the space station orbits gains "),u(40,"strong"),d(41,"1 crystal \u{1F48E}"),f(),d(42,"."),f(),u(43,"li"),d(44," The space station gains "),u(45,"strong"),d(46,"1 population \u{1F464}"),f(),d(47,"."),f()(),d(48," At least one of the connected planets must contain a "),u(49,"strong"),y(50,"img",18),d(51," Hydroponic Farm"),f(),d(52,". "),f(),u(53,"li")(54,"strong"),d(55,"Exterminate:"),f(),u(56,"p"),d(57," Spend "),u(58,"strong"),d(59,"1 warhead "),y(60,"img",20),f(),d(61," per space station."),f(),u(62,"ul")(63,"li"),d(64,"Each space station loses "),u(65,"strong"),d(66,"1 population \u{1F464}"),f(),d(67,"."),f(),u(68,"li")(69,"strong"),d(70,"Unrest "),y(71,"img",14),f(),d(72," is reduced by 1."),f()()(),u(73,"li")(74,"strong"),d(75,"Enslaved Labour:"),f(),u(76,"ul")(77,"li"),d(78," Each planet gains a number of "),u(79,"strong"),d(80,"crystals \u{1F48E}"),f(),d(81," equal to its "),u(82,"strong"),d(83,"mining value"),f(),d(84,"."),f(),u(85,"li"),d(86,"Increases "),u(87,"strong"),d(88,"unrest "),y(89,"img",14),f(),d(90," by 1."),f()()()(),d(91," An action is "),u(92,"strong"),d(93,"not allowed"),f(),d(94," when it would reduce the population \u{1F464} on a space station to "),u(95,"strong"),d(96,"zero"),f(),d(97,", or any other value (crystals \u{1F48E} on a planet, number of warheads "),y(98,"img",20),d(99,", unrest "),y(100,"img",14),d(101,") "),u(102,"strong"),d(103,"below zero"),f(),d(104,". "),f())}function uT(t,n){t&1&&(u(0,"div",12)(1,"h3"),d(2,"Political phase"),f(),d(3," For each station: "),u(4,"ul"),d(5," Count the structures on adjacent planets, namely the one being orbited and the two that are connected to the station. If total number of structures is three: "),u(6,"li")(7,"strong"),y(8,"img",13),d(9," Loyal stations:"),f(),d(10," If adjacent planets have 1 or 3 "),y(11,"img",17),d(12," Warhead Factories, remove one (player chooses)."),f(),u(13,"li")(14,"strong"),y(15,"img",21),d(16," Rebel stations:"),f(),d(17," If adjacent planets have 1 or 3 "),y(18,"img",18),d(19," Hydroponic Farms, remove one (player chooses)."),f()(),d(20," When a structure is removed, 1 crystal \u{1F48E} is returned to its planet. "),u(21,"p"),d(22,"Each space station is considered:"),f(),u(23,"ul")(24,"li")(25,"strong"),y(26,"img",22),d(27," Loyal"),f(),d(28," if population \u{1F464} is greater than "),y(29,"img",14),d(30," Unrest"),f(),u(31,"li")(32,"strong"),y(33,"img",23),d(34," Neutral"),f(),d(35," if population \u{1F464} equals "),y(36,"img",14),d(37," Unrest"),f(),u(38,"li")(39,"strong"),y(40,"img",24),d(41," Rebel"),f(),d(42," if population \u{1F464} is less than "),y(43,"img",14),d(44," Unrest"),f()()())}function dT(t,n){t&1&&(u(0,"div",12)(1,"h3"),d(2,"Refresh phase"),f(),u(3,"ul")(4,"li"),d(5,"Each "),y(6,"img",25),d(7," warhead factory produces 1 warhead "),y(8,"img",20),d(9,"."),f(),u(10,"li"),d(11,"Each "),y(12,"img",21),d(13," rebel station consumes 1 warhead "),y(14,"img",20),d(15,"."),f(),u(16,"li"),d(17,"If the above steps would make the number of warheads "),y(18,"img",20),d(19," negative, Dominion "),y(20,"img",15),d(21," is reduced by 1."),f(),u(22,"li"),d(23,"If Dominion "),y(24,"img",15),d(25," equals the Collapse level "),y(26,"img",16),d(27,", the game is lost."),f(),u(28,"li"),d(29,"If Unrest "),y(30,"img",14),d(31," is equal or greater than Dominion "),y(32,"img",15),d(33,", the game is lost."),f()()())}function fT(t,n){t&1&&(u(0,"div",12)(1,"h3"),d(2,"Mathematical Explanation"),f(),u(3,"p"),d(4," The solar system represents a "),u(5,"a",26)(6,"strong"),d(7,"nice diagram"),f()(),d(8,". Nice diagrams encode the set of nonzero structure constants of a "),u(9,"strong"),d(10,"nice Lie algebra"),f(),d(11," in the sense of "),u(12,"a",27),d(13,"Lauret-Will"),f(),d(14,". "),f(),u(15,"p"),d(16," In game terms, planets are nodes of the diagram, corresponding to elements of the nice basis, and connections are arrows, corresponding to nonzero Lie brackets. Since arrows represent the Lie bracket, they come in pairs; to each pairs, a space station is attached. "),f(),u(17,"p"),d(18," To a nice diagram, one can attach a "),u(19,"strong"),d(20,"root matrix "),f(),u(21,"var"),d(22,"M"),f(),d(23,"; in game terms, its entry "),u(24,"var"),d(25,"M"),u(26,"sub"),d(27,"ij"),f()(),d(28," is 1 if the "),u(29,"var"),d(30,"i"),f(),d(31,"-th space station orbits the "),u(32,"var"),d(33,"j"),f(),d(34,"-th planet, -1 if there is a space route from the planet to the space station, and zero otherwise. The "),u(35,"var"),d(36,"i"),f(),d(37,"-th row describes the variation in crystals effected by growing the population on the "),u(38,"var"),d(39,"i"),f(),d(40,"-th space station. "),f(),u(41,"p"),d(42," The "),u(43,"strong"),d(44,"Nikolayevsky derivation"),f(),d(45,", which exists on all Lie algebras, has a particulary simple expression for nice Lie algebras in terms of the root matrix: its entries are determined by the vector "),u(46,"var"),d(47,"[1]+b"),f(),d(48,", where "),u(49,"var"),d(50,"b"),f(),d(51," solves "),u(52,"var"),d(53,"M M"),u(54,"sup"),d(55,"T"),f(),d(56,"b=[1]"),f(),d(57," (here "),u(58,"var"),d(59,"[1]"),f(),d(60," denotes vectors all of whose entries are 1). In game terms, assuming entries of "),u(61,"var"),d(62,"b"),f(),d(63," are positive integers, this means that the Nikolayevsky derivation is determined by population values after growing each station as many times as the corresponding value of "),u(64,"var"),d(65,"b"),f(),d(66,". Whether all entries of the Nikolayevsky derivation are positive is a necessary condition for the existence of a "),u(67,"strong"),d(68,"nilsoliton metric"),f(),d(69,", as shown by "),u(70,"a",28),d(71,"Nikolayevsky"),f(),d(72,". Even then, entries of "),u(73,"var"),d(74,"b"),f(),d(75," are not necessarily positive, nor integers. "),f(),u(76,"p"),d(77,"In easy maps, the entries of the Nikolayevsky derivation, appropriately shifted and rescaled so that "),u(78,"var"),d(79,"b"),f(),d(80," consists of positive integers, determine the initial crystal values on a planet."),f(),u(81,"p"),d(82,"In hard maps, initial crystal values are zero, and the offset is realized in terms of the unrest value, i.e. the rescaled value of "),u(83,"var"),d(84,"b"),f(),d(85," correspond to population values minus unrest. Mathematically, for these nice diagrams "),u(86,"strong"),d(87,"the Nikolayevsky derivations is zero"),f(),d(88,". This is a necessary condition for the existence of an Einstein metric of indefinite signature. If the matrix "),u(89,"var"),d(90,"M"),u(91,"sup"),d(92,"T"),f()(),d(93," is surjective mod 2, the condition is also "),u(94,"a",29)(95,"strong"),d(96,"sufficient"),f()(),d(97,"."),f(),y(98,"p"),u(99,"p"),d(100,"The type of structure built on each planet determines the signature of the metric; the loyalty rules ensure that they are consistent with the signs of the components of "),u(101,"var"),d(102,"b"),f(),d(103,"."),f()())}var H0=(()=>{class t{constructor(e){this.analytics=e,this.closed=new ge,this.expandedSections=new Set(["goal"])}toggleSection(e){this.expandedSections.has(e)?this.expandedSections.delete(e):(this.expandedSections.clear(),this.expandedSections.add(e),this.analytics.trackHowToPlayItemOpened(e))}isSectionExpanded(e){return this.expandedSections.has(e)}close(){this.closed.emit()}static{this.\u0275fac=function(i){return new(i||t)(P(Nn))}}static{this.\u0275cmp=fe({type:t,selectors:[["app-how-to-play-dialog"]],outputs:{closed:"closed"},standalone:!0,features:[he],decls:54,vars:20,consts:[[1,"dialog-overlay",3,"click"],[1,"dialog-container",3,"click"],[1,"dialog-header"],[1,"close-btn",3,"click"],[1,"dialog-content"],[1,"accordion"],[1,"accordion-item"],[1,"accordion-header",3,"click"],[1,"accordion-icon"],[1,"accordion-title"],[1,"accordion-toggle"],["class","content-text",4,"ngIf"],[1,"content-text"],["width","16","src","assets/loyalstation.png","alt","Loyal station"],["width","16","src","assets/unrest.png","alt","Unrest"],["width","16","src","assets/dominion.png","alt","Dominion"],["width","16","src","assets/collapse.png","alt","Collapse"],["width","16","src","assets/warheadfactory.png","alt","Warhead Factory"],["width","16","src","assets/hydroponicfarm.png","alt","Hydroponic Farm"],[2,"text-align","center","list-style-type","none"],["width","16","src","assets/warhead.png","alt","Warhead"],["width","16","src","assets/rebelstation.png","alt","Rebel station"],["width","16","src","assets/loyalstation.png","alt","Loyal"],["width","16","src","assets/neutralstation.png","alt","Neutral"],["width","16","src","assets/rebelstation.png","alt","Rebel"],["width","16","src","assets/warheadfactory.png","alt","Warhead factory"],["href","https://pagine.dm.unipi.it/conti/#/research?paper=18"],["href","https://doi.org/10.1007/s00208-010-0552-0"],["href","https://www.jstor.org/stable/23032205"],["href","https://pagine.dm.unipi.it/conti/#/research?paper=21"]],template:function(i,r){i&1&&(u(0,"div",0),T("click",function(){return r.close()}),u(1,"div",1),T("click",function(s){return s.stopPropagation()}),u(2,"div",2)(3,"h2"),d(4,"How to Play"),f(),u(5,"button",3),T("click",function(){return r.close()}),d(6,"\u2715"),f()(),u(7,"div",4)(8,"div",5)(9,"div",6)(10,"button",7),T("click",function(){return r.toggleSection("goal")}),u(11,"span",8),d(12,"\u{1F4DC}"),f(),u(13,"span",9),d(14,"Goal of the game"),f(),u(15,"span",10),d(16),f()(),I(17,lT,31,0,"div",11),f(),u(18,"div",6)(19,"button",7),T("click",function(){return r.toggleSection("playeractions")}),u(20,"span",8),d(21,"\u{1F4DC}"),f(),u(22,"span",9),d(23,"Turn sequence: 1 - Player actions"),f(),u(24,"span",10),d(25),f()(),I(26,cT,105,0,"div",11),f(),u(27,"div",6)(28,"button",7),T("click",function(){return r.toggleSection("political")}),u(29,"span",8),d(30,"\u{1F4DC}"),f(),u(31,"span",9),d(32,"Turn sequence: 2 - Political phase"),f(),u(33,"span",10),d(34),f()(),I(35,uT,45,0,"div",11),f(),u(36,"div",6)(37,"button",7),T("click",function(){return r.toggleSection("refresh")}),u(38,"span",8),d(39,"\u{1F4DC}"),f(),u(40,"span",9),d(41,"Turn sequence: 3 - Refresh phase"),f(),u(42,"span",10),d(43),f()(),I(44,dT,34,0,"div",11),f(),u(45,"div",6)(46,"button",7),T("click",function(){return r.toggleSection("math")}),u(47,"span",8),d(48,"\u{1F4D0}"),f(),u(49,"span",9),d(50,"Mathematical Explanation"),f(),u(51,"span",10),d(52),f()(),I(53,fT,104,0,"div",11),f()()()()()),i&2&&(g(10),xe("expanded",r.isSectionExpanded("goal")),g(6),Pe(r.isSectionExpanded("goal")?"\u2212":"+"),g(),b("ngIf",r.isSectionExpanded("goal")),g(2),xe("expanded",r.isSectionExpanded("playeractions")),g(6),Pe(r.isSectionExpanded("playeractions")?"\u2212":"+"),g(),b("ngIf",r.isSectionExpanded("playeractions")),g(2),xe("expanded",r.isSectionExpanded("political")),g(6),Pe(r.isSectionExpanded("political")?"\u2212":"+"),g(),b("ngIf",r.isSectionExpanded("political")),g(2),xe("expanded",r.isSectionExpanded("refresh")),g(6),Pe(r.isSectionExpanded("refresh")?"\u2212":"+"),g(),b("ngIf",r.isSectionExpanded("refresh")),g(2),xe("expanded",r.isSectionExpanded("math")),g(6),Pe(r.isSectionExpanded("math")?"\u2212":"+"),g(),b("ngIf",r.isSectionExpanded("math")))},dependencies:[ve,Se],styles:[".dialog-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;display:flex;justify-content:center;align-items:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .2s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.dialog-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e293b,#0f172a);border-radius:12px;border:2px solid #8b5cf6;box-shadow:0 10px 40px #00000080;max-width:900px;width:90%;max-height:80vh;display:flex;flex-direction:column;animation:_ngcontent-%COMP%_slideUp .3s ease-out}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:2px solid #8b5cf6}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#a78bfa;font-size:1.75rem;font-weight:600}.close-btn[_ngcontent-%COMP%]{background:none;border:none;color:#94a3b8;font-size:1.5rem;cursor:pointer;padding:.25rem .5rem;transition:color .2s}.close-btn[_ngcontent-%COMP%]:hover{color:#f87171}.dialog-content[_ngcontent-%COMP%]{padding:1rem 2rem 2rem;overflow-y:auto;flex:1}.accordion[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.accordion-item[_ngcontent-%COMP%]{background:linear-gradient(135deg,#312e81,#1e1b4b);border:2px solid #6366f1;border-radius:8px;overflow:hidden;transition:border-color .2s}.accordion-item[_ngcontent-%COMP%]:hover{border-color:#8b5cf6}.accordion-header[_ngcontent-%COMP%]{width:100%;background:none;border:none;padding:1rem 1.5rem;display:flex;align-items:center;gap:1rem;cursor:pointer;color:#e0e7ff;font-size:1.1rem;font-weight:500;transition:background-color .2s;text-align:left}.accordion-header[_ngcontent-%COMP%]:hover{background-color:#8b5cf61a}.accordion-header.expanded[_ngcontent-%COMP%]{background-color:#8b5cf626}.accordion-icon[_ngcontent-%COMP%]{display:none;font-size:1.5rem;flex-shrink:0}.accordion-title[_ngcontent-%COMP%]{flex:1;color:#a78bfa}.accordion-toggle[_ngcontent-%COMP%]{font-size:1.5rem;color:#94a3b8;flex-shrink:0;font-weight:300;width:1.5rem;text-align:center}.accordion-content[_ngcontent-%COMP%]{padding:0 1rem 1rem;animation:_ngcontent-%COMP%_fadeIn .2s ease-out}.content-text[_ngcontent-%COMP%]{color:#e2e8f0;line-height:1.8;padding:0 1.5rem 1.5rem}.content-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#a78bfa;font-size:1.5rem;margin-bottom:1rem;font-weight:600}.content-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem}.content-text[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-left:1.5rem;margin-bottom:1rem}.content-text[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5rem}.content-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#fbbf24}@media (max-width: 768px){.dialog-container[_ngcontent-%COMP%]{width:95%;max-height:90vh}.dialog-header[_ngcontent-%COMP%]{padding:1rem}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.4rem}.dialog-content[_ngcontent-%COMP%]{padding:.75rem 1rem 1rem}.accordion-header[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:1rem}.accordion-content[_ngcontent-%COMP%]{padding:0 .75rem .75rem}.content-text[_ngcontent-%COMP%]{padding:0 1rem 1rem;font-size:.95rem}.content-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:.75rem}.content-text[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-left:.5rem;padding-left:1rem}.content-text[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.4rem}}"]})}}return t})();function hT(t,n){t&1&&(u(0,"div"),d(1," The Machine has won. "),u(2,"p"),d(3,"You have achieved Equilibrium."),f()())}function pT(t,n){if(t&1&&(u(0,"div"),d(1," Mankind has won. "),u(2,"p",8),d(3),f()()),t&2){let e=_(3);g(3),Pe(e.getLossReason())}}function gT(t,n){if(t&1&&(Ce(0),u(1,"div",6),d(2),f(),u(3,"div",7),I(4,hT,4,0,"div",4)(5,pT,4,1,"div",4),f(),be()),t&2){let e=_(2);g(2),Pe(e.getPhaseTitle()),g(2),b("ngIf",e.currentPhase===e.GamePhase.GAME_WON),g(),b("ngIf",e.currentPhase===e.GamePhase.GAME_LOST)}}function mT(t,n){if(t&1&&(Ce(0),d(1),y(2,"br")(3,"br"),d(4," Click a highlighted planet to destroy its structure. "),be()),t&2){let e=n.ngIf;g(),vu(" ",e.loyaltyStatus==="LOYAL"?"Loyal":"Rebel"," station with ",e.structureCount," adjacent ",e.loyaltyStatus==="LOYAL"?"Warhead factories":"Hydroponic farms",". ")}}function yT(t,n){t&1&&(u(0,"div",12),d(1," Evaluate structures on planets adjacent to each space station. "),u(2,"table",22)(3,"tr")(4,"td"),y(5,"img",20),f(),u(6,"td"),y(7,"img",23)(8,"img",23)(9,"img",23),f(),u(10,"td"),d(11,"Remove "),y(12,"img",23),f()(),u(13,"tr")(14,"td"),y(15,"img",20),f(),u(16,"td"),y(17,"img",23)(18,"img",24)(19,"img",24),f(),u(20,"td"),d(21,"Remove "),y(22,"img",23),f()(),u(23,"tr")(24,"td"),y(25,"img",25),f(),u(26,"td"),y(27,"img",24)(28,"img",24)(29,"img",24),f(),u(30,"td"),d(31,"Remove "),y(32,"img",24),f()(),u(33,"tr")(34,"td"),y(35,"img",25),f(),u(36,"td"),y(37,"img",23)(38,"img",23)(39,"img",24),f(),u(40,"td"),d(41,"Remove "),y(42,"img",24),f()()()())}function vT(t,n){if(t&1&&(u(0,"div",9)(1,"div",10)(2,"div",11),d(3,"ACTION"),f(),u(4,"div",12),d(5," Choose an action: "),u(6,"ul")(7,"li"),d(8,"Click station "),y(9,"img",13),d(10," to Grow"),f(),u(11,"li"),d(12,"Click planet "),y(13,"img",14),d(14," to Construct"),f(),u(15,"li"),d(16,"Click "),y(17,"img",15),d(18," to Exterminate"),f(),u(19,"li"),d(20,"Click "),y(21,"img",16),d(22," for Enslaved Labour"),f()()()(),u(23,"div",10)(24,"div",11),d(25,"POLITICAL"),f(),u(26,"div",12),I(27,mT,5,3,"ng-container",17)(28,yT,43,0,"ng-template",null,0,ym),f()(),u(30,"div",10)(31,"div",11),d(32,"REFRESH"),f(),u(33,"div",12)(34,"ul")(35,"li"),d(36,"Each "),y(37,"img",18),d(38," produces 1 "),y(39,"img",19),f(),u(40,"li"),d(41,"Spend 1 "),y(42,"img",19),d(43," per "),y(44,"img",20),d(45," or lose "),y(46,"img",21),f(),u(47,"li"),d(48,"Victory conditions are checked"),f()()()()()),t&2){let e=fm(29),i=_(2);g(),xe("active",i.currentPhase===i.GamePhase.PLAYER_ACTION),D("aria-current",i.currentPhase===i.GamePhase.PLAYER_ACTION?"true":null),g(22),xe("active",i.currentPhase===i.GamePhase.POLITICAL),D("aria-current",i.currentPhase===i.GamePhase.POLITICAL?"true":null),g(4),b("ngIf",i.getCurrentPoliticalEvent())("ngIfElse",e),g(3),xe("active",i.currentPhase===i.GamePhase.REFRESH),D("aria-current",i.currentPhase===i.GamePhase.REFRESH?"true":null)}}function _T(t,n){if(t&1&&(u(0,"div",3),I(1,gT,6,3,"ng-container",4)(2,vT,49,11,"div",5),f()),t&2){let e=_();g(),b("ngIf",e.currentPhase===e.GamePhase.GAME_WON||e.currentPhase===e.GamePhase.GAME_LOST),g(),b("ngIf",e.currentPhase!==e.GamePhase.GAME_WON&&e.currentPhase!==e.GamePhase.GAME_LOST)}}var U0=(()=>{class t{constructor(e,i){this.gameState=e,this.politicalPhaseService=i,this.GamePhase=V,this.currentPhase=null,this.currentTurn=0,this.currentUnrest=0,this.currentWarheads=0,this.currentDominion=0,this.currentCollapse=0,this.pendingPoliticalEvents=[],this.currentEventIndex=0}ngOnInit(){this.gameState.state$.subscribe(e=>{if(e)if(this.currentPhase=e.currentPhase,this.currentTurn=e.turnNumber,this.currentUnrest=e.unrest,this.currentWarheads=e.warheads,this.currentDominion=e.dominion,this.currentCollapse=e.topology.collapse,e.currentPhase===V.POLITICAL){if(this.politicalPhaseService.shouldExecutePoliticalPhase(e)){let i=this.politicalPhaseService.executePoliticalPhase(e);this.politicalPhaseService.getEventsRequiringChoice(i).length>0&&(this.pendingPoliticalEvents=i,this.currentEventIndex=0)}}else this.pendingPoliticalEvents=[],this.currentEventIndex=0})}getCurrentPoliticalEvent(){if(this.pendingPoliticalEvents.length===0)return null;for(let e=0;e<this.pendingPoliticalEvents.length;e++){let i=this.pendingPoliticalEvents[e];if(i.requiresPlayerChoice&&!i.chosenPlanetId)return this.currentEventIndex=e,i}return null}getPhaseTitle(){switch(this.currentPhase){case V.PLAYER_ACTION:return"ACTION PHASE";case V.POLITICAL:return"POLITICAL PHASE";case V.REFRESH:return"REFRESH PHASE";case V.GAME_WON:return"VICTORY";case V.GAME_LOST:return"DEFEAT";default:return""}}getLossReason(){let e=this.currentUnrest>=this.currentDominion,i=this.currentDominion<=this.currentCollapse;return e?`Unrest (${this.currentUnrest}) has reached the Dominion level (${this.currentDominion}).
The population has overwhelmed your control.`:i?`Dominion (${this.currentDominion}) has fallen to the level of Collapse (${this.currentCollapse}).
Your authority has crumbled.`:"The solar system has fallen into chaos."}static{this.\u0275fac=function(i){return new(i||t)(P(ht),P(et))}}static{this.\u0275cmp=fe({type:t,selectors:[["app-phase-indicator"]],standalone:!0,features:[he],decls:2,vars:1,consts:[["noPoliticalEvents",""],["role","region","aria-label","Game phase information",1,"phase-indicator"],["class","phase-content","aria-live","polite","aria-atomic","true",4,"ngIf"],["aria-live","polite","aria-atomic","true",1,"phase-content"],[4,"ngIf"],["class","phases-container",4,"ngIf"],[1,"phase-title"],[1,"phase-instructions"],[2,"white-space","pre-line"],[1,"phases-container"],[1,"phase-box"],[1,"phase-box-title"],[1,"phase-box-content"],["width","16","src","assets/neutralstation.png","alt","Space station icon"],["width","16","src","assets/planet.png","alt","Planet icon"],["width","16","src","assets/exterminate.png","alt","Exterminate icon"],["width","16","src","assets/enslavedlabour.png","alt","Enslaved labour icon"],[4,"ngIf","ngIfElse"],["width","16","src","assets/warheadfactory.png","alt","Warhead factory"],["width","16","src","assets/warhead.png","alt","Warhead"],["width","16","src","assets/rebelstation.png","alt","Rebel station"],["width","16","src","assets/dominion.png","alt","Dominion"],["aria-label","Political phase examples"],["width","16","src","assets/hydroponicfarm.png","alt","Farm"],["width","16","src","assets/warheadfactory.png","alt","Factory"],["width","16","src","assets/loyalstation.png","alt","Loyal station"]],template:function(i,r){i&1&&(u(0,"div",1),I(1,_T,3,2,"div",2),f()),i&2&&(g(),b("ngIf",r.currentPhase!==null))},dependencies:[ve,Se],styles:[".phase-indicator[_ngcontent-%COMP%]{background:#1e293b;border:2px solid #fbbf24;border-radius:8px;padding:16px;box-shadow:0 4px 6px #0000004d;width:100%;min-width:100%;box-sizing:border-box}.phase-indicator[_ngcontent-%COMP%]   .phase-content[_ngcontent-%COMP%]{flex:1;width:100%}.phase-indicator[_ngcontent-%COMP%]   .phase-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#fbbf24;margin-bottom:12px;text-align:center;letter-spacing:.05em}.phase-indicator[_ngcontent-%COMP%]   .phase-instructions[_ngcontent-%COMP%]{font-size:14px;color:#cbd5e1;line-height:1.6;max-width:100%;overflow-wrap:break-word;word-wrap:break-word}.phase-indicator[_ngcontent-%COMP%]   .phase-instructions[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:8px 0;padding-left:20px;text-align:left}.phase-indicator[_ngcontent-%COMP%]   .phase-instructions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:4px 0}.phase-indicator[_ngcontent-%COMP%]   .phase-instructions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:100%;overflow-wrap:break-word;word-wrap:break-word}.phase-indicator[_ngcontent-%COMP%]   .phases-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.phase-indicator[_ngcontent-%COMP%]   .phase-box[_ngcontent-%COMP%]{flex:1;min-width:0;background:#1e293b99;border:2px solid rgba(148,163,184,.3);border-radius:6px;padding:12px;transition:background .8s ease,border-color .8s ease,box-shadow .8s ease,opacity .8s ease}.phase-indicator[_ngcontent-%COMP%]   .phase-box.active[_ngcontent-%COMP%]{background:#fbbf2426;border-color:#fbbf24;box-shadow:0 0 12px #fbbf2466}.phase-indicator[_ngcontent-%COMP%]   .phase-box.active[_ngcontent-%COMP%]   .phase-box-title[_ngcontent-%COMP%]{color:#fbbf24;text-shadow:0 0 8px rgba(251,191,36,.6)}.phase-indicator[_ngcontent-%COMP%]   .phase-box[_ngcontent-%COMP%]:not(.active){opacity:.8}.phase-indicator[_ngcontent-%COMP%]   .phase-box[_ngcontent-%COMP%]:not(.active)   .phase-box-title[_ngcontent-%COMP%]{color:#94a3b8}.phase-indicator[_ngcontent-%COMP%]   .phase-box-title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-bottom:8px;text-align:center;letter-spacing:.05em;transition:color .8s ease,text-shadow .8s ease}.phase-indicator[_ngcontent-%COMP%]   .phase-box-content[_ngcontent-%COMP%]{font-size:16px;color:#cbd5e1;line-height:1.4}.phase-indicator[_ngcontent-%COMP%]   .phase-box-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:4px 0;padding-left:20px;text-align:left;list-style-type:disc}.phase-indicator[_ngcontent-%COMP%]   .phase-box-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:2px 0;display:list-item}.phase-indicator[_ngcontent-%COMP%]   .phase-box-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{vertical-align:middle}.phase-indicator[_ngcontent-%COMP%]   .phase-box-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-spacing:10px}.phase-indicator[_ngcontent-%COMP%]   .phase-box-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-left:0px 50px;text-align:center}.phase-indicator[_ngcontent-%COMP%]   .phase-passive-text[_ngcontent-%COMP%]{color:#94a3b8;font-style:italic;font-size:16px;line-height:1.5}@media (max-width: 768px){.phase-indicator[_ngcontent-%COMP%]{padding:12px}.phase-indicator[_ngcontent-%COMP%]   .phase-title[_ngcontent-%COMP%]{font-size:20px;margin-bottom:8px}.phase-indicator[_ngcontent-%COMP%]   .phase-instructions[_ngcontent-%COMP%]{font-size:13px}.phase-indicator[_ngcontent-%COMP%]   .phase-instructions[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:16px}.phase-indicator[_ngcontent-%COMP%]   .phases-container[_ngcontent-%COMP%]{gap:8px}.phase-indicator[_ngcontent-%COMP%]   .phase-box[_ngcontent-%COMP%]{padding:10px}.phase-indicator[_ngcontent-%COMP%]   .phase-box-title[_ngcontent-%COMP%]{font-size:16px;margin-bottom:6px}.phase-indicator[_ngcontent-%COMP%]   .phase-box-content[_ngcontent-%COMP%]{font-size:14px}.phase-indicator[_ngcontent-%COMP%]   .phase-box-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:16px}.phase-indicator[_ngcontent-%COMP%]   .phase-box-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:13px;display:list-item}.phase-indicator[_ngcontent-%COMP%]   .phase-box-content[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-spacing:5px}.phase-indicator[_ngcontent-%COMP%]   .phase-passive-text[_ngcontent-%COMP%]{font-size:14px}}"]})}}return t})();function CT(t,n){if(t&1){let e=le();u(0,"div",6),T("click",function(r){return F(e),L(r.stopPropagation())}),u(1,"p"),d(2," Long after the sun stopped burning, life persists in a distant solar system. "),f(),u(3,"p"),d(4," Planets are inhabited by robots controlled by the Machine, an artificial intelligence that pursues mysterious goals, dictating "),u(5,"strong"),d(6,"production"),f(),d(7," and routing vast amounts of resources along "),u(8,"strong"),d(9,"fixed paths"),f(),d(10," with a logic that humans cannot comprehend."),f(),u(11,"p"),d(12," The last remnants of mankind, confined in small space stations that orbit the inhabitable planets, are forced to "),u(13,"strong"),d(14,"labour"),f(),d(15," to extract the huge amount of resources needed to support the Machine's empire. "),f(),u(16,"p")(17,"strong"),d(18,"You are the Machine"),f(),d(19,". "),f(),u(20,"p"),d(21,"Exploit the last wretched humans to attain your secret purpose: reaching "),u(22,"strong"),d(23,"Equilibrium"),f(),d(24,". "),f(),u(25,"div",7)(26,"button",8),T("click",function(){F(e);let r=_(2);return L(r.startTutorial())}),d(27," Start Tutorial "),f(),u(28,"button",9),T("click",function(){F(e);let r=_(2);return L(r.closeOverlay())}),d(29," Skip to Game "),f()(),u(30,"p",10),d(31," Press ESC to skip tutorial "),f()()}}function bT(t,n){if(t&1){let e=le();u(0,"div",11),y(1,"p",12),Dn(2,"newlineToBr"),u(3,"button",13),T("click",function(){F(e);let r=_(2);return L(r.closeOverlay())}),d(4,"Continue"),f()()}if(t&2){let e=_(2);g(),b("innerHTML",xn(2,1,e.message),zi)}}function wT(t,n){if(t&1){let e=le();u(0,"div",1),T("click",function(){F(e);let r=_();return L(r.closeOverlay())}),u(1,"div",2)(2,"h1",3),d(3),f(),I(4,CT,32,0,"div",4)(5,bT,5,3,"div",5),f()()}if(t&2){let e=_();b("@fadeInOut",e.animationState),g(3),Pe(e.title),g(),b("ngIf",e.overlayType==="intro"),g(),b("ngIf",e.overlayType==="victory"||e.overlayType==="defeat")}}var pt=function(t){return t.INTRO="intro",t.VICTORY="victory",t.DEFEAT="defeat",t.HIDDEN="hidden",t}(pt||{}),ST=(()=>{class t{transform(e){return e?e.replace(/\n/g,"<br>"):""}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275pipe=bs({name:"newlineToBr",type:t,pure:!0,standalone:!0})}}return t})(),G0=(()=>{class t{constructor(e,i,r,o,s){this.gameState=e,this.winCondition=i,this.tutorialService=r,this.parser=o,this.analytics=s,this.destroy$=new we,this.overlayType=pt.INTRO,this.isVisible=!0,this.introText="",this.victoryMessage="",this.defeatMessage="",this.boundHandleKeyDown=this.handleKeyDown.bind(this)}ngOnInit(){this.overlayType=pt.INTRO,this.isVisible=!0,document.addEventListener("keydown",this.boundHandleKeyDown),this.gameState.state$.pipe(De(this.destroy$)).subscribe(e=>{if(!e)return;let i=this.tutorialService.isActive();e.currentPhase===V.GAME_WON&&!i?this.showVictory():e.currentPhase===V.GAME_LOST&&!i&&this.showDefeat(e)}),this.tutorialService.state$.pipe(De(this.destroy$)).subscribe(e=>{if(e.completed&&!e.enabled){let i=this.gameState.getCurrentState();i&&i.currentPhase===V.GAME_WON&&this.showVictory()}})}handleKeyDown(e){e.key==="Escape"&&this.isVisible&&this.closeOverlay()}ngOnDestroy(){document.removeEventListener("keydown",this.boundHandleKeyDown),this.destroy$.next(),this.destroy$.complete()}showVictory(){this.victoryMessage=`Equilibrium achieved.
The Machine has won.`,this.overlayType=pt.VICTORY,this.isVisible=!0;let e=this.gameState.getCurrentState();this.analytics.trackVictory(e?.topologyId,e?.topologyName)}showDefeat(e){let i=e.unrest>=e.dominion,r=e.dominion<=e.topology.collapse,o="";i?o=`Unrest (${e.unrest}) has reached the Dominion level (${e.dominion}).
The population has overwhelmed your control.`:r?o=`Dominion (${e.dominion}) has collapsed below the threshold (${e.topology.collapse}).
Your authority has crumbled.`:o="The solar system has fallen into chaos.",this.defeatMessage=`${o}`,this.overlayType=pt.DEFEAT,this.isVisible=!0,this.analytics.trackDefeat(e.topologyId,e.topologyName)}closeOverlay(){this.isVisible=!1,setTimeout(()=>{this.overlayType=pt.HIDDEN},300)}startTutorial(){let e=di.find(i=>i.id==="tutorial");if(e){let i=this.parser.parse(e.topologyString,e.starImage,e.starGlowColor);this.gameState.initializeGame(i,!1,e.id,e.name),this.tutorialService.startTutorial(),this.closeOverlay()}}get animationState(){return this.isVisible?"visible":"hidden"}get title(){switch(this.overlayType){case pt.INTRO:return"EQUILIBRIUM";case pt.VICTORY:return"VICTORY";case pt.DEFEAT:return"DEFEAT";default:return""}}get message(){switch(this.overlayType){case pt.INTRO:return this.introText;case pt.VICTORY:return this.victoryMessage;case pt.DEFEAT:return this.defeatMessage;default:return""}}get shouldShow(){return this.overlayType!==pt.HIDDEN}static{this.\u0275fac=function(i){return new(i||t)(P(ht),P(Va),P(tt),P(sr),P(Nn))}}static{this.\u0275cmp=fe({type:t,selectors:[["app-game-overlay"]],standalone:!0,features:[he],decls:1,vars:1,consts:[["class","overlay",3,"click",4,"ngIf"],[1,"overlay",3,"click"],[1,"overlay-content"],[1,"overlay-title"],["class","overlay-message",3,"click",4,"ngIf"],["class","overlay-message",4,"ngIf"],[1,"overlay-message",3,"click"],[1,"overlay-buttons"],[1,"overlay-button","tutorial-button",3,"click"],[1,"overlay-button","skip-button",3,"click"],[1,"overlay-hint"],[1,"overlay-message"],[1,"overlay-result",3,"innerHTML"],[1,"overlay-button",3,"click"]],template:function(i,r){i&1&&I(0,wT,6,4,"div",0),i&2&&b("ngIf",r.shouldShow)},dependencies:[ve,Se,ST],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000e6;display:flex;justify-content:center;align-items:center;z-index:10000;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.overlay-content[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e293b,#0f172a);border:2px solid #fbbf24;border-radius:12px;padding:3rem;width:700px;max-width:90vw;max-height:80vh;overflow-y:auto;box-shadow:0 20px 60px #fbbf244d;animation:_ngcontent-%COMP%_slideIn .4s ease-out;box-sizing:border-box}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-30px) scale(.95);opacity:0}to{transform:translateY(0) scale(1);opacity:1}}.overlay-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#fbbf24;text-align:center;margin-bottom:2rem;text-transform:uppercase;letter-spacing:.15em;text-shadow:0 0 20px rgba(251,191,36,.5)}.overlay-message[_ngcontent-%COMP%]{color:#e2e8f0;font-size:1.1rem;line-height:1.8;text-align:justify}.overlay-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1.25rem}.overlay-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.overlay-message[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#fbbf24;font-weight:600}.overlay-hint[_ngcontent-%COMP%]{text-align:center;font-style:italic;color:#94a3b8;margin-top:2rem;font-size:.95rem}.overlay-result[_ngcontent-%COMP%]{white-space:pre-line;text-align:center;font-size:1.2rem;color:#fef3c7;margin-bottom:2rem;line-height:1.6}.overlay-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem;margin-top:2rem;flex-wrap:wrap}.overlay-button[_ngcontent-%COMP%]{padding:.75rem 2rem;background:linear-gradient(135deg,#fbbf24,#f59e0b);color:#1e293b;border:none;border-radius:6px;font-size:1rem;font-weight:700;cursor:pointer;transition:all .2s ease;text-transform:uppercase;letter-spacing:.05em;box-shadow:0 4px 12px #fbbf2466}.overlay-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 16px #fbbf2499;background:linear-gradient(135deg,#fcd34d,#fbbf24)}.overlay-button[_ngcontent-%COMP%]:active{transform:translateY(0)}.overlay-button.tutorial-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#7c3aed);color:#fff;box-shadow:0 4px 12px #8b5cf666}.overlay-button.tutorial-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#a78bfa,#8b5cf6);box-shadow:0 6px 16px #8b5cf699}.overlay-button.skip-button[_ngcontent-%COMP%]{background:transparent;border:2px solid #64748b;color:#94a3b8;box-shadow:none}.overlay-button.skip-button[_ngcontent-%COMP%]:hover{border-color:#fbbf24;color:#fbbf24;box-shadow:0 4px 12px #fbbf244d}.overlay-message[_ngcontent-%COMP%]:has(.overlay-result)   .overlay-button[_ngcontent-%COMP%]{display:block;margin:2rem auto 0}.overlay-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.overlay-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0f172a80;border-radius:4px}.overlay-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#fbbf24;border-radius:4px}.overlay-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#fcd34d}@media (max-width: 768px){.overlay-content[_ngcontent-%COMP%]{padding:1.5rem;width:95vw;max-width:95vw}.overlay-title[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:1.5rem}.overlay-message[_ngcontent-%COMP%]{font-size:1rem}.overlay-result[_ngcontent-%COMP%]{font-size:1.1rem}.overlay-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}.overlay-button[_ngcontent-%COMP%]{padding:.6rem 1.5rem;font-size:.9rem;width:100%}}"],data:{animation:[Dy("fadeInOut",[Pd("visible",nr({opacity:1})),Pd("hidden",nr({opacity:0,pointerEvents:"none"})),Ad("hidden => visible",Td("300ms ease-in")),Ad("visible => hidden",Td("300ms ease-out"))])]}})}}return t})();function ET(t,n){if(t&1){let e=le();u(0,"div",2),T("click",function(){let r=F(e).$implicit,o=_();return L(o.close(r.id))}),u(1,"span",3),d(2),f(),u(3,"button",4),T("click",function(){let r=F(e).$implicit,o=_();return L(o.close(r.id))}),d(4," \u2715 "),f()()}if(t&2){let e=n.$implicit;cm("notification notification-",e.type,""),D("aria-live",e.type==="error"?"assertive":"polite"),g(2),Pe(e.message)}}var z0=(()=>{class t{constructor(e){this.notificationService=e}get notifications$(){return this.notificationService.notifications}close(e){this.notificationService.removeNotification(e)}static{this.\u0275fac=function(i){return new(i||t)(P(Cf))}}static{this.\u0275cmp=fe({type:t,selectors:[["app-notification-banner"]],standalone:!0,features:[he],decls:3,vars:3,consts:[[1,"notification-container"],["role","alert",3,"class","click",4,"ngFor","ngForOf"],["role","alert",3,"click"],[1,"notification-message"],["aria-label","Close notification",1,"notification-close",3,"click"]],template:function(i,r){i&1&&(u(0,"div",0),I(1,ET,5,5,"div",1),Dn(2,"async"),f()),i&2&&(g(),b("ngForOf",xn(2,1,r.notifications$)))},dependencies:[ve,Ut,Qs],styles:[".notification-container[_ngcontent-%COMP%]{position:fixed;top:80px;right:20px;z-index:10000;display:flex;flex-direction:column;gap:10px;max-width:400px}.notification[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-radius:6px;box-shadow:0 4px 12px #0000004d;cursor:pointer;animation:_ngcontent-%COMP%_slideIn .3s ease-out;min-width:300px;border:2px solid}.notification-error[_ngcontent-%COMP%]{background:#dc2626;color:#fff;border-color:#b91c1c}.notification-warning[_ngcontent-%COMP%]{background:#f59e0b;color:#1e293b;border-color:#d97706}.notification-info[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;border-color:#2563eb}.notification-message[_ngcontent-%COMP%]{flex:1;font-size:14px;line-height:1.4}.notification-close[_ngcontent-%COMP%]{background:none;border:none;color:inherit;font-size:18px;cursor:pointer;padding:0 4px;margin-left:12px;opacity:.8;transition:opacity .2s}.notification-close[_ngcontent-%COMP%]:hover{opacity:1}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(400px);opacity:0}to{transform:translate(0);opacity:1}}@media (max-width: 768px){.notification-container[_ngcontent-%COMP%]{left:10px;right:10px;max-width:none}.notification[_ngcontent-%COMP%]{min-width:0}}"]})}}return t})();function DT(t,n){if(t&1){let e=le();u(0,"button",14),T("click",function(){F(e);let r=_(2);return L(r.onBack())}),d(1," \u2190 Back "),f()}}function xT(t,n){if(t&1){let e=le();u(0,"button",15),T("click",function(){F(e);let r=_(2);return L(r.onContinue())}),d(1),f()}if(t&2){let e=_(2);g(),ce(" ",e.getContinueButtonText()," ")}}function IT(t,n){t&1&&(u(0,"span",16),d(1," Complete the action to continue "),f())}function MT(t,n){if(t&1){let e=le();u(0,"div",2)(1,"div",3)(2,"span",4),d(3),f(),u(4,"button",5),T("click",function(){F(e);let r=_();return L(r.onSkip())}),d(5," Skip Tutorial "),f()(),u(6,"div",6)(7,"h3",7),d(8),f(),y(9,"div",8),f(),u(10,"div",9),I(11,DT,2,0,"button",10),u(12,"div",11),I(13,xT,2,1,"button",12)(14,IT,2,0,"span",13),f()()()}if(t&2){let e,i=_();g(3),yu(" Step ",((e=i.tutorialState==null?null:i.tutorialState.currentStep)!==null&&e!==void 0?e:0)+1," of ",i.tutorialState==null?null:i.tutorialState.totalSteps," "),g(5),Pe(i.currentStep.title),g(),b("innerHTML",i.getFormattedInstruction(),zi),g(2),b("ngIf",i.canGoBack()),g(2),b("ngIf",i.shouldShowContinueButton()),g(),b("ngIf",!i.shouldShowContinueButton())}}function TT(t,n){if(t&1){let e=le();u(0,"div",17),T("click",function(){F(e);let r=_();return L(r.cancelSkip())}),u(1,"div",18),T("click",function(r){return F(e),L(r.stopPropagation())}),u(2,"div",19)(3,"h3"),d(4,"Skip Tutorial?"),f()(),u(5,"div",20)(6,"p"),d(7,"Are you sure you want to skip the tutorial?"),f(),u(8,"p"),d(9,"You can replay it later by clicking the Tutorial button."),f()(),u(10,"div",21)(11,"button",22),T("click",function(){F(e);let r=_();return L(r.cancelSkip())}),d(12," Cancel "),f(),u(13,"button",23),T("click",function(){F(e);let r=_();return L(r.confirmSkip())}),d(14," Skip Tutorial "),f()()()()}}var W0=(()=>{class t{constructor(e,i,r,o){this.tutorialService=e,this.cdr=i,this.sanitizer=r,this.gameState=o,this.destroy$=new we,this.tutorialState=null,this.currentStep=null,this.showOverlay=!1,this.showSkipConfirmation=!1}ngOnInit(){this.tutorialService.state$.pipe(De(this.destroy$)).subscribe(e=>{this.tutorialState=e,this.showOverlay=e.enabled,this.currentStep=this.tutorialService.getCurrentStep(),this.cdr.markForCheck()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onContinue(){this.tutorialService.advanceStep()}onBack(){this.gameState.undo(),this.tutorialService.goBackStep()}canGoBack(){return this.tutorialService.canGoBack()}onSkip(){this.showSkipConfirmation=!0,this.cdr.markForCheck()}confirmSkip(){this.showSkipConfirmation=!1,this.tutorialService.skipTutorial(),this.cdr.markForCheck()}cancelSkip(){this.showSkipConfirmation=!1,this.cdr.markForCheck()}getContinueButtonText(){return this.currentStep&&this.currentStep.continueButtonText||"Continue"}shouldShowContinueButton(){return this.currentStep?.requiresContinueButton??!1}getFormattedInstruction(){let e=this.currentStep?.instruction||"";return e=e.replace(/\bEnslaved Labour\b/g,i=>`${i} <img width="16" src="assets/enslavedlabour.png" alt="Enslaved Labour" style="vertical-align: middle">`),e=e.replace(/\bWarhead Factor(y|ies)\b/g,i=>`${i} <img width="16" src="assets/warheadfactory.png" alt="Warhead Factory" style="vertical-align: middle">`),e=e.replace(/\bHydroponic Farms?\b/g,i=>`${i} <img width="16" src="assets/hydroponicfarm.png" alt="Hydroponic Farm" style="vertical-align: middle">`),e=e.replace(/\bwarheads?\b(?! Factor)/gi,i=>`${i} <img width="16" src="assets/warhead.png" alt="Warhead" style="vertical-align: middle">`),e=e.replace(/\bcrystals?\b/gi,i=>`${i} \u{1F48E}`),e=e.replace(/\bpopulation\b(?! growth)/gi,i=>`${i} \u{1F464}`),e=e.replace(/\bunrest\b/gi,i=>`${i} <img width="16" src="assets/unrest.png" alt="Unrest" style="vertical-align: middle">`),e=e.replace(/\bdominion\b/gi,i=>`${i} <img width="16" src="assets/dominion.png" alt="Dominion" style="vertical-align: middle">`),e=e.replace(/\bcollapse\b/gi,i=>`${i} <img width="16" src="assets/collapse.png" alt="Collapse" style="vertical-align: middle">`),e=e.replace(/\bExterminate\b/g,i=>`${i} <img width="16" src="assets/exterminate.png" alt="Exterminate" style="vertical-align: middle">`),e=e.replace(/\bLOYAL\b/g,i=>`${i} <img width="16" src="assets/loyalstation.png" alt="Loyal station" style="vertical-align: middle">`),e=e.replace(/\bNEUTRAL\b/g,i=>`${i} <img width="16" src="assets/neutralstation.png" alt="Neutral station" style="vertical-align: middle">`),e=e.replace(/\bREBEL\b/g,i=>`${i} <img width="16" src="assets/rebelstation.png" alt="Rebel station" style="vertical-align: middle">`),e=e.replace(/\n/g,"<br>"),this.sanitizer.bypassSecurityTrustHtml(e)}static{this.\u0275fac=function(i){return new(i||t)(P(tt),P(_t),P(Hu),P(ht))}}static{this.\u0275cmp=fe({type:t,selectors:[["app-tutorial-overlay"]],standalone:!0,features:[he],decls:2,vars:2,consts:[["class","tutorial-overlay",4,"ngIf"],["class","confirmation-overlay",3,"click",4,"ngIf"],[1,"tutorial-overlay"],[1,"tutorial-header"],[1,"tutorial-step"],[1,"tutorial-skip",3,"click"],[1,"tutorial-content"],[1,"tutorial-title"],[1,"tutorial-instruction",3,"innerHTML"],[1,"tutorial-footer"],["class","tutorial-back",3,"click",4,"ngIf"],[1,"tutorial-footer-right"],["class","tutorial-continue",3,"click",4,"ngIf"],["class","tutorial-hint",4,"ngIf"],[1,"tutorial-back",3,"click"],[1,"tutorial-continue",3,"click"],[1,"tutorial-hint"],[1,"confirmation-overlay",3,"click"],[1,"confirmation-dialog",3,"click"],[1,"confirmation-header"],[1,"confirmation-content"],[1,"confirmation-actions"],[1,"confirmation-btn","cancel-btn",3,"click"],[1,"confirmation-btn","confirm-btn",3,"click"]],template:function(i,r){i&1&&I(0,MT,15,7,"div",0)(1,TT,15,0,"div",1),i&2&&(b("ngIf",r.showOverlay&&r.currentStep),g(),b("ngIf",r.showSkipConfirmation))},dependencies:[ve,Se],styles:[".tutorial-overlay[_ngcontent-%COMP%]{position:fixed;z-index:9999;background:linear-gradient(135deg,#1e293b,#0f172a);border:2px solid #fbbf24;border-radius:8px;padding:1.5rem;box-shadow:0 10px 40px #fbbf2466}@media (min-width: 768px){.tutorial-overlay[_ngcontent-%COMP%]{top:20px;right:20px;width:500px;max-height:calc(100vh - 40px);overflow-y:auto;animation:_ngcontent-%COMP%_slideInRight .3s ease-out}}@media (max-width: 767px){.tutorial-overlay[_ngcontent-%COMP%]{bottom:0;left:0;right:0;width:100%;max-height:40vh;overflow-y:auto;border-radius:8px 8px 0 0;animation:_ngcontent-%COMP%_slideUp .3s ease-out}}.tutorial-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.tutorial-header[_ngcontent-%COMP%]   .tutorial-step[_ngcontent-%COMP%]{color:#fbbf24;font-weight:700;font-size:.9rem}.tutorial-header[_ngcontent-%COMP%]   .tutorial-skip[_ngcontent-%COMP%]{background:transparent;border:1px solid #64748b;color:#94a3b8;padding:.25rem .75rem;border-radius:4px;cursor:pointer;font-size:.85rem;transition:all .2s ease}.tutorial-header[_ngcontent-%COMP%]   .tutorial-skip[_ngcontent-%COMP%]:hover{border-color:#fbbf24;color:#fbbf24}.tutorial-content[_ngcontent-%COMP%]   .tutorial-title[_ngcontent-%COMP%]{color:#fbbf24;font-size:1.1rem;font-weight:700;margin:0 0 .75rem}.tutorial-content[_ngcontent-%COMP%]   .tutorial-instruction[_ngcontent-%COMP%]{color:#e2e8f0;line-height:1.6;white-space:pre-line;font-size:.95rem}.tutorial-footer[_ngcontent-%COMP%]{margin-top:1rem;display:flex;justify-content:space-between;align-items:center;gap:1rem}.tutorial-footer[_ngcontent-%COMP%]   .tutorial-back[_ngcontent-%COMP%]{background:transparent;border:2px solid #64748b;color:#94a3b8;padding:.5rem 1rem;border-radius:4px;font-weight:700;cursor:pointer;font-size:.95rem;transition:all .2s ease}.tutorial-footer[_ngcontent-%COMP%]   .tutorial-back[_ngcontent-%COMP%]:hover{border-color:#8b5cf6;color:#a78bfa}.tutorial-footer[_ngcontent-%COMP%]   .tutorial-footer-right[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:1rem;flex:1}.tutorial-footer[_ngcontent-%COMP%]   .tutorial-continue[_ngcontent-%COMP%]{background:#fbbf24;color:#0f172a;border:none;padding:.5rem 1.5rem;border-radius:4px;font-weight:700;cursor:pointer;font-size:.95rem;transition:background .2s ease}.tutorial-footer[_ngcontent-%COMP%]   .tutorial-continue[_ngcontent-%COMP%]:hover{background:#f59e0b}.tutorial-footer[_ngcontent-%COMP%]   .tutorial-hint[_ngcontent-%COMP%]{color:#94a3b8;font-size:.85rem;font-style:italic}@keyframes _ngcontent-%COMP%_slideInRight{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}.confirmation-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000000b3;display:flex;justify-content:center;align-items:center;z-index:10000;animation:_ngcontent-%COMP%_fadeIn .2s ease-out}.confirmation-dialog[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e293b,#0f172a);border-radius:12px;border:2px solid #8b5cf6;box-shadow:0 10px 40px #00000080;max-width:500px;width:90%;animation:_ngcontent-%COMP%_dialogSlideUp .3s ease-out}.confirmation-header[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:2px solid #8b5cf6}.confirmation-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#a78bfa;font-size:1.5rem;font-weight:600}.confirmation-content[_ngcontent-%COMP%]{padding:1.5rem;color:#e2e8f0;line-height:1.6}.confirmation-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 .75rem}.confirmation-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.confirmation-actions[_ngcontent-%COMP%]{padding:1rem 1.5rem 1.5rem;display:flex;justify-content:flex-end;gap:1rem}.confirmation-btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:6px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s ease}.confirmation-btn.cancel-btn[_ngcontent-%COMP%]{background:transparent;border:2px solid #64748b;color:#94a3b8}.confirmation-btn.cancel-btn[_ngcontent-%COMP%]:hover{border-color:#8b5cf6;color:#a78bfa}.confirmation-btn.confirm-btn[_ngcontent-%COMP%]{background:#ef4444;color:#fff}.confirmation-btn.confirm-btn[_ngcontent-%COMP%]:hover{background:#dc2626}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_dialogSlideUp{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}@media (max-width: 768px){.confirmation-dialog[_ngcontent-%COMP%]{width:95%}.confirmation-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem}.confirmation-actions[_ngcontent-%COMP%]{flex-direction:column-reverse}.confirmation-actions[_ngcontent-%COMP%]   .confirmation-btn[_ngcontent-%COMP%]{width:100%}}"],changeDetection:0})}}return t})();function PT(t,n){if(t&1){let e=le();u(0,"div",3)(1,"div",4)(2,"h1"),d(3,"Equilibrium"),f(),u(4,"div",5)(5,"span"),d(6),f(),u(7,"button",6),T("click",function(){F(e);let r=_();return L(r.startTutorial())}),d(8," \u{1F393} Tutorial "),f(),u(9,"button",7),T("click",function(){F(e);let r=_();return L(r.openHowToPlay())}),d(10," \u2753 How to Play "),f()(),u(11,"div",8)(12,"button",9),T("click",function(){F(e);let r=_();return L(r.newGame())}),d(13," \u{1F504} New Game "),f(),u(14,"button",10),Dn(15,"async"),T("click",function(){F(e);let r=_();return L(r.undo())}),d(16," \u21B6 Undo "),f(),u(17,"button",11),Dn(18,"async"),T("click",function(){F(e);let r=_();return L(r.redo())}),d(19," \u21B7 Redo "),f()()(),u(20,"div",4)(21,"h3")(22,"span",12),d(23,"E"),f(),d(24,"nslave. "),u(25,"span",12),d(26,"E"),f(),d(27,"xterminate. Find an "),u(28,"a",13),T("click",function(){F(e);let r=_();return L(r.onEinsteinLinkClick())}),u(29,"span",12),d(30,"E"),f(),d(31,"instein"),f(),d(32," metric. "),f()(),u(33,"div",14)(34,"div",15),y(35,"app-solar-system-viz"),f(),u(36,"div",16),y(37,"app-phase-indicator"),f()()()}if(t&2){let e=n.ngIf,i=_();g(6),ce("Turn: ",e.turnNumber,""),g(6),b("disabled",i.isTutorialActive),g(2),b("disabled",!xn(15,4,i.canUndo$)||i.isTutorialActive),g(3),b("disabled",!xn(18,6,i.canRedo$)||i.isTutorialActive)}}function AT(t,n){if(t&1){let e=le();u(0,"app-topology-selection-dialog",17),T("topologySelected",function(r){F(e);let o=_();return L(o.onTopologySelected(r))})("closed",function(){F(e);let r=_();return L(r.onDialogClosed())}),f()}}function OT(t,n){if(t&1){let e=le();u(0,"app-how-to-play-dialog",18),T("closed",function(){F(e);let r=_();return L(r.onHowToPlayClosed())}),f()}}var q0=(()=>{class t{constructor(e,i,r,o){this.gameState=e,this.parser=i,this.tutorialService=r,this.analytics=o,this.GamePhase=V,this.showTopologyDialog=!1,this.showHowToPlayDialog=!1,this.state$=this.gameState.state$,this.canUndo$=this.gameState.canUndo$,this.canRedo$=this.gameState.canRedo$}ngOnInit(){if(!this.gameState.getCurrentState()){let e=di.find(i=>i.id===r0);if(e){let i=this.parser.parse(e.topologyString,e.starImage,e.starGlowColor);this.gameState.initializeGame(i,!1,e.id,e.name)}}}undo(){this.gameState.undo()}redo(){this.gameState.redo()}newGame(){this.showTopologyDialog=!0}openHowToPlay(){this.showHowToPlayDialog=!0}onTopologySelected(e){let i=this.parser.parse(e.topologyString,e.starImage,e.starGlowColor);this.gameState.initializeGame(i,!1,e.id,e.name),this.showTopologyDialog=!1,this.analytics.trackNewGame(e.id,e.name)}onDialogClosed(){this.showTopologyDialog=!1}onHowToPlayClosed(){this.showHowToPlayDialog=!1}startTutorial(){let e=di.find(i=>i.id==="tutorial");if(e){let i=this.parser.parse(e.topologyString,e.starImage,e.starGlowColor);this.gameState.initializeGame(i,!1,e.id,e.name),this.tutorialService.startTutorial()}}get isTutorialActive(){return this.tutorialService.isActive()}onEinsteinLinkClick(){this.analytics.trackEinsteinLinkClicked()}static{this.\u0275fac=function(i){return new(i||t)(P(ht),P(sr),P(tt),P(Nn))}}static{this.\u0275cmp=fe({type:t,selectors:[["app-game-board"]],standalone:!0,features:[he],decls:7,vars:5,consts:[["class","game-board",4,"ngIf"],[3,"topologySelected","closed",4,"ngIf"],[3,"closed",4,"ngIf"],[1,"game-board"],[1,"game-header"],[1,"game-info"],[1,"tutorial-btn",3,"click"],[1,"how-to-play-btn",3,"click"],[1,"undo-redo-buttons"],[1,"new-game-btn",3,"click","disabled"],[1,"undo-btn",3,"click","disabled"],[1,"redo-btn",3,"click","disabled"],[2,"color","rgb(156, 34, 34)"],["href","https://pagine.dm.unipi.it/conti/#/research?paper=17",2,"color","inherit",3,"click"],[1,"game-content"],[1,"solar-system"],[1,"phase-info"],[3,"topologySelected","closed"],[3,"closed"]],template:function(i,r){i&1&&(I(0,PT,38,8,"div",0),Dn(1,"async"),I(2,AT,1,0,"app-topology-selection-dialog",1)(3,OT,1,0,"app-how-to-play-dialog",2),y(4,"app-game-overlay")(5,"app-notification-banner")(6,"app-tutorial-overlay")),i&2&&(b("ngIf",xn(1,3,r.state$)),g(2),b("ngIf",r.showTopologyDialog),g(),b("ngIf",r.showHowToPlayDialog))},dependencies:[ve,Se,Qs,$0,B0,H0,U0,G0,z0,W0],styles:[".game-board[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;padding:20px}.game-header[_ngcontent-%COMP%]{margin-bottom:20px;display:flex;justify-content:space-between;align-items:center}.game-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#fbbf24;font-size:2rem}.game-header[_ngcontent-%COMP%]   .game-info[_ngcontent-%COMP%]{display:flex;gap:20px;color:#e2e8f0;flex:1;margin-left:40px}.game-header[_ngcontent-%COMP%]   .game-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:8px 16px;background:#8b5cf633;border-radius:6px;font-weight:600;border:1px solid rgba(139,92,246,.3)}.game-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#af8210;font-size:1rem}.game-header[_ngcontent-%COMP%]   .undo-redo-buttons[_ngcontent-%COMP%]{display:flex;gap:10px}.game-header[_ngcontent-%COMP%]   .undo-redo-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0;padding:8px 16px;border:none;border-radius:6px;font-weight:600;cursor:pointer;transition:all .2s ease}.game-header[_ngcontent-%COMP%]   .undo-redo-buttons[_ngcontent-%COMP%]   button.new-game-btn[_ngcontent-%COMP%]{background:#10b981;color:#fff}.game-header[_ngcontent-%COMP%]   .undo-redo-buttons[_ngcontent-%COMP%]   button.new-game-btn[_ngcontent-%COMP%]:hover{background:#059669;transform:translateY(-1px)}.game-header[_ngcontent-%COMP%]   .undo-redo-buttons[_ngcontent-%COMP%]   button.new-game-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.game-header[_ngcontent-%COMP%]   .undo-redo-buttons[_ngcontent-%COMP%]   button.how-to-play-btn[_ngcontent-%COMP%]{background:#fbbf24;color:#1e293b}.game-header[_ngcontent-%COMP%]   .undo-redo-buttons[_ngcontent-%COMP%]   button.how-to-play-btn[_ngcontent-%COMP%]:hover{background:#f59e0b;transform:translateY(-1px)}.game-header[_ngcontent-%COMP%]   .undo-redo-buttons[_ngcontent-%COMP%]   button.how-to-play-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.game-header[_ngcontent-%COMP%]   .undo-redo-buttons[_ngcontent-%COMP%]   button.undo-btn[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.game-header[_ngcontent-%COMP%]   .undo-redo-buttons[_ngcontent-%COMP%]   button.undo-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#2563eb;transform:translateY(-1px)}.game-header[_ngcontent-%COMP%]   .undo-redo-buttons[_ngcontent-%COMP%]   button.undo-btn[_ngcontent-%COMP%]:disabled{background:#475569;opacity:.5;cursor:not-allowed}.game-header[_ngcontent-%COMP%]   .undo-redo-buttons[_ngcontent-%COMP%]   button.redo-btn[_ngcontent-%COMP%]{background:#8b5cf6;color:#fff}.game-header[_ngcontent-%COMP%]   .undo-redo-buttons[_ngcontent-%COMP%]   button.redo-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#7c3aed;transform:translateY(-1px)}.game-header[_ngcontent-%COMP%]   .undo-redo-buttons[_ngcontent-%COMP%]   button.redo-btn[_ngcontent-%COMP%]:disabled{background:#475569;opacity:.5;cursor:not-allowed}.game-content[_ngcontent-%COMP%]{flex:1;min-height:0;display:flex;gap:20px}.solar-system[_ngcontent-%COMP%]{flex:1;min-width:0;background:#1e293b66;border:1px solid rgba(139,92,246,.2);border-radius:12px;padding:20px;box-shadow:0 4px 6px #0000004d;box-sizing:border-box}.phase-info[_ngcontent-%COMP%]{width:500px;min-width:500px;flex-shrink:0;display:flex;align-items:flex-start}.phase-info[_ngcontent-%COMP%]   app-phase-indicator[_ngcontent-%COMP%]{width:100%;display:block}@media (max-width: 768px){.game-board[_ngcontent-%COMP%]{padding:10px}.game-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:10px;margin-bottom:10px}.game-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem}.game-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center}.game-header[_ngcontent-%COMP%]   .game-info[_ngcontent-%COMP%]{margin-left:0;justify-content:center;flex:initial}.game-header[_ngcontent-%COMP%]   .undo-redo-buttons[_ngcontent-%COMP%]{justify-content:center;flex-wrap:wrap}.game-content[_ngcontent-%COMP%]{flex-direction:column;gap:10px}.solar-system[_ngcontent-%COMP%]{padding:10px}.phase-info[_ngcontent-%COMP%]{width:100%;min-width:initial;order:1}}.debug-info[_ngcontent-%COMP%]{color:#ccc;font-size:12px}.debug-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:10px 0 5px}.debug-info[_ngcontent-%COMP%]   .planet-info[_ngcontent-%COMP%], .debug-info[_ngcontent-%COMP%]   .station-info[_ngcontent-%COMP%]{padding:5px;margin:2px 0;background:#0003;border-radius:3px}button[_ngcontent-%COMP%]{margin:5px;padding:8px 16px;border:none;border-radius:4px;background:#3f51b5;color:#fff;cursor:pointer}button[_ngcontent-%COMP%]:hover:not(:disabled){background:#303f9f}button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}"]})}}return t})();var Y0=(()=>{class t{constructor(){this.title="equilibrium"}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=fe({type:t,selectors:[["app-root"]],standalone:!0,features:[he],decls:1,vars:0,template:function(i,r){i&1&&y(0,"app-game-board")},dependencies:[q0]})}}return t})();Bm(Y0,i0).catch(t=>console.error(t));
